var WTIElement=(function(gs){"use strict";const cm=(e,t)=>e===t,mn=Symbol("solid-proxy"),Po=Symbol("solid-track"),ys={equals:cm};let xr=null,lc=mc;const Ut=1,bs=2,cc={owned:null,cleanups:null,context:null,owner:null};var be=null;let Lo=null,um=null,Ce=null,Ye=null,St=null,vs=0;function Sr(e,t){const n=Ce,r=be,s=e.length===0,i=t===void 0?r:t,o=s?cc:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>pt(()=>_r(o)));be=o,Ce=null;try{return gn(a,!0)}finally{Ce=n,be=r}}function X(e,t){t=t?Object.assign({},ys,t):ys;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),pc(n,s));return[hc.bind(n),r]}function ee(e,t,n){const r=ws(e,t,!1,Ut);Er(r)}function Qe(e,t,n){lc=ym;const r=ws(e,t,!1,Ut);(!n||!n.render)&&(r.user=!0),St?St.push(r):Er(r)}function ye(e,t,n){n=n?Object.assign({},ys,n):ys;const r=ws(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Er(r),hc.bind(r)}function dm(e){return gn(e,!1)}function pt(e){if(Ce===null)return e();const t=Ce;Ce=null;try{return e()}finally{Ce=t}}function an(e){Qe(()=>pt(e))}function He(e){return be===null||(be.cleanups===null?be.cleanups=[e]:be.cleanups.push(e)),e}function fm(e,t){xr||(xr=Symbol("error")),be=ws(void 0,void 0,!0),be.context={...be.context,[xr]:[t]};try{return e()}catch(n){$r(n)}finally{be=be.owner}}function Ro(){return Ce}function hm(){return be}function pm(e,t){const n=be,r=Ce;be=e,Ce=null;try{return gn(t,!0)}catch(s){$r(s)}finally{be=n,Ce=r}}function uc(e,t){const n=Symbol("context");return{id:n,Provider:vm(n),defaultValue:e}}function dc(e){let t;return be&&be.context&&(t=be.context[e.id])!==void 0?t:e.defaultValue}function fc(e){const t=ye(e),n=ye(()=>Do(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function hc(){if(this.sources&&this.state)if(this.state===Ut)Er(this);else{const e=Ye;Ye=null,gn(()=>xs(this),!1),Ye=e}if(Ce){const e=this.observers?this.observers.length:0;Ce.sources?(Ce.sources.push(this),Ce.sourceSlots.push(e)):(Ce.sources=[this],Ce.sourceSlots=[e]),this.observers?(this.observers.push(Ce),this.observerSlots.push(Ce.sources.length-1)):(this.observers=[Ce],this.observerSlots=[Ce.sources.length-1])}return this.value}function pc(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&gn(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=Lo&&Lo.running;o&&Lo.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?Ye.push(i):St.push(i),i.observers&&gc(i)),o||(i.state=Ut)}if(Ye.length>1e6)throw Ye=[],new Error},!1)),t}function Er(e){if(!e.fn)return;_r(e);const t=vs;mm(e,e.value,t)}function mm(e,t,n){let r;const s=be,i=Ce;Ce=be=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=Ut,e.owned&&e.owned.forEach(_r),e.owned=null),e.updatedAt=n+1,$r(o)}finally{Ce=i,be=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?pc(e,r):e.value=r,e.updatedAt=n)}function ws(e,t,n,r=Ut,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:be,context:be?be.context:null,pure:n};return be===null||be!==cc&&(be.owned?be.owned.push(i):be.owned=[i]),i}function ks(e){if(e.state===0)return;if(e.state===bs)return xs(e);if(e.suspense&&pt(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<vs);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Ut)Er(e);else if(e.state===bs){const r=Ye;Ye=null,gn(()=>xs(e,t[0]),!1),Ye=r}}function gn(e,t){if(Ye)return e();let n=!1;t||(Ye=[]),St?n=!0:St=[],vs++;try{const r=e();return gm(n),r}catch(r){n||(St=null),Ye=null,$r(r)}}function gm(e){if(Ye&&(mc(Ye),Ye=null),e)return;const t=St;St=null,t.length&&gn(()=>lc(t),!1)}function mc(e){for(let t=0;t<e.length;t++)ks(e[t])}function ym(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ks(r)}for(t=0;t<n;t++)ks(e[t])}function xs(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===Ut?r!==t&&(!r.updatedAt||r.updatedAt<vs)&&ks(r):s===bs&&xs(r,t)}}}function gc(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=bs,n.pure?Ye.push(n):St.push(n),n.observers&&gc(n))}}function _r(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)_r(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)_r(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bm(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function yc(e,t,n){try{for(const r of t)r(e)}catch(r){$r(r,n&&n.owner||null)}}function $r(e,t=be){const n=xr&&t&&t.context&&t.context[xr],r=bm(e);if(!n)throw r;St?St.push({fn(){yc(r,n,t)},state:Ut}):yc(r,n,t)}function Do(e){if(typeof e=="function"&&!e.length)return Do(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Do(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function vm(e,t){return function(r){let s;return ee(()=>s=pt(()=>(be.context={...be.context,[e]:r.value},fc(()=>r.children))),void 0),s}}const wm=Symbol("fallback");function bc(e){for(let t=0;t<e.length;t++)e[t]()}function km(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return He(()=>bc(i)),()=>{let l=e()||[],c=l.length,u,d;return l[Po],pt(()=>{let m,b,g,p,w,h,y,k,v;if(c===0)o!==0&&(bc(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[wm],s[0]=Sr(x=>(i[0]=x,n.fallback())),o=1);else if(o===0){for(s=new Array(c),d=0;d<c;d++)r[d]=l[d],s[d]=Sr(f);o=c}else{for(g=new Array(c),p=new Array(c),a&&(w=new Array(c)),h=0,y=Math.min(o,c);h<y&&r[h]===l[h];h++);for(y=o-1,k=c-1;y>=h&&k>=h&&r[y]===l[k];y--,k--)g[k]=s[y],p[k]=i[y],a&&(w[k]=a[y]);for(m=new Map,b=new Array(k+1),d=k;d>=h;d--)v=l[d],u=m.get(v),b[d]=u===void 0?-1:u,m.set(v,d);for(u=h;u<=y;u++)v=r[u],d=m.get(v),d!==void 0&&d!==-1?(g[d]=s[u],p[d]=i[u],a&&(w[d]=a[u]),d=b[d],m.set(v,d)):i[u]();for(d=h;d<c;d++)d in g?(s[d]=g[d],i[d]=p[d],a&&(a[d]=w[d],a[d](d))):s[d]=Sr(f);s=s.slice(0,o=c),r=l.slice(0)}return s});function f(m){if(i[d]=m,a){const[b,g]=X(d);return a[d]=g,t(l[d],b)}return t(l[d])}}}function A(e,t){return pt(()=>e(t||{}))}const vc=e=>`Stale read from <${e}>.`;function Te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ye(km(()=>e.each,e.children,t||void 0))}function K(e){const t=e.keyed,n=ye(()=>e.when,void 0,void 0),r=t?n:ye(n,void 0,{equals:(s,i)=>!s==!i});return ye(()=>{const s=r();if(s){const i=e.children;return typeof i=="function"&&i.length>0?pt(()=>i(t?s:()=>{if(!pt(r))throw vc("Show");return n()})):i}return e.fallback},void 0,void 0)}function wc(e){const t=fc(()=>e.children),n=ye(()=>{const r=t(),s=Array.isArray(r)?r:[r];let i=()=>{};for(let o=0;o<s.length;o++){const a=o,l=s[o],c=i,u=ye(()=>c()?void 0:l.when,void 0,void 0),d=l.keyed?u:ye(u,void 0,{equals:(f,m)=>!f==!m});i=()=>c()||(d()?[a,u,l]:void 0)}return i});return ye(()=>{const r=n()();if(!r)return e.fallback;const[s,i,o]=r,a=o.children;return typeof a=="function"&&a.length>0?pt(()=>a(o.keyed?i():()=>{if(pt(n)()?.[0]!==s)throw vc("Match");return i()})):a},void 0,void 0)}function Rt(e){return e}let Ss;function xm(e){let t;const[n,r]=X(t,void 0);return Ss||(Ss=new Set),Ss.add(r),He(()=>Ss.delete(r)),ye(()=>{let s;if(s=n()){const i=e.fallback;return typeof i=="function"&&i.length?pt(()=>i(s,()=>r())):i}return fm(()=>e.children,r)},void 0,void 0)}const Oe=e=>ye(()=>e());function Sm(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,l=t[s-1].nextSibling,c=null;for(;o<s||a<i;){if(t[o]===n[a]){o++,a++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const u=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)e.insertBefore(n[a++],u)}else if(i===a)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const u=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],u),t[s]=n[i]}else{if(!c){c=new Map;let d=a;for(;d<i;)c.set(n[d],d++)}const u=c.get(t[o]);if(u!=null)if(a<u&&u<i){let d=o,f=1,m;for(;++d<s&&d<i&&!((m=c.get(t[d]))==null||m!==u+f);)f++;if(f>u-a){const b=t[o];for(;a<u;)e.insertBefore(n[a++],b)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const kc="_$DX_DELEGATE";function L(e,t,n,r){let s;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function he(e,t=window.document){const n=t[kc]||(t[kc]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Em))}}function ae(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function se(e,t){t==null?e.removeAttribute("class"):e.className=t}function ut(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function xc(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Bn(e,t,n){return pt(()=>e(t,n))}function $(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Es(e,t,r,n);ee(s=>Es(e,t(),s,n),r)}function Em(e){let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),o=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!o());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===s)break}}else a();i(r)}function Es(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Fn(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=Fn(e,n,r);else{if(i==="function")return ee(()=>{let a=t();for(;typeof a=="function";)a=a();n=Es(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(Mo(a,t,n,s))return ee(()=>n=Es(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Fn(e,n,r),o)return n}else l?n.length===0?Sc(e,a,r):Sm(e,n,a):(n&&Fn(e),Sc(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=Fn(e,n,r,t);Fn(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Mo(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let a=t[i],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=Mo(e,a,l)||s;else if(c==="function")if(r){for(;typeof a=="function";)a=a();s=Mo(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else e.push(a),s=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return s}function Sc(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function Fn(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(s!==a){const l=a.parentNode===e;!i&&!o?l?e.replaceChild(s,a):e.insertBefore(s,n):l&&a.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const _m="http://www.w3.org/2000/svg";function $m(e,t=!1,n=void 0){return t?document.createElementNS(_m,e):document.createElement(e,{is:n})}function Ec(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,s=hm();let i;return Qe(()=>{i||(i=pm(s,()=>ye(()=>e.children)));const o=r();if(o instanceof HTMLHeadElement){const[a,l]=X(!1),c=()=>l(!0);Sr(u=>$(o,()=>a()?u():i(),null)),He(c)}else{const a=$m(e.isSVG?"g":"div",e.isSVG),l=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),$(l,i),o.appendChild(a),e.ref&&e.ref(a),He(()=>o.removeChild(a))}},void 0,{render:!0}),n}const jo=Symbol("store-raw"),qn=Symbol("store-node"),Kt=Symbol("store-has"),_c=Symbol("store-self");function $c(e){let t=e[mn];if(!t&&(Object.defineProperty(e,mn,{value:t=new Proxy(e,Cm)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const o=n[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function _s(e){let t;return e!=null&&typeof e=="object"&&(e[mn]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Un(e,t=new Set){let n,r,s,i;if(n=e!=null&&e[jo])return n;if(!_s(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)s=e[o],(r=Un(s,t))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=o.length;l<c;l++)i=o[l],!a[i].get&&(s=e[i],(r=Un(s,t))!==s&&(e[i]=r))}return e}function $s(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ar(e,t,n){if(e[t])return e[t];const[r,s]=X(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function Am(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===mn||t===qn||(delete n.value,delete n.writable,n.get=()=>e[mn][t]),n}function Ac(e){Ro()&&Ar($s(e,qn),_c)()}function Tm(e){return Ac(e),Reflect.ownKeys(e)}const Cm={get(e,t,n){if(t===jo)return e;if(t===mn)return n;if(t===Po)return Ac(e),n;const r=$s(e,qn),s=r[t];let i=s?s():e[t];if(t===qn||t===Kt||t==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(e,t);Ro()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(i=Ar(r,t,i)())}return _s(i)?$c(i):i},has(e,t){return t===jo||t===mn||t===Po||t===qn||t===Kt||t==="__proto__"?!0:(Ro()&&Ar($s(e,Kt),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Tm,getOwnPropertyDescriptor:Am};function As(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[Kt]&&e[Kt][t]&&s!==void 0&&e[Kt][t].$()):(e[t]=n,e[Kt]&&e[Kt][t]&&s===void 0&&e[Kt][t].$());let o=$s(e,qn),a;if((a=Ar(o,t,s))&&a.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(a=o[l])&&a.$();(a=Ar(o,"length",i))&&a.$(e.length)}(a=o[_c])&&a.$()}function Tc(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];As(e,s,t[s])}}function Nm(e,t){if(typeof t=="function"&&(t=t(e)),t=Un(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&As(e,n,s)}As(e,"length",r)}else Tc(e,t)}function Tr(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Tr(e,[r[l]].concat(t),n);return}else if(a&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Tr(e,[l].concat(t),n);return}else if(a&&o==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)Tr(e,[d].concat(t),n);return}else if(t.length>1){Tr(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=Un(i),r===void 0||_s(s)&&_s(i)&&!Array.isArray(i)?Tc(s,i):As(e,r,i))}function Ts(...[e,t]){const n=Un(e||{}),r=Array.isArray(n),s=$c(n);function i(...o){dm(()=>{r&&o.length===1?Nm(n,o[0]):Tr(n,o)})}return[s,i]}const Bo=Symbol.for("yaml.alias"),Fo=Symbol.for("yaml.document"),ln=Symbol.for("yaml.map"),Cc=Symbol.for("yaml.pair"),Dt=Symbol.for("yaml.scalar"),Kn=Symbol.for("yaml.seq"),mt=Symbol.for("yaml.node.type"),yn=e=>!!e&&typeof e=="object"&&e[mt]===Bo,Cs=e=>!!e&&typeof e=="object"&&e[mt]===Fo,Cr=e=>!!e&&typeof e=="object"&&e[mt]===ln,Ie=e=>!!e&&typeof e=="object"&&e[mt]===Cc,Ee=e=>!!e&&typeof e=="object"&&e[mt]===Dt,Nr=e=>!!e&&typeof e=="object"&&e[mt]===Kn;function Pe(e){if(e&&typeof e=="object")switch(e[mt]){case ln:case Kn:return!0}return!1}function Le(e){if(e&&typeof e=="object")switch(e[mt]){case Bo:case ln:case Dt:case Kn:return!0}return!1}const Nc=e=>(Ee(e)||Pe(e))&&!!e.anchor,bn=Symbol("break visit"),Om=Symbol("skip children"),Or=Symbol("remove node");function zn(e,t){const n=Im(t);Cs(e)?Vn(null,e.contents,n,Object.freeze([e]))===Or&&(e.contents=null):Vn(null,e,n,Object.freeze([]))}zn.BREAK=bn,zn.SKIP=Om,zn.REMOVE=Or;function Vn(e,t,n,r){const s=Pm(e,t,n,r);if(Le(s)||Ie(s))return Lm(e,r,s),Vn(e,s,n,r);if(typeof s!="symbol"){if(Pe(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=Vn(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===bn)return bn;o===Or&&(t.items.splice(i,1),i-=1)}}}else if(Ie(t)){r=Object.freeze(r.concat(t));const i=Vn("key",t.key,n,r);if(i===bn)return bn;i===Or&&(t.key=null);const o=Vn("value",t.value,n,r);if(o===bn)return bn;o===Or&&(t.value=null)}}return s}function Im(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Pm(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(Cr(t))return n.Map?.(e,t,r);if(Nr(t))return n.Seq?.(e,t,r);if(Ie(t))return n.Pair?.(e,t,r);if(Ee(t))return n.Scalar?.(e,t,r);if(yn(t))return n.Alias?.(e,t,r)}function Lm(e,t,n){const r=t[t.length-1];if(Pe(r))r.items[e]=n;else if(Ie(r))e==="key"?r.key=n:r.value=n;else if(Cs(r))r.contents=n;else{const s=yn(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Rm={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Dm=e=>e.replace(/[!,[\]{}]/g,t=>Rm[t]);class Xe{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Xe.defaultYaml,t),this.tags=Object.assign({},Xe.defaultTags,n)}clone(){const t=new Xe(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Xe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Xe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Xe.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Xe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Xe.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Dm(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&Le(t.contents)){const i={};zn(t.contents,(o,a)=>{Le(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Xe.defaultYaml={explicit:!1,version:"1.2"},Xe.defaultTags={"!!":"tag:yaml.org,2002:"};function Oc(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function Ic(e){const t=new Set;return zn(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Pc(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Mm(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=Ic(e));const o=Pc(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(Ee(o.node)||Pe(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function Hn(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=Hn(e,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=Hn(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=Hn(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=Hn(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function gt(e,t,n){if(Array.isArray(e))return e.map((r,s)=>gt(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!Nc(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!n?.keep?Number(e):e}class qo{constructor(t){Object.defineProperty(this,mt,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Cs(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=gt(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof i=="function"?Hn(i,{"":a},"",a):a}}class Uo extends qo{constructor(t){super(Bo),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],zn(t,{Node:(i,o)=>{(yn(o)||Nc(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(gt(o,null,n),a=r.get(o)),a?.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Ns(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(Oc(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function Ns(e,t,n){if(yn(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Pe(t)){let r=0;for(const s of t.items){const i=Ns(e,s,n);i>r&&(r=i)}return r}else if(Ie(t)){const r=Ns(e,t.key,n),s=Ns(e,t.value,n);return Math.max(r,s)}return 1}const Lc=e=>!e||typeof e!="function"&&typeof e!="object";class ue extends qo{constructor(t){super(Dt),this.value=t}toJSON(t,n){return n?.keep?this.value:gt(this.value,t,n)}toString(){return String(this.value)}}ue.BLOCK_FOLDED="BLOCK_FOLDED",ue.BLOCK_LITERAL="BLOCK_LITERAL",ue.PLAIN="PLAIN",ue.QUOTE_DOUBLE="QUOTE_DOUBLE",ue.QUOTE_SINGLE="QUOTE_SINGLE";const jm="tag:yaml.org,2002:";function Bm(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>r.identify?.(e)&&!r.format)}function Ir(e,t,n){if(Cs(e)&&(e=e.contents),Le(e))return e;if(Ie(e)){const d=n.schema[ln].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=s(e)),new Uo(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=jm+t.slice(2));let c=Bm(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new ue(e);return l&&(l.node=d),d}c=e instanceof Map?o[ln]:Symbol.iterator in Object(e)?o[Kn]:o[ln]}i&&(i(c),delete n.onTagObj);const u=c?.createNode?c.createNode(n.schema,e,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,e,n):new ue(e);return t?u.tag=t:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Os(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return Ir(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Pr=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Rc extends qo{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Le(r)||Ie(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Pr(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(Pe(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Os(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Pe(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&Ee(i)?i.value:i:Pe(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Ie(n))return!1;const r=n.value;return r==null||t&&Ee(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Pe(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Pe(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Os(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const Fm=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function zt(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const vn=(e,t,n)=>e.endsWith(`
`)?zt(n,t):n.includes(`
`)?`
`+zt(n,t):(e.endsWith(" ")?"":" ")+n,Dc="flow",Ko="block",Is="quoted";function Ps(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return e;s<i&&(i=0);const l=Math.max(1+i,1+s-t.length);if(e.length<=l)return e;const c=[],u={};let d=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?c.push(0):d=s-r);let f,m,b=!1,g=-1,p=-1,w=-1;n===Ko&&(g=Mc(e,g,t.length),g!==-1&&(d=g+l));for(let y;y=e[g+=1];){if(n===Is&&y==="\\"){switch(p=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}w=g}if(y===`
`)n===Ko&&(g=Mc(e,g,t.length)),d=g+t.length+l,f=void 0;else{if(y===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const k=e[g+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(f=g)}if(g>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===Is){for(;m===" "||m==="	";)m=y,y=e[g+=1],b=!0;const k=g>w+1?g-2:p-1;if(u[k])return e;c.push(k),u[k]=!0,d=k+l,f=void 0}else b=!0}m=y}if(b&&a&&a(),c.length===0)return e;o&&o();let h=e.slice(0,c[0]);for(let y=0;y<c.length;++y){const k=c[y],v=c[y+1]||e.length;k===0?h=`
${t}${e.slice(0,v)}`:(n===Is&&u[k]&&(h+=`${e[k]}\\`),h+=`
${t}${e.slice(k+1,v)}`)}return h}function Mc(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const Ls=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Rs=e=>/^(%|---|\.\.\.)/m.test(e);function qm(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Lr(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(Rs(e)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:Ps(o,i,Is,Ls(t,!1))}function zo(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Lr(e,t);const n=t.indent||(Rs(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Ps(r,n,Dc,Ls(t,!1))}function Gn(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Lr;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=zo:i&&!s?r=Lr:r=n?zo:Lr}return r(e,t)}let Vo;try{Vo=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Vo=/\n+(?!\n|$)/g}function Ds({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return Gn(n,r);const c=r.indent||(r.forceBlockIndent||Rs(n)?"  ":""),u=o==="literal"?!0:o==="folded"||t===ue.BLOCK_FOLDED?!1:t===ue.BLOCK_LITERAL?!0:!qm(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const v=n[f-1];if(v!==`
`&&v!=="	"&&v!==" ")break}let m=n.substring(f);const b=m.indexOf(`
`);b===-1?d="-":n===m||b!==m.length-1?(d="+",i&&i()):d="",m&&(n=n.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(Vo,`$&${c}`));let g=!1,p,w=-1;for(p=0;p<n.length;++p){const v=n[p];if(v===" ")g=!0;else if(v===`
`)w=p;else break}let h=n.substring(0,w<p?w+1:p);h&&(n=n.substring(h.length),h=h.replace(/\n+/g,`$&${c}`));let k=(g?c?"2":"1":"")+d;if(e&&(k+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),!u){const v=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let x=!1;const S=Ls(r,!0);o!=="folded"&&t!==ue.BLOCK_FOLDED&&(S.onOverflow=()=>{x=!0});const E=Ps(`${h}${v}${m}`,c,Ko,S);if(!x)return`>${k}
${c}${E}`}return n=n.replace(/\n+/g,`$&${c}`),`|${k}
${c}${h}${n}${m}`}function Um(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=t;if(a&&i.includes(`
`)||u&&/[[\]{},]/.test(i))return Gn(i,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
`)?Gn(i,t):Ds(e,t,n,r);if(!a&&!u&&s!==ue.PLAIN&&i.includes(`
`))return Ds(e,t,n,r);if(Rs(i)){if(l==="")return t.forceBlockIndent=!0,Ds(e,t,n,r);if(a&&l===c)return Gn(i,t)}const d=i.replace(/\n+/g,`$&
${l}`);if(o){const f=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(d),{compat:m,tags:b}=t.doc.schema;if(b.some(f)||m?.some(f))return Gn(i,t)}return a?d:Ps(d,l,Dc,Ls(t,!1))}function Ho(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==ue.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=ue.QUOTE_DOUBLE);const l=u=>{switch(u){case ue.BLOCK_FOLDED:case ue.BLOCK_LITERAL:return s||i?Gn(o.value,t):Ds(o,t,n,r);case ue.QUOTE_DOUBLE:return Lr(o.value,t);case ue.QUOTE_SINGLE:return zo(o.value,t);case ue.PLAIN:return Um(o,t,n,r);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=t.options,f=s&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function jc(e,t){const n=Object.assign({blockQuote:!0,commentString:Fm,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Km(e,t){if(t.tag){const s=e.filter(i=>i.tag===t.tag);if(s.length>0)return s.find(i=>i.format===t.format)??s[0]}let n,r;if(Ee(t)){r=t.value;let s=e.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===t.format)??s.find(i=>!i.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function zm(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(Ee(e)||Pe(e))&&e.anchor;i&&Oc(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag??(t.default?null:t.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function Wn(e,t,n,r){if(Ie(e))return e.toString(t,n,r);if(yn(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=Le(e)?e:t.doc.createNode(e,{onTagObj:l=>s=l});s??(s=Km(t.doc.schema.tags,i));const o=zm(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,t,n,r):Ee(i)?Ho(i,t,n,r):i.toString(t,n,r);return o?Ee(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function Vm({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=Le(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Pe(e)||!Le(e)&&typeof e=="object"){const S="With simple keys, collection cannot be used as a key value";throw new Error(S)}}let m=!d&&(!e||f&&t==null&&!n.inFlow||Pe(e)||(Ee(e)?e.type===ue.BLOCK_FOLDED||e.type===ue.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!m&&(d||!i),indent:a+l});let b=!1,g=!1,p=Wn(e,n,()=>b=!0,()=>g=!0);if(!m&&!n.inFlow&&p.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(n.inFlow){if(i||t==null)return b&&r&&r(),p===""?"?":m?`? ${p}`:p}else if(i&&!d||t==null&&m)return p=`? ${p}`,f&&!b?p+=vn(p,n.indent,c(f)):g&&s&&s(),p;b&&(f=null),m?(f&&(p+=vn(p,n.indent,c(f))),p=`? ${p}
${a}:`):(p=`${p}:`,f&&(p+=vn(p,n.indent,c(f))));let w,h,y;Le(t)?(w=!!t.spaceBefore,h=t.commentBefore,y=t.comment):(w=!1,h=null,y=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!m&&!f&&Ee(t)&&(n.indentAtStart=p.length+1),g=!1,!u&&l.length>=2&&!n.inFlow&&!m&&Nr(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let k=!1;const v=Wn(t,n,()=>k=!0,()=>g=!0);let x=" ";if(f||w||h){if(x=w?`
`:"",h){const S=c(h);x+=`
${zt(S,n.indent)}`}v===""&&!n.inFlow?x===`
`&&y&&(x=`

`):x+=`
${n.indent}`}else if(!m&&Pe(t)){const S=v[0],E=v.indexOf(`
`),C=E!==-1,M=n.inFlow??t.flow??t.items.length===0;if(C||!M){let j=!1;if(C&&(S==="&"||S==="!")){let D=v.indexOf(" ");S==="&"&&D!==-1&&D<E&&v[D+1]==="!"&&(D=v.indexOf(" ",D+1)),(D===-1||E<D)&&(j=!0)}j||(x=`
${n.indent}`)}}else(v===""||v[0]===`
`)&&(x="");return p+=x+v,n.inFlow?k&&r&&r():y&&!k?p+=vn(p,n.indent,c(y)):g&&s&&s(),p}function Bc(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const Ms="<<",Vt={identify:e=>e===Ms||typeof e=="symbol"&&e.description===Ms,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new ue(Symbol(Ms)),{addToJSMap:Fc}),stringify:()=>Ms},Hm=(e,t)=>(Vt.identify(t)||Ee(t)&&(!t.type||t.type===ue.PLAIN)&&Vt.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===Vt.tag&&n.default);function Fc(e,t,n){if(n=e&&yn(n)?n.resolve(e.doc):n,Nr(n))for(const r of n.items)Go(e,t,r);else if(Array.isArray(n))for(const r of n)Go(e,t,r);else Go(e,t,n)}function Go(e,t,n){const r=e&&yn(n)?n.resolve(e.doc):n;if(!Cr(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function qc(e,t,{key:n,value:r}){if(Le(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(Hm(e,n))Fc(e,t,r);else{const s=gt(n,"",e);if(t instanceof Map)t.set(s,gt(r,s,e));else if(t instanceof Set)t.add(s);else{const i=Gm(n,s,e),o=gt(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function Gm(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Le(e)&&n?.doc){const r=jc(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Bc(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Wo(e,t,n){const r=Ir(e,void 0,n),s=Ir(t,void 0,n);return new Ze(r,s)}class Ze{constructor(t,n=null){Object.defineProperty(this,mt,{value:Cc}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Le(n)&&(n=n.clone(t)),Le(r)&&(r=r.clone(t)),new Ze(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return qc(n,r,this)}toString(t,n,r){return t?.doc?Vm(this,t,n,r):JSON.stringify(this)}}function Uc(e,t,n){return(t.inFlow??e.flow?Jm:Wm)(e,t,n)}function Wm({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let b=0;b<t.length;++b){const g=t[b];let p=null;if(Le(g))!d&&g.spaceBefore&&f.push(""),js(n,f,g.commentBefore,d),g.comment&&(p=g.comment);else if(Ie(g)){const h=Le(g.key)?g.key:null;h&&(!d&&h.spaceBefore&&f.push(""),js(n,f,h.commentBefore,d))}d=!1;let w=Wn(g,u,()=>p=null,()=>d=!0);p&&(w+=vn(w,i,c(p))),d&&p&&(d=!1),f.push(r+w)}let m;if(f.length===0)m=s.start+s.end;else{m=f[0];for(let b=1;b<f.length;++b){const g=f[b];m+=g?`
${l}${g}`:`
`}}return e?(m+=`
`+zt(c(e),l),a&&a()):d&&o&&o(),m}function Jm({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=t;r+=i;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let b=0;b<e.length;++b){const g=e[b];let p=null;if(Le(g))g.spaceBefore&&d.push(""),js(t,d,g.commentBefore,!1),g.comment&&(p=g.comment);else if(Ie(g)){const h=Le(g.key)?g.key:null;h&&(h.spaceBefore&&d.push(""),js(t,d,h.commentBefore,!1),h.comment&&(c=!0));const y=Le(g.value)?g.value:null;y?(y.comment&&(p=y.comment),y.commentBefore&&(c=!0)):g.value==null&&h?.comment&&(p=h.comment)}p&&(c=!0);let w=Wn(g,l,()=>p=null);b<e.length-1&&(w+=","),p&&(w+=vn(w,r,a(p))),!c&&(d.length>u||w.includes(`
`))&&(c=!0),d.push(w),u=d.length}const{start:f,end:m}=n;if(d.length===0)return f+m;if(!c){const b=d.reduce((g,p)=>g+p.length+2,2);c=t.options.lineWidth>0&&b>t.options.lineWidth}if(c){let b=f;for(const g of d)b+=g?`
${i}${s}${g}`:`
`;return`${b}
${s}${m}`}else return`${f}${o}${d.join(" ")}${o}${m}`}function js({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=zt(t(r),e);n.push(i.trimStart())}}function wn(e,t){const n=Ee(t)?t.value:t;for(const r of e)if(Ie(r)&&(r.key===t||r.key===n||Ee(r.key)&&r.key.value===n))return r}class yt extends Rc{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(ln,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||s)&&o.items.push(Wo(l,c,r))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){let r;Ie(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Ze(t,t?.value):r=new Ze(t.key,t.value);const s=wn(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);Ee(s.value)&&Lc(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(t){const n=wn(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const s=wn(this.items,t)?.value;return(!n&&Ee(s)?s.value:s)??void 0}has(t){return!!wn(this.items,t)}set(t,n){this.add(new Ze(t,n),!0)}toJSON(t,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)qc(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!Ie(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Uc(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Jn={collection:"map",default:!0,nodeClass:yt,tag:"tag:yaml.org,2002:map",resolve(e,t){return Cr(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>yt.from(e,t,n)};class kn extends Rc{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Kn,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Bs(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Bs(t);if(typeof r!="number")return;const s=this.items[r];return!n&&Ee(s)?s.value:s}has(t){const n=Bs(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Bs(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];Ee(s)&&Lc(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(gt(i,String(s++),n));return r}toString(t,n,r){return t?Uc(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(Ir(a,void 0,r))}}return i}}function Bs(e){let t=Ee(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Yn={collection:"seq",default:!0,nodeClass:kn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Nr(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>kn.from(e,t,n)},Fs={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Ho(e,t,n,r)}},qs={identify:e=>e==null,createNode:()=>new ue(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ue(null),stringify:({source:e},t)=>typeof e=="string"&&qs.test.test(e)?e:t.options.nullStr},Jo={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ue(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Jo.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Et({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=Object.is(r,-0)?"-0":JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=t-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const Kc={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Et},zc={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Et(e)}},Vc={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new ue(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Et},Us=e=>typeof e=="bigint"||Number.isInteger(e),Yo=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Hc(e,t,n){const{value:r}=e;return Us(r)&&r>=0?n+r.toString(t):Et(e)}const Gc={identify:e=>Us(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Yo(e,2,8,n),stringify:e=>Hc(e,8,"0o")},Wc={identify:Us,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Yo(e,0,10,n),stringify:Et},Jc={identify:e=>Us(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Yo(e,2,16,n),stringify:e=>Hc(e,16,"0x")},Ym=[Jn,Yn,Fs,qs,Jo,Gc,Wc,Jc,Kc,zc,Vc];function Yc(e){return typeof e=="bigint"||Number.isInteger(e)}const Ks=({value:e})=>JSON.stringify(e),Qm=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Ks},{identify:e=>e==null,createNode:()=>new ue(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ks},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Ks},{identify:Yc,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Yc(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ks}],Xm={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Zm=[Jn,Yn].concat(Qm,Xm),Qo={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=ue.BLOCK_LITERAL),t!==ue.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=a.substr(f,l);a=u.join(t===ue.BLOCK_LITERAL?`
`:" ")}return Ho({comment:e,type:t,value:a},r,s,i)}};function Qc(e,t){if(Nr(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Ie(r)){if(Cr(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new Ze(new ue(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=Ie(r)?r:new Ze(r)}}else t("Expected a sequence for this tag");return e}function Xc(e,t,n){const{replacer:r}=n,s=new kn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(Wo(a,l,n))}return s}const Xo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Qc,createNode:Xc};class Qn extends kn{constructor(){super(),this.add=yt.prototype.add.bind(this),this.delete=yt.prototype.delete.bind(this),this.get=yt.prototype.get.bind(this),this.has=yt.prototype.has.bind(this),this.set=yt.prototype.set.bind(this),this.tag=Qn.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(Ie(s)?(i=gt(s.key,"",n),o=gt(s.value,i,n)):i=gt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=Xc(t,n,r),i=new this;return i.items=s.items,i}}Qn.tag="tag:yaml.org,2002:omap";const Zo={collection:"seq",identify:e=>e instanceof Map,nodeClass:Qn,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Qc(e,t),r=[];for(const{key:s}of n.items)Ee(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Qn,n)},createNode:(e,t,n)=>Qn.from(e,t,n)};function Zc({value:e,source:t},n){return t&&(e?eu:tu).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const eu={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ue(!0),stringify:Zc},tu={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new ue(!1),stringify:Zc},eg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Et},tg={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Et(e)}},ng={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new ue(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Et},Rr=e=>typeof e=="bigint"||Number.isInteger(e);function zs(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function ea(e,t,n){const{value:r}=e;if(Rr(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return Et(e)}const rg={identify:Rr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>zs(e,2,2,n),stringify:e=>ea(e,2,"0b")},sg={identify:Rr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>zs(e,1,8,n),stringify:e=>ea(e,8,"0")},ig={identify:Rr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>zs(e,0,10,n),stringify:Et},og={identify:Rr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>zs(e,2,16,n),stringify:e=>ea(e,16,"0x")};class Xn extends yt{constructor(t){super(t),this.tag=Xn.tag}add(t){let n;Ie(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Ze(t.key,null):n=new Ze(t,null),wn(this.items,n.key)||this.items.push(n)}get(t,n){const r=wn(this.items,t);return!n&&Ie(r)?Ee(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=wn(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ze(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Wo(o,null,r));return i}}Xn.tag="tag:yaml.org,2002:set";const ta={collection:"map",identify:e=>e instanceof Set,nodeClass:Xn,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Xn.from(e,t,n),resolve(e,t){if(Cr(e)){if(e.hasAllNullValues(!0))return Object.assign(new Xn,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function na(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function nu(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Et(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const ru={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>na(e,n),stringify:nu},su={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>na(e,!1),stringify:nu},Vs={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Vs.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const u=t[8];if(u&&u!=="Z"){let d=na(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},iu=[Jn,Yn,Fs,qs,eu,tu,rg,sg,ig,og,eg,tg,ng,Qo,Vt,Zo,Xo,ta,ru,su,Vs],ou=new Map([["core",Ym],["failsafe",[Jn,Yn,Fs]],["json",Zm],["yaml11",iu],["yaml-1.1",iu]]),au={binary:Qo,bool:Jo,float:Vc,floatExp:zc,floatNaN:Kc,floatTime:su,int:Wc,intHex:Jc,intOct:Gc,intTime:ru,map:Jn,merge:Vt,null:qs,omap:Zo,pairs:Xo,seq:Yn,set:ta,timestamp:Vs},ag={"tag:yaml.org,2002:binary":Qo,"tag:yaml.org,2002:merge":Vt,"tag:yaml.org,2002:omap":Zo,"tag:yaml.org,2002:pairs":Xo,"tag:yaml.org,2002:set":ta,"tag:yaml.org,2002:timestamp":Vs};function ra(e,t,n){const r=ou.get(t);if(r&&!e)return n&&!r.includes(Vt)?r.concat(Vt):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(ou.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(Vt)),s.reduce((i,o)=>{const a=typeof o=="string"?au[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(au).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const lg=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class sa{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?ra(t,"compat"):t?ra(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?ag:{},this.tags=ra(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,ln,{value:Jn}),Object.defineProperty(this,Dt,{value:Fs}),Object.defineProperty(this,Kn,{value:Yn}),this.sortMapEntries=typeof o=="function"?o:o===!0?lg:null}clone(){const t=Object.create(sa.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function cg(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=jc(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=i(e.commentBefore);n.unshift(zt(l,""))}let o=!1,a=null;if(e.contents){if(Le(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const u=i(e.contents.commentBefore);n.push(zt(u,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>o=!0;let c=Wn(e.contents,s,()=>a=null,l);a&&(c+=vn(c,"",i(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(Wn(e.contents,s));if(e.directives?.docEnd)if(e.comment){const l=i(e.comment);l.includes(`
`)?(n.push("..."),n.push(zt(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(zt(i(l),"")))}return n.join(`
`)+`
`}class Hs{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,mt,{value:Fo});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Xe({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Hs.prototype,{[mt]:{value:Fo}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Le(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Zn(this.contents)&&this.contents.add(t)}addIn(t,n){Zn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Ic(this);t.anchor=!n||r.has(n)?Pc(n||"a",r):n}return new Uo(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const p=h=>typeof h=="number"||h instanceof String||h instanceof Number,w=n.filter(p).map(String);w.length>0&&(n=n.concat(w)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:m}=Mm(this,o||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:m},g=Ir(t,u,b);return a&&Pe(g)&&(g.flow=!0),f(),g}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new Ze(s,i)}delete(t){return Zn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Pr(t)?this.contents==null?!1:(this.contents=null,!0):Zn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Pe(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Pr(t)?!n&&Ee(this.contents)?this.contents.value:this.contents:Pe(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Pe(this.contents)?this.contents.has(t):!1}hasIn(t){return Pr(t)?this.contents!==void 0:Pe(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Os(this.schema,[t],n):Zn(this.contents)&&this.contents.set(t,n)}setIn(t,n){Pr(t)?this.contents=n:this.contents==null?this.contents=Os(this.schema,Array.from(t),n):Zn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Xe({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Xe({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new sa(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=gt(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?Hn(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return cg(this,t)}}function Zn(e){if(Pe(e))return!0;throw new Error("Expected a YAML collection as document contents")}class lu extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class Dr extends lu{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class ug extends lu{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const cu=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o=""+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l?.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function er(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,d="",f="",m=!1,b=!1,g=null,p=null,w=null,h=null,y=null,k=null,v=null;for(const E of e)switch(b&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),g&&(c&&E.type!=="comment"&&E.type!=="newline"&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),E.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&E.source.includes("	")&&(g=E),u=!0;break;case"comment":{u||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const C=E.source.substring(1)||" ";d?d+=f+C:d=C,f="",c=!1;break}case"newline":c?d?d+=E.source:(!k||n!=="seq-item-ind")&&(l=!0):f+=E.source,c=!0,m=!0,(p||w)&&(h=E),u=!0;break;case"anchor":p&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=E,v??(v=E.offset),c=!1,u=!1,b=!0;break;case"tag":{w&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),w=E,v??(v=E.offset),c=!1,u=!1,b=!0;break}case n:(p||w)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),k&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${t??"collection"}`),k=E,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(t){y&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=E,c=!1,u=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),c=!1,u=!1}const x=e[e.length-1],S=x?x.offset+x.source.length:s;return b&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(c&&g.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:y,found:k,spaceBefore:l,comment:d,hasNewline:m,anchor:p,tag:w,newlineAfterProp:h,end:S,start:v??S}}function Mr(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(Mr(t.key)||Mr(t.value))return!0}return!1;default:return!0}}function ia(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&Mr(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function uu(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||Ee(i)&&Ee(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const du="All mapping items must start at the same column";function dg({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=i?.nodeClass??yt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const u of r.items){const{start:d,key:f,sep:m,value:b}=u,g=er(d,{indicator:"explicit-key-ind",next:f??m?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),p=!g.found;if(p){if(f&&(f.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&s(l,"BAD_INDENT",du)),!g.anchor&&!g.tag&&!m){c=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||Mr(f))&&s(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==r.indent&&s(l,"BAD_INDENT",du);n.atKey=!0;const w=g.end,h=f?e(n,f,g,s):t(n,w,d,null,g,s);n.schema.compat&&ia(r.indent,f,s),n.atKey=!1,uu(n,a.items,h)&&s(w,"DUPLICATE_KEY","Map keys must be unique");const y=er(m??[],{indicator:"map-value-ind",next:b,offset:h.range[2],onError:s,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=y.end,y.found){p&&(b?.type==="block-map"&&!y.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<y.found.offset-1024&&s(h.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=b?e(n,b,y,s):t(n,l,m,null,y,s);n.schema.compat&&ia(r.indent,b,s),l=k.range[2];const v=new Ze(h,k);n.options.keepSourceTokens&&(v.srcToken=u),a.items.push(v)}else{p&&s(h.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(h.comment?h.comment+=`
`+y.comment:h.comment=y.comment);const k=new Ze(h);n.options.keepSourceTokens&&(k.srcToken=u),a.items.push(k)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}function fg({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=i?.nodeClass??kn,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:u,value:d}of r.items){const f=er(u,{indicator:"seq-item-ind",next:d,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d?.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=f.end,f.comment&&(a.comment=f.comment);continue}const m=d?e(n,d,f,s):t(n,f.end,u,null,f,s);n.schema.compat&&ia(r.indent,d,s),l=m.range[2],a.items.push(m)}return a.range=[r.offset,l,c??l],a}function jr(e,t,n,r){let s="";if(e){let i=!1,o="";for(const a of e){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";s?s+=o+u:s=u,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=l.length}}return{comment:s,offset:t}}const oa="Block collections are not allowed within flow collections",aa=e=>e&&(e.type==="block-map"||e.type==="block-seq");function hg({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?yt:kn),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let p=0;p<r.items.length;++p){const w=r.items[p],{start:h,key:y,sep:k,value:v}=w,x=er(h,{flow:a,indicator:"explicit-key-ind",next:y??k?.[0],offset:d,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!k&&!v){p===0&&x.comma?s(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):p<r.items.length-1&&s(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),x.comment&&(c.comment?c.comment+=`
`+x.comment:c.comment=x.comment),d=x.end;continue}!o&&n.options.strict&&Mr(y)&&s(y,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(p===0)x.comma&&s(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(x.comma||s(x.start,"MISSING_CHAR",`Missing , between ${a} items`),x.comment){let S="";e:for(const E of h)switch(E.type){case"comma":case"space":break;case"comment":S=E.source.substring(1);break e;default:break e}if(S){let E=c.items[c.items.length-1];Ie(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+S:E.comment=S,x.comment=x.comment.substring(S.length+1)}}if(!o&&!k&&!x.found){const S=v?e(n,v,x,s):t(n,x.end,k,null,x,s);c.items.push(S),d=S.range[2],aa(v)&&s(S.range,"BLOCK_IN_FLOW",oa)}else{n.atKey=!0;const S=x.end,E=y?e(n,y,x,s):t(n,S,h,null,x,s);aa(y)&&s(E.range,"BLOCK_IN_FLOW",oa),n.atKey=!1;const C=er(k??[],{flow:a,indicator:"map-value-ind",next:v,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(C.found){if(!o&&!x.found&&n.options.strict){if(k)for(const D of k){if(D===C.found)break;if(D.type==="newline"){s(D,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<C.found.offset-1024&&s(C.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else v&&("source"in v&&v.source?.[0]===":"?s(v,"MISSING_CHAR",`Missing space after : in ${a}`):s(C.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const M=v?e(n,v,C,s):C.found?t(n,C.end,k,null,C,s):null;M?aa(v)&&s(M.range,"BLOCK_IN_FLOW",oa):C.comment&&(E.comment?E.comment+=`
`+C.comment:E.comment=C.comment);const j=new Ze(E,M);if(n.options.keepSourceTokens&&(j.srcToken=w),o){const D=c;uu(n,D.items,E)&&s(S,"DUPLICATE_KEY","Map keys must be unique"),D.items.push(j)}else{const D=new yt(n.schema);D.flow=!0,D.items.push(j);const z=(M??E).range;D.range=[E.range[0],z[1],z[2]],c.items.push(D)}d=M?M.range[2]:C.end}}const f=o?"}":"]",[m,...b]=r.end;let g=d;if(m?.source===f)g=m.offset+m.source.length;else{const p=a[0].toUpperCase()+a.substring(1),w=u?`${p} must end with a ${f}`:`${p} in block collection must be sufficiently indented and end with a ${f}`;s(d,u?"MISSING_CHAR":"BAD_INDENT",w),m&&m.source.length!==1&&b.unshift(m)}if(b.length>0){const p=jr(b,g,n.options.strict,s);p.comment&&(c.comment?c.comment+=`
`+p.comment:c.comment=p.comment),c.range=[r.offset,g,p.offset]}else c.range=[r.offset,g,g];return c}function la(e,t,n,r,s,i){const o=n.type==="block-map"?dg(e,t,n,r,i):n.type==="block-seq"?fg(e,t,n,r,i):hg(e,t,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function pg(e,t,n,r,s){const i=r.tag,o=i?t.directives.tagName(i.source,f=>s(i,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:m}=r,b=f&&i?f.offset>i.offset?f:i:f??i;b&&(!m||m.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===yt.tagName&&a==="map"||o===kn.tagName&&a==="seq")return la(e,t,n,s,o);let l=t.schema.tags.find(f=>f.tag===o&&f.collection===a);if(!l){const f=t.schema.knownTags[o];if(f?.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?s(i,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),la(e,t,n,s,o)}const c=la(e,t,n,s,o,l),u=l.resolve?.(c,f=>s(i,"TAG_RESOLVE_FAILED",f),t.options)??c,d=Le(u)?u:new ue(u);return d.range=c.range,d.tag=o,l?.format&&(d.format=l.format),d}function mg(e,t,n){const r=t.offset,s=gg(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?ue.BLOCK_FOLDED:ue.BLOCK_LITERAL,o=t.source?yg(t.source):[];let a=o.length;for(let g=o.length-1;g>=0;--g){const p=o[g][1];if(p===""||p==="\r")a=g;else break}if(a===0){const g=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let p=r+s.length;return t.source&&(p+=t.source.length),{value:g,type:i,comment:s.comment,range:[r,p,p]}}let l=t.indent+s.indent,c=t.offset+s.length,u=0;for(let g=0;g<a;++g){const[p,w]=o[g];if(w===""||w==="\r")s.indent===0&&p.length>l&&(l=p.length);else{p.length<l&&n(c+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=p.length),u=g,l===0&&!e.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=p.length+w.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let d="",f="",m=!1;for(let g=0;g<u;++g)d+=o[g][0].slice(l)+`
`;for(let g=u;g<a;++g){let[p,w]=o[g];c+=p.length+w.length+1;const h=w[w.length-1]==="\r";if(h&&(w=w.slice(0,-1)),w&&p.length<l){const k=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(c-w.length-(h?2:1),"BAD_INDENT",k),p=""}i===ue.BLOCK_LITERAL?(d+=f+p.slice(l)+w,f=`
`):p.length>l||w[0]==="	"?(f===" "?f=`
`:!m&&f===`
`&&(f=`

`),d+=f+p.slice(l)+w,f=`
`,m=!0):w===""?f===`
`?d+=`
`:f=`
`:(d+=f+w,f=" ",m=!1)}switch(s.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)d+=`
`+o[g][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const b=r+s.length+t.source.length;return{value:d,type:i,comment:s.comment,range:[r,b,b]}}function gg({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,a="",l=-1;for(let f=1;f<s.length;++f){const m=s[f];if(!a&&(m==="-"||m==="+"))a=m;else{const b=Number(m);!o&&b?o=b:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,u="",d=s.length;for(let f=1;f<t.length;++f){const m=t[f];switch(m.type){case"space":c=!0;case"newline":d+=m.source.length;break;case"comment":n&&!c&&r(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=m.source.length,u=m.source.substring(1);break;case"error":r(m,"UNEXPECTED_TOKEN",m.message),d+=m.source.length;break;default:{const b=`Unexpected token in block scalar header: ${m.type}`;r(m,"UNEXPECTED_TOKEN",b);const g=m.source;g&&typeof g=="string"&&(d+=g.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:d}}function yg(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function bg(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let a,l;const c=(f,m,b)=>n(r+f,m,b);switch(s){case"scalar":a=ue.PLAIN,l=vg(i,c);break;case"single-quoted-scalar":a=ue.QUOTE_SINGLE,l=wg(i,c);break;case"double-quoted-scalar":a=ue.QUOTE_DOUBLE,l=kg(i,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const u=r+i.length,d=jr(o,u,t,n);return{value:l,type:a,comment:d.comment,range:[r,u,d.offset]}}function vg(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),fu(e)}function wg(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),fu(e.slice(1,-1)).replace(/''/g,"'")}function fu(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),s+i+(r?.[1]??"")}function kg(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=xg(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=Sg[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=Eg(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function xg(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const Sg={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Eg(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function hu(e,t,n,r){const{value:s,type:i,comment:o,range:a}=t.type==="block-scalar"?mg(e,t,r):bg(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let c;e.options.stringKeys&&e.atKey?c=e.schema[Dt]:l?c=_g(e.schema,s,l,n,r):t.type==="scalar"?c=$g(e,s,t,r):c=e.schema[Dt];let u;try{const d=c.resolve(s,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);u=Ee(d)?d:new ue(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),u=new ue(s)}return u.range=a,u.source=s,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function _g(e,t,n,r,s){if(n==="!")return e[Dt];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Dt])}function $g({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[Dt];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Dt];if(o.tag!==a.tag){const l=t.tagString(o.tag),c=t.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",u,!0)}}return o}function Ag(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];s?.type==="space";)e+=s.source.length,s=t[++r];break}}return e}const Tg={composeNode:pu,composeEmptyNode:ca};function pu(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,u=!0;switch(t.type){case"alias":c=Cg(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=hu(e,t,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=pg(Tg,e,t,n,r),a&&(c.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),c=ca(e,t.offset,void 0,null,n,r),u=!1}}return a&&c.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!Ee(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function ca(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:Ag(t,n,r),indent:-1,source:""},d=hu(e,u,a,c);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(d.spaceBefore=!0),i&&(d.comment=i,d.range[2]=l),d}function Cg({options:e},{offset:t,source:n,end:r},s){const i=new Uo(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=jr(r,o,e.strict,s);return i.range=[t,o,a.offset],a.comment&&(i.comment=a.comment),i}function Ng(e,t,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:t},e),l=new Hs(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=er(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?pu(c,s,u,o):ca(c,u.end,r,null,u,o);const d=l.contents.range[2],f=jr(i,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function Br(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function mu(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const i=e[s];switch(i[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":e[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Og{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=Br(n);i?this.warnings.push(new ug(o,r,s)):this.errors.push(new Dr(o,r,s))},this.directives=new Xe({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=mu(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(Pe(i)&&!i.flow&&i.items.length>0){let o=i.items[0];Ie(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:mu(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=Br(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=Ng(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Dr(Br(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Dr(Br(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=jr(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Dr(Br(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Hs(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const gu="\uFEFF",yu="",bu="",ua="";function Ig(e){switch(e){case gu:return"byte-order-mark";case yu:return"doc-mode";case bu:return"flow-error-end";case ua:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function _t(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const vu=new Set("0123456789ABCDEFabcdef"),Pg=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Gs=new Set(",[]{}"),Lg=new Set(` ,[]{}
\r	`),da=e=>!e||Lg.has(e);class Rg{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&_t(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===gu&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield yu,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&_t(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!_t(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&_t(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(da),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&_t(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield bu,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(da),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||_t(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>_t(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)t=i;else break}while(!0);return yield ua,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(_t(i)||t&&Gs.has(i))break;n=r}else if(_t(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Gs.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Gs.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield ua,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(da))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(_t(n)||t&&Gs.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!_t(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(Pg.has(n))n=this.buffer[++t];else if(n==="%"&&vu.has(this.buffer[t+1])&&vu.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Dg{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function cn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function wu(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function ku(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ws(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function tr(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function xu(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!cn(t.start,"explicit-key-ind")&&!cn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,ku(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Mg{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Rg,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Ig(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&t?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&xu(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&wu(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{wu(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ws(this.peek(2)),r=tr(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),t.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),t.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(cn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(ku(n.key)&&!cn(n.sep,"newline")){const o=tr(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(cn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=tr(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?t.items.push({start:i,key:null,sep:[this.sourceToken]}):cn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(t.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!cn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||cn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r?.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Ws(r),i=tr(s);xu(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ws(t),r=tr(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ws(t),r=tr(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function jg(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Dg||null,prettyErrors:t}}function Bg(e,t={}){const{lineCounter:n,prettyErrors:r}=jg(t),s=new Mg(n?.addNewLine),i=new Og(t);let o=null;for(const a of i.compose(s.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Dr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(cu(e,n)),o.warnings.forEach(cu(e,n))),o}function Fg(e,t,n){let r;const s=Bg(e,n);if(!s)return null;if(s.warnings.forEach(i=>Bc(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}const qg=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"];function Ug(e){return{type:"openapi",info:Kg(e.info),servers:zg(e.servers),tags:Hg(e.tags),operations:Gg(e),schemas:i0(e.components?.schemas),securitySchemes:o0(e.components?.securitySchemes)}}function Kg(e){return{title:e.title,version:e.version,description:e.description,termsOfService:e.termsOfService,contact:e.contact?{name:e.contact.name,url:e.contact.url,email:e.contact.email}:void 0,license:e.license?{name:e.license.name,url:e.license.url}:void 0}}function zg(e){return!e||e.length===0?[{url:"/"}]:e.map(t=>({url:t.url,description:t.description,variables:t.variables?Object.fromEntries(Object.entries(t.variables).map(([n,r])=>[n,Vg(r)])):void 0}))}function Vg(e){return{default:e.default,description:e.description,enum:e.enum}}function Hg(e){return e?e.map(t=>({name:t.name,description:t.description,externalDocs:t.externalDocs?{url:t.externalDocs.url,description:t.externalDocs.description}:void 0})):[]}function Gg(e){const t=[],n=e.paths||{};for(const[r,s]of Object.entries(n)){if(!s)continue;const i=s;for(const o of qg){const a=o.toLowerCase(),l=i[a];if(l){const c=(i.parameters||[]).filter(u=>!Mt(u));t.push(Wg(l,o,r,c))}}}return t}function Wg(e,t,n,r){const s=[...r||[],...e.parameters||[]],i=new Map;for(const o of s)if(!Mt(o)){const a=`${o.in}:${o.name}`;i.set(a,o)}return{id:e.operationId||`${t.toLowerCase()}_${n.replace(/[^a-zA-Z0-9]/g,"_")}`,method:t,path:n,summary:e.summary,description:e.description,tags:e.tags||[],deprecated:e.deprecated,parameters:Array.from(i.values()).map(Su),requestBody:e.requestBody&&!Mt(e.requestBody)?t0(e.requestBody):void 0,responses:n0(e.responses),security:e.security?.map(s0),externalDocs:e.externalDocs?{url:e.externalDocs.url,description:e.externalDocs.description}:void 0}}function Su(e){return{name:e.name,in:e.in,description:e.description,required:e.required??e.in==="path",deprecated:e.deprecated,schema:e.schema?Ht(e.schema):{type:"string"},example:e.example,examples:e.examples?Object.fromEntries(Object.entries(e.examples).filter(([,t])=>!Mt(t)).map(([t,n])=>[t,$u(n)])):void 0}}function Jg(e,t){const n={};return e.type&&(n.type=Array.isArray(e.type)?e.type[0]:e.type),e.format&&(n.format=e.format),e.title&&(n.title=e.title),e.description&&(n.description=e.description),e.default!==void 0&&(n.default=e.default),e.enum&&(n.enum=e.enum),"const"in t&&t.const!==void 0&&(n.const=t.const),"nullable"in t&&t.nullable&&(n.nullable=t.nullable),n}function Yg(e,t){t.minLength!==void 0&&(e.minLength=t.minLength),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.pattern&&(e.pattern=t.pattern)}function Qg(e,t){t.minimum!==void 0&&(e.minimum=t.minimum),t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum!==void 0&&(e.exclusiveMinimum=t.exclusiveMinimum),t.exclusiveMaximum!==void 0&&(e.exclusiveMaximum=t.exclusiveMaximum),t.multipleOf!==void 0&&(e.multipleOf=t.multipleOf)}function Xg(e,t,n){"items"in n&&n.items&&(e.items=Ht(n.items)),t.minItems!==void 0&&(e.minItems=t.minItems),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.uniqueItems&&(e.uniqueItems=t.uniqueItems)}function Zg(e,t){t.properties&&(e.properties=Object.fromEntries(Object.entries(t.properties).map(([n,r])=>[n,Ht(r)]))),t.required&&(e.required=t.required),t.additionalProperties!==void 0&&(e.additionalProperties=typeof t.additionalProperties=="boolean"?t.additionalProperties:Ht(t.additionalProperties))}function e0(e,t){t.allOf&&(e.allOf=t.allOf.map(n=>Ht(n))),t.anyOf&&(e.anyOf=t.anyOf.map(n=>Ht(n))),t.oneOf&&(e.oneOf=t.oneOf.map(n=>Ht(n))),t.not&&(e.not=Ht(t.not))}function Ht(e){return Mt(e)?{$ref:e.$ref}:Eu(e)}function Eu(e){const t=e,n=Jg(e,t);return Yg(n,e),Qg(n,e),Xg(n,e,t),Zg(n,e),e0(n,e),n}function t0(e){return{description:e.description,required:e.required??!1,content:Object.fromEntries(Object.entries(e.content).map(([t,n])=>[t,_u(n)]))}}function _u(e){return{schema:e.schema?Ht(e.schema):void 0,example:e.example,examples:e.examples?Object.fromEntries(Object.entries(e.examples).filter(([,t])=>!Mt(t)).map(([t,n])=>[t,$u(n)])):void 0}}function $u(e){return{summary:e.summary,description:e.description,value:e.value,externalValue:e.externalValue}}function n0(e){return e?Object.entries(e).filter(([,t])=>!Mt(t)).map(([t,n])=>r0(t,n)):[]}function r0(e,t){return{statusCode:e,description:t.description,headers:t.headers?Object.fromEntries(Object.entries(t.headers).filter(([,n])=>!Mt(n)).map(([n,r])=>[n,Su({name:n,in:"header",...r})])):void 0,content:t.content?Object.fromEntries(Object.entries(t.content).map(([n,r])=>[n,_u(r)])):void 0}}function s0(e){const t=Object.entries(e),[n,r]=t[0]||["",[]];return{type:"apiKey",name:n,scopes:r}}function i0(e){return e?Object.fromEntries(Object.entries(e).filter(([,t])=>!Mt(t)).map(([t,n])=>[t,Eu(n)])):{}}function o0(e){return e?Object.fromEntries(Object.entries(e).filter(([,t])=>!Mt(t)).map(([t,n])=>[t,a0(t,n)])):{}}function a0(e,t){const n={type:l0(t.type),name:e};return t.type==="apiKey"&&(n.in=t.in),t.type==="http"&&(n.scheme=t.scheme),t.type==="oauth2"&&t.flows&&(n.flows=c0(t.flows)),t.type==="openIdConnect"&&(n.openIdConnectUrl=t.openIdConnectUrl),n}function l0(e){switch(e){case"apiKey":return"apiKey";case"http":return"bearer";case"oauth2":return"oauth2";case"openIdConnect":return"openIdConnect";default:return"apiKey"}}function c0(e){const t={};return e?.implicit&&(t.implicit=Js(e.implicit)),e?.password&&(t.password=Js(e.password)),e?.clientCredentials&&(t.clientCredentials=Js(e.clientCredentials)),e?.authorizationCode&&(t.authorizationCode=Js(e.authorizationCode)),t}function Js(e){return{authorizationUrl:e.authorizationUrl,tokenUrl:e.tokenUrl,refreshUrl:e?.refreshUrl,scopes:e?.scopes||{}}}function Mt(e){return typeof e=="object"&&e!==null&&"$ref"in e}function u0(e){return e.startsWith("#")?!1:(e.startsWith("http://")||e.startsWith("https://"),!0)}function d0(e){const t=e.indexOf("#");return t===-1?{url:e}:t===0?{url:"",pointer:e}:{url:e.slice(0,t),pointer:e.slice(t)}}function f0(e,t){if(e.startsWith("http://")||e.startsWith("https://"))return e;if(t)try{return new URL(e,t).href}catch{return}}async function h0(e,t,n){if(t.has(e))return t.get(e);try{const r=await fetch(e);if(!r.ok){n.push(`Failed to fetch external ref ${e}: ${r.status} ${r.statusText}`);return}const s=await r.text(),i=Au(s);return t.set(e,i),i}catch(r){const s=r instanceof Error?r.message:"Unknown error";n.push(`Failed to fetch external ref ${e}: ${s}`);return}}function Au(e){const t=e.trim();if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(e)}catch{}return Fg(e)}async function p0(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch spec: ${t.status} ${t.statusText}`);const n=await t.text();try{return Au(n)}catch(r){const s=r instanceof Error?r.message:"Unknown parse error";throw new Error(`Failed to parse spec from ${e}: ${s}`)}}function Tu(e,t){if(!t||t==="#"||t==="#/")return e;if(!t.startsWith("#/"))return;const n=t.slice(2).split("/");let r=e;for(const s of n){if(r==null)return;const i=s.replace(/~1/g,"/").replace(/~0/g,"~");r=r[i]}return r}async function Fr(e,t,n){if(e==null)return e;if(Array.isArray(e))return Promise.all(e.map(o=>Fr(o,t,n)));if(typeof e!="object")return e;const r=e;if("$ref"in r&&typeof r.$ref=="string"){const o=r.$ref,a=n?`${n}::${o}`:o;if(t.resolvedCache.has(a))return t.resolvedCache.get(a);if(t.resolving.has(a))return{...r,$ref:o};if(o.startsWith("#")){const l=Tu(t.root,o);if(l!==void 0){t.resolving.add(a);const c=await Fr(l,t,n);return t.resolving.delete(a),t.resolvedCache.set(a,c),c}return r}if(u0(o)){const{url:l,pointer:c}=d0(o),u=n||t.baseUrl,d=f0(l,u);if(!d)return t.warnings.push(`Cannot resolve relative external ref "${o}" without a base URL`),r;t.resolving.add(a);const f=await h0(d,t.externalCache,t.warnings);if(!f)return t.resolving.delete(a),r;let m=f;if(c&&(m=Tu(f,c),m===void 0))return t.warnings.push(`Could not resolve pointer "${c}" in external document ${d}`),t.resolving.delete(a),r;const b=await Fr(m,{...t,root:f},d);return t.resolving.delete(a),t.resolvedCache.set(a,b),b}return r}const s={},i=Object.entries(r);for(const[o,a]of i)s[o]=await Fr(a,t,n);return s}async function m0(e,t={}){const{dereference:n=!0,baseUrl:r}=t,s=[];let i,o=r;if(e.url)i=await p0(e.url),o||(o=e.url);else if(e.spec)i=e.spec;else throw new Error("Either url or spec must be provided");try{let a;n?a=await Fr(i,{root:i,externalCache:new Map,resolving:new Set,resolvedCache:new Map,baseUrl:o,warnings:s}):a=i;const l=a.openapi;if(!l?.startsWith("3."))throw new Error(`Unsupported OpenAPI version: ${l}. Only OpenAPI 3.x is supported.`);return{spec:Ug(a),warnings:s}}catch(a){throw a instanceof Error?new Error(`Failed to parse OpenAPI spec: ${a.message}`):a}}function fa(...e){const t=new AbortController;for(const n of e){if(n.aborted){t.abort();break}n.addEventListener("abort",()=>t.abort())}return t.signal}async function g0(e,t={}){const{timeout:n=e.timeout??3e4,signal:r}=t,s=y0(e.url,e.params),i=new AbortController,o=n>0?setTimeout(()=>i.abort(),n):void 0,a=r?fa(r,i.signal):i.signal,l=performance.now();try{const c=e.method!=="GET"&&e.method!=="HEAD",u=await fetch(s,{method:e.method,headers:e.headers,body:c&&e.body!==void 0?v0(e.body,e.headers):void 0,signal:a}),d=performance.now(),f=u.headers.get("content-type")||"",m=await u.text();let b=m;if(f.includes("application/json")&&m)try{b=JSON.parse(m)}catch{}const g={};u.headers.forEach((w,h)=>{g[h]=w});const p={startTime:l,endTime:d,duration:d-l};return{status:u.status,statusText:u.statusText,headers:g,body:b,bodyText:m,timing:p}}catch(c){throw c instanceof Error?c.name==="AbortError"?new Error("Request timeout"):c:new Error("Request failed")}finally{o&&clearTimeout(o)}}function y0(e,t){if(!t||Object.keys(t).length===0)return e;if(/^https?:\/\//i.test(e)){const o=new URL(e);for(const[a,l]of Object.entries(t))l!=null&&l!==""&&o.searchParams.append(a,l);return o.toString()}if(typeof window<"u"&&window.location?.origin){const o=new URL(e,window.location.origin);for(const[a,l]of Object.entries(t))l!=null&&l!==""&&o.searchParams.append(a,l);return o.toString()}const r=Object.entries(t).filter(([,o])=>o!=null&&o!=="");if(r.length===0)return e;const s=r.map(([o,a])=>`${encodeURIComponent(o)}=${encodeURIComponent(a)}`).join("&"),i=e.includes("?")?"&":"?";return`${e}${i}${s}`}function b0(e,t){if(!e)return"";const n=t.toLowerCase();for(const[r,s]of Object.entries(e))if(r.toLowerCase()===n)return s;return""}function v0(e,t){return e==null?"":typeof e=="string"||e instanceof FormData||e instanceof Blob||e instanceof ArrayBuffer?e:b0(t,"Content-Type").includes("application/x-www-form-urlencoded")?new URLSearchParams(e).toString():JSON.stringify(e)}function Cu(e,t,n){const r=w0(n.server,n.serverVariables),s=k0(e.path,t.path),i=x0(r,s),o={...t.headers};return t.body!==void 0&&t.contentType&&(o["Content-Type"]=t.contentType),n.auth&&S0(o,t.query||{},n.auth),{method:e.method==="GRPC"?"POST":e.method,url:i,headers:Object.keys(o).length>0?o:void 0,params:t.query,body:t.body,timeout:n.timeout}}function w0(e,t){let n=e.url;if(e.variables)for(const[r,s]of Object.entries(e.variables)){const i=t?.[r]??s.default;n=n.replace(`{${r}}`,i)}return n}function k0(e,t){if(!t)return e;let n=e;for(const[r,s]of Object.entries(t))n=n.replace(`{${r}}`,encodeURIComponent(s));return n}function x0(e,t){if(e.startsWith("http://")||e.startsWith("https://")){const s=e.endsWith("/")?e.slice(0,-1):e,i=t.startsWith("/")?t:`/${t}`;return`${s}${i}`}const n=e.endsWith("/")?e.slice(0,-1):e,r=t.startsWith("/")?t:`/${t}`;return`${n}${r}`}function S0(e,t,n){switch(n.type){case"apiKey":if(n.in==="header")e[n.name]=n.value;else if(n.in==="query")t[n.name]=n.value;else if(n.in==="cookie"){const r=`${n.name}=${n.value}`;e.Cookie=e.Cookie?`${e.Cookie}; ${r}`:r}break;case"bearer":e.Authorization=`${n.scheme||"Bearer"} ${n.token}`;break;case"basic":{const r=btoa(`${n.username}:${n.password}`);e.Authorization=`Basic ${r}`;break}case"oauth2":n.accessToken&&(e.Authorization=`${n.tokenType||"Bearer"} ${n.accessToken}`);break;case"openid":n.accessToken&&(e.Authorization=`${n.tokenType||"Bearer"} ${n.accessToken}`);break}}function E0(e){const t={},n={},r={};for(const s of e.parameters){const i=_0(s);if(i!==void 0){const o=String(i);switch(s.in){case"path":t[s.name]=o;break;case"query":n[s.name]=o;break;case"header":r[s.name]=o;break}}}return{path:Object.keys(t).length>0?t:void 0,query:Object.keys(n).length>0?n:void 0,headers:Object.keys(r).length>0?r:void 0}}function _0(e){if(e.example!==void 0)return e.example;if(e.examples){const t=Object.values(e.examples)[0];if(t?.value!==void 0)return t.value}if(e.schema.default!==void 0)return e.schema.default;if(e.schema.enum&&e.schema.enum.length>0)return e.schema.enum[0]}function $0(e){if(!e.requestBody?.content)return;const t=Object.keys(e.requestBody.content);return t.includes("application/json")?"application/json":t.includes("multipart/form-data")?"multipart/form-data":t.includes("application/x-www-form-urlencoded")?"application/x-www-form-urlencoded":t[0]}var Fe;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(Fe||(Fe={}));function Nu(e,t=!1){const n=new Uint8Array(5+e.length);return n[0]=t?128:0,new DataView(n.buffer).setUint32(1,e.length,!1),n.set(e,5),n}function A0(e){const t=[],n={};let r=0;for(;r<e.length&&!(r+5>e.length);){const s=e[r],o=new DataView(e.buffer,e.byteOffset+r+1,4).getUint32(0,!1);if(r+5+o>e.length)break;const a=e.slice(r+5,r+5+o);if(s&128){const l=new TextDecoder().decode(a);for(const c of l.split(`\r
`)){const u=c.indexOf(":");if(u>0){const d=c.substring(0,u).trim().toLowerCase(),f=c.substring(u+1).trim();n[d]=f}}}else t.push(a);r+=5+o}return{messages:t,trailers:n}}function T0(e){const t=e["grpc-status"],n=e["grpc-message"]||"";if(t===void 0)return{code:Fe.OK,message:"OK"};const r=Number.parseInt(t,10);return{code:Number.isNaN(r)?Fe.UNKNOWN:r,message:decodeURIComponent(n.replace(/\+/g," "))}}function C0(e){const{baseUrl:t,timeout:n=3e4,defaultMetadata:r={}}=e;async function s(c,u,d={}){const f=`${t.replace(/\/$/,"")}${c}`,m={...r,...d.metadata},b=new AbortController,g=d.timeout??n,p=g>0?setTimeout(()=>b.abort(),g):void 0,w=d.signal?fa(d.signal,b.signal):b.signal;try{const h=Nu(u),y=await fetch(f,{method:"POST",headers:{"Content-Type":"application/grpc-web+proto",Accept:"application/grpc-web+proto","X-Grpc-Web":"1",...m},body:h,signal:w});if(!y.ok){const C=await y.text();return{data:new Uint8Array,status:{code:Ou(y.status),message:C||y.statusText}}}const k=await y.arrayBuffer(),v=new Uint8Array(k),{messages:x,trailers:S}=A0(v),E=T0(S);return{data:x[0]||new Uint8Array,status:E}}catch(h){return h instanceof Error&&h.name==="AbortError"?{data:new Uint8Array,status:{code:Fe.DEADLINE_EXCEEDED,message:"Request timeout"}}:{data:new Uint8Array,status:{code:Fe.UNAVAILABLE,message:h instanceof Error?h.message:"Unknown error"}}}finally{p&&clearTimeout(p)}}async function i(c,u,d={}){const{encode:f,decode:m,...b}=d,g=f?f(u):new TextEncoder().encode(JSON.stringify(u)),p=await s(c,g,b);return p.status.code!==Fe.OK?{message:{},status:p.status}:{message:m?m(p.data):JSON.parse(new TextDecoder().decode(p.data)),status:p.status}}async function o(c,u,d={}){const f=`${t.replace(/\/$/,"")}${c}`,m={...r,...d.metadata},b=new AbortController,g=d.signal?fa(d.signal,b.signal):b.signal,p=Nu(u),w=await fetch(f,{method:"POST",headers:{"Content-Type":"application/grpc-web+proto",Accept:"application/grpc-web+proto","X-Grpc-Web":"1",...m},body:p,signal:g});if(!w.ok){const v=await w.text();throw new Error(`gRPC error: ${Ou(w.status)} - ${v}`)}const h=w.body?.getReader();if(!h)throw new Error("Response body is not readable");const y=h;async function*k(){let v=new Uint8Array;for(;;){const{done:x,value:S}=await y.read();if(x)break;const E=new Uint8Array(v.length+S.length);for(E.set(v),E.set(S,v.length),v=E;v.length>=5;){const M=new DataView(v.buffer,v.byteOffset+1,4).getUint32(0,!1);if(v.length<5+M)break;const j=v[0],D=v.slice(5,5+M);v=v.slice(5+M),j&128||(yield D)}}}return{messages:k(),metadata:{}}}async function a(c,u,d={}){const{encode:f,decode:m,...b}=d,g=f?f(u):new TextEncoder().encode(JSON.stringify(u)),p=await o(c,g,b);async function*w(){for await(const h of p.messages)m?yield m(h):yield JSON.parse(new TextDecoder().decode(h))}return{messages:w(),metadata:p.metadata}}function l(){}return{unaryCall:i,unaryCallRaw:s,serverStreamingCall:a,serverStreamingCallRaw:o,close:l}}function Ou(e){switch(e){case 200:return Fe.OK;case 400:return Fe.INVALID_ARGUMENT;case 401:return Fe.UNAUTHENTICATED;case 403:return Fe.PERMISSION_DENIED;case 404:return Fe.NOT_FOUND;case 409:return Fe.ABORTED;case 429:return Fe.RESOURCE_EXHAUSTED;case 499:return Fe.CANCELLED;case 500:return Fe.INTERNAL;case 501:return Fe.UNIMPLEMENTED;case 503:return Fe.UNAVAILABLE;case 504:return Fe.DEADLINE_EXCEEDED;default:return Fe.UNKNOWN}}const N0={1:"double",2:"float",3:"int64",4:"uint64",5:"int32",6:"fixed64",7:"fixed32",8:"bool",9:"string",10:"message",11:"message",12:"bytes",13:"uint32",14:"enum",15:"sfixed32",16:"sfixed64",17:"sint32",18:"sint64"},O0=1,I0=3,P0=0,L0=1,Iu=2,R0=5;function Pu(e){const t=[];let n=e;for(;n>127;)t.push(n&127|128),n>>>=7;return t.push(n),new Uint8Array(t)}function Lu(e,t){let n=0,r=0,s=t,i;do i=e[s++],n|=(i&127)<<r,r+=7;while(i&128);return[n>>>0,s]}function ha(e,t){const n=Pu(e<<3|Iu),r=new TextEncoder().encode(t),s=Pu(r.length),i=new Uint8Array(n.length+s.length+r.length);return i.set(n,0),i.set(s,n.length),i.set(r,n.length+s.length),i}function Ru(e){const t=[];e.host&&t.push(ha(1,e.host)),e.fileContainingSymbol&&t.push(ha(4,e.fileContainingSymbol)),e.listServices!==void 0&&t.push(ha(7,e.listServices));const n=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);let s=0;for(const i of t)r.set(i,s),s+=i.length;return r}function dt(e,t,n){const r=new Map;let s=t;for(;s<n;){const[i,o]=Lu(e,s);s=o;const a=i>>>3,l=i&7;let c;switch(l){case P0:{const u=s;for(;e[s]&128;)s++;s++,c=e.slice(u,s);break}case L0:{c=e.slice(s,s+8),s+=8;break}case Iu:{const[u,d]=Lu(e,s);s=d,c=e.slice(s,s+u),s+=u;break}case R0:{c=e.slice(s,s+4),s+=4;break}default:throw new Error(`Unknown wire type: ${l}`)}r.has(a)||r.set(a,{wireType:l,values:[]}),r.get(a)?.values.push(c)}return r}function et(e){return e?new TextDecoder().decode(e):""}function nr(e){if(!e)return 0;let t=0,n=0;for(const r of e)if(t|=(r&127)<<n,n+=7,!(r&128))break;return t>>>0}function pa(e){return e?nr(e)!==0:!1}function $t(e,t){return e.get(t)?.values??[]}function _e(e,t){return e.get(t)?.values[0]}function D0(e){const t=dt(e,0,e.length),n={};return t.has(1)&&(n.name=et(_e(t,1))),t.has(2)&&(n.package=et(_e(t,2))),t.has(3)&&(n.dependency=$t(t,3).map(et)),t.has(4)&&(n.messageType=$t(t,4).map(r=>Du(r))),t.has(5)&&(n.enumType=$t(t,5).map(r=>Mu(r))),t.has(6)&&(n.service=$t(t,6).map(r=>B0(r))),n}function Du(e){const t=dt(e,0,e.length),n={};if(t.has(1)&&(n.name=et(_e(t,1))),t.has(2)&&(n.field=$t(t,2).map(r=>M0(r))),t.has(3)&&(n.nestedType=$t(t,3).map(r=>Du(r))),t.has(4)&&(n.enumType=$t(t,4).map(r=>Mu(r))),t.has(7)){const r=_e(t,7);r&&(n.options=j0(r))}return n}function M0(e){const t=dt(e,0,e.length),n={};return t.has(1)&&(n.name=et(_e(t,1))),t.has(3)&&(n.number=nr(_e(t,3))),t.has(4)&&(n.label=nr(_e(t,4))),t.has(5)&&(n.type=nr(_e(t,5))),t.has(6)&&(n.typeName=et(_e(t,6))),t.has(7)&&(n.defaultValue=et(_e(t,7))),n}function j0(e){const t=dt(e,0,e.length),n={};return t.has(7)&&(n.mapEntry=pa(_e(t,7))),n}function Mu(e){const t=dt(e,0,e.length),n={};return t.has(1)&&(n.name=et(_e(t,1))),t.has(2)&&(n.value=$t(t,2).map(r=>{const s=dt(r,0,r.length);return{name:s.has(1)?et(_e(s,1)):void 0,number:s.has(2)?nr(_e(s,2)):void 0}})),n}function B0(e){const t=dt(e,0,e.length),n={};return t.has(1)&&(n.name=et(_e(t,1))),t.has(2)&&(n.method=$t(t,2).map(r=>F0(r))),n}function F0(e){const t=dt(e,0,e.length),n={};return t.has(1)&&(n.name=et(_e(t,1))),t.has(2)&&(n.inputType=et(_e(t,2))),t.has(3)&&(n.outputType=et(_e(t,3))),t.has(5)&&(n.clientStreaming=pa(_e(t,5))),t.has(6)&&(n.serverStreaming=pa(_e(t,6))),n}function ju(e){const t=dt(e,0,e.length),n={},r=_e(t,6);if(r){const o=dt(r,0,r.length);n.listServicesResponse={service:o.has(1)?$t(o,1).map(a=>{const l=dt(a,0,a.length);return{name:l.has(1)?et(_e(l,1)):void 0}}):[]}}const s=_e(t,4);if(s){const o=dt(s,0,s.length);n.fileDescriptorResponse={fileDescriptorProto:o.has(1)?$t(o,1):[]}}const i=_e(t,7);if(i){const o=dt(i,0,i.length);n.errorResponse={errorCode:o.has(1)?nr(_e(o,1)):void 0,errorMessage:o.has(2)?et(_e(o,2)):void 0}}return n}function q0(e){const t=C0({baseUrl:e});async function n(){const i=Ru({listServices:""});let o=await t.unaryCallRaw("/grpc.reflection.v1.ServerReflection/ServerReflectionInfo",i);if(o.status.code!==0&&(o=await t.unaryCallRaw("/grpc.reflection.v1alpha.ServerReflection/ServerReflectionInfo",i),o.status.code!==0))throw new Error(`Reflection error: ${o.status.message}`);const a=ju(o.data);if(a.errorResponse)throw new Error(`Reflection error ${a.errorResponse.errorCode}: ${a.errorResponse.errorMessage}`);return a.listServicesResponse?.service?.map(l=>l.name||"").filter(Boolean)||[]}async function r(i){const o=Ru({fileContainingSymbol:i});let a=await t.unaryCallRaw("/grpc.reflection.v1.ServerReflection/ServerReflectionInfo",o);if(a.status.code!==0&&(a=await t.unaryCallRaw("/grpc.reflection.v1alpha.ServerReflection/ServerReflectionInfo",o),a.status.code!==0))throw new Error(`Reflection error: ${a.status.message}`);const l=ju(a.data);if(l.errorResponse)throw new Error(`Reflection error ${l.errorResponse.errorCode}: ${l.errorResponse.errorMessage}`);return(l.fileDescriptorResponse?.fileDescriptorProto||[]).map(u=>D0(u))}async function s(){const i=await n(),o=[],a=new Map,l=new Map,c=new Set;for(const u of i)if(!u.startsWith("grpc.reflection."))try{const d=await r(u);for(const f of d){const m=f.name||"";if(c.has(m))continue;c.add(m);const b=f.package||"";if(f.messageType)for(const g of f.messageType){const p=b?`${b}.${g.name}`:g.name||"",w=ma(g,b,f.sourceCodeInfo);a.set(p,w),Bu(g,p,a,l,f.sourceCodeInfo)}if(f.enumType)for(const g of f.enumType){const p=b?`${b}.${g.name}`:g.name||"";l.set(p,ga(g))}if(f.service)for(const g of f.service){const p=b?`${b}.${g.name}`:g.name||"";p===u&&o.push({name:p,methods:(g.method||[]).map(w=>K0(w,p))})}}}catch(d){console.warn(`Failed to get descriptor for ${u}:`,d)}return{services:o,messageTypes:a,enumTypes:l}}return{listServices:n,getFileDescriptor:r,discoverServices:s,close:()=>t.close()}}function ma(e,t,n){const r=t?`${t}.${e.name}`:e.name||"";return{name:r,fields:(e.field||[]).map(s=>U0(s)),nestedTypes:e.nestedType?.filter(s=>!s.options?.mapEntry).map(s=>ma(s,r)),enumTypes:e.enumType?.map(s=>ga(s))}}function Bu(e,t,n,r,s){if(e.nestedType)for(const i of e.nestedType){if(i.options?.mapEntry)continue;const o=`${t}.${i.name}`;n.set(o,ma(i,t)),Bu(i,o,n,r)}if(e.enumType)for(const i of e.enumType){const o=`${t}.${i.name}`;r.set(o,ga(i))}}function U0(e,t){const n=N0[e.type||0]||"message",r=e.label===I0,s=e.typeName?.replace(/^\./,"");return{name:e.name||"",number:e.number||0,type:n,typeName:s,repeated:r,optional:e.label===O0,isMap:!1,defaultValue:z0(e.defaultValue,n)}}function ga(e){return{name:e.name||"",values:(e.value||[]).map(t=>({name:t.name||"",number:t.number||0}))}}function K0(e,t){const n=e.inputType?.replace(/^\./,"")||"",r=e.outputType?.replace(/^\./,"")||"";return{name:e.name||"",fullPath:`/${t}/${e.name}`,inputType:n,outputType:r,clientStreaming:e.clientStreaming||!1,serverStreaming:e.serverStreaming||!1}}function z0(e,t){if(e!==void 0)switch(t){case"bool":return e==="true";case"int32":case"int64":case"uint32":case"uint64":case"sint32":case"sint64":case"fixed32":case"fixed64":case"sfixed32":case"sfixed64":return Number.parseInt(e,10);case"float":case"double":return Number.parseFloat(e);default:return e}}const V0=Object.freeze(Object.defineProperty({__proto__:null,createReflectionClient:q0},Symbol.toStringTag,{value:"Module"}));function H0(e,t){const{services:n,messageTypes:r,enumTypes:s}=e,{serverUrl:i,title:o,version:a,description:l}=t,c={};for(const[m,b]of r)c[m]=Ys(b,r,s);for(const[m,b]of s)c[m]=qu(b);const u=[],d=[];for(const m of n){d.push({name:m.name,description:`gRPC service: ${m.name}`});for(const b of m.methods)u.push(W0(b,m,r,s))}const f=[{url:i,description:"gRPC server"}];return{type:"grpc",info:{title:o||G0(n),version:a||"1.0.0",description:l||`gRPC API with ${n.length} services`},servers:f,tags:d,operations:u,schemas:c,securitySchemes:{}}}function G0(e){if(e.length===0)return"gRPC API";if(e.length===1)return e[0].name;const t=e.map(r=>r.name),n=t[0].split(".");for(let r=0;r<n.length-1;r++){const s=n.slice(0,r+1).join(".");if(t.every(i=>i.startsWith(`${s}.`)))return s}return"gRPC API"}function W0(e,t,n,r){const s=n.get(e.inputType),i=n.get(e.outputType),o=s?Ys(s,n,r):{type:"object"},a=i?Ys(i,n,r):{type:"object"};let l="";return e.clientStreaming&&e.serverStreaming?l=" (bidirectional streaming)":e.clientStreaming?l=" (client streaming)":e.serverStreaming&&(l=" (server streaming)"),{id:`${t.name}.${e.name}`,method:"GRPC",path:e.fullPath,summary:`${e.name}${l}`,description:e.description||`gRPC method: ${e.name}`,tags:[t.name],deprecated:!1,parameters:[],requestBody:{description:`Request message: ${e.inputType}`,required:!0,content:{"application/json":{schema:o}}},responses:[{statusCode:"0",description:`Success response: ${e.outputType}`,content:{"application/json":{schema:a}}}]}}function Ys(e,t,n){const r={},s=[];for(const i of e.fields)r[i.name]=J0(i,t,n),!i.optional&&!i.repeated&&s.push(i.name);return{type:"object",title:e.name.split(".").pop(),description:e.description,properties:r,required:s.length>0?s:void 0}}function J0(e,t,n){let r;if(e.isMap&&e.mapKeyType&&e.mapValueType)r={type:"object",additionalProperties:Fu(e.mapValueType)};else if(e.type==="message"&&e.typeName){const s=t.get(e.typeName);s?r=Ys(s,t,n):r={type:"object",title:e.typeName}}else if(e.type==="enum"&&e.typeName){const s=n.get(e.typeName);s?r=qu(s):r={type:"string",title:e.typeName}}else r=Fu(e.type);return e.repeated&&!e.isMap&&(r={type:"array",items:r}),e.description&&(r.description=e.description),e.defaultValue!==void 0&&(r.default=e.defaultValue),r}function Fu(e){switch(e){case"double":case"float":return{type:"number",format:e};case"int32":case"sint32":case"sfixed32":return{type:"integer",format:"int32"};case"int64":case"sint64":case"sfixed64":return{type:"integer",format:"int64"};case"uint32":case"fixed32":return{type:"integer",format:"int32",minimum:0};case"uint64":case"fixed64":return{type:"integer",format:"int64",minimum:0};case"bool":return{type:"boolean"};case"string":return{type:"string"};case"bytes":return{type:"string",format:"byte"};default:return{type:"string"}}}function qu(e){return{type:"string",title:e.name,description:e.description,enum:e.values.map(t=>t.name)}}const Y0=Object.freeze(Object.defineProperty({__proto__:null,convertGrpcToSpec:H0},Symbol.toStringTag,{value:"Module"}));async function Q0(e,t){const{createReflectionClient:n}=await Promise.resolve().then(()=>V0),{convertGrpcToSpec:r}=await Promise.resolve().then(()=>Y0),s=n(e);try{const i=await s.discoverServices();return r(i,{serverUrl:e,title:t?.title,version:t?.version,description:t?.description})}finally{s.close()}}const X0={null:"null",undefined:"undefined",true:"true",false:"false",indentSize:2,formatKey:e=>/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(e)?e:JSON.stringify(e)},Z0={null:"None",undefined:"None",true:"True",false:"False",indentSize:4,formatKey:e=>JSON.stringify(e)};function Qs(e,t,n,r){if(e===null)return r.null;if(e===void 0)return r.undefined;if(e===!0)return r.true;if(e===!1)return r.false;if(typeof e=="string")return JSON.stringify(e);if(typeof e=="number")return String(e);const s=t+r.indentSize;if(Array.isArray(e)){if(e.length===0)return"[]";const i=e.map(o=>Qs(o,s,n,r));if(n){const o=" ".repeat(s);return`[
${o}${i.join(`,
${o}`)}
${" ".repeat(t)}]`}return`[${i.join(", ")}]`}if(typeof e=="object"){const i=Object.entries(e);if(i.length===0)return"{}";const o=i.map(([a,l])=>`${r.formatKey(a)}: ${Qs(l,s,n,r)}`);if(n){const a=" ".repeat(s);return`{
${a}${o.join(`,
${a}`)}
${" ".repeat(t)}}`}return`{${o.join(", ")}}`}return String(e)}function Uu(e,t,n){return Qs(e,t,n,X0)}function ya(e,t,n){return Qs(e,t,n,Z0)}function Ku(e,t){if(!t||Object.keys(t).length===0)return e;const n=new URLSearchParams(t),r=e.includes("?")?"&":"?";return`${e}${r}${n.toString()}`}function ba(e){return/[^a-zA-Z0-9_\-.,/:@]/.test(e)?`'${e.replace(/'/g,"'\\''")}'`:e}function ey(e,t){return e==null?"":typeof e=="string"?e:JSON.stringify(e,null,t?2:0)}function ty(e,t={}){const{prettyPrint:n=!0}=t,r=[],s=["curl"];e.method!=="GET"&&s.push("-X",e.method);const i=Ku(e.url,e.params),o=e.headers||{};for(const[a,l]of Object.entries(o))s.push("-H",`${a}: ${l}`);if(e.body!==void 0&&e.body!==null){const a=ey(e.body,n);a&&((o["Content-Type"]||o["content-type"]||"").includes("application/json")||typeof e.body=="object"?s.push("-d",a):s.push("--data-raw",a))}if(s.push(ba(i)),n){r.push(s[0]);for(let l=1;l<s.length;l+=2)l+1<s.length&&s[l].startsWith("-")?r.push(`  ${s[l]} ${ba(s[l+1])} \\`):r.push(`  ${s[l]}`);const a=r.length-2;a>0&&r[a].endsWith(" \\")&&(r[a]=r[a].slice(0,-2))}else r.push(s.map((a,l)=>l>0&&!a.startsWith("-")?ba(a):a).join(" "));return r.join(`
`)}const ny={language:"curl",displayName:"cURL",extension:"sh",generate:ty};function ry(e,t={}){const n=[];n.push("package main"),n.push(""),n.push("import ("),n.push('	"encoding/json"'),n.push('	"fmt"'),n.push('	"io"'),n.push('	"net/http"'),e.body!==void 0&&e.body!==null&&n.push('	"bytes"'),e.params&&Object.keys(e.params).length>0&&n.push('	"net/url"'),n.push(")"),n.push(""),n.push("func main() {");let r=`"${e.url}"`;if(e.params&&Object.keys(e.params).length>0){n.push(`	baseURL := "${e.url}"`),n.push("	params := url.Values{}");for(const[s,i]of Object.entries(e.params))n.push(`	params.Add("${s}", "${i}")`);n.push('	reqURL := baseURL + "?" + params.Encode()'),n.push(""),r="reqURL"}if(e.body!==void 0&&e.body!==null){const s=JSON.stringify(e.body,null,"		");n.push(`	body := []byte(\`${s}\`)`),n.push("")}if(e.body!==void 0&&e.body!==null?n.push(`	req, err := http.NewRequest("${e.method}", ${r}, bytes.NewBuffer(body))`):n.push(`	req, err := http.NewRequest("${e.method}", ${r}, nil)`),n.push("	if err != nil {"),n.push('		fmt.Println("Error creating request:", err)'),n.push("		return"),n.push("	}"),n.push(""),e.headers&&Object.keys(e.headers).length>0){for(const[s,i]of Object.entries(e.headers))n.push(`	req.Header.Set("${s}", "${i}")`);n.push("")}return n.push("	client := &http.Client{}"),n.push("	resp, err := client.Do(req)"),n.push("	if err != nil {"),n.push('		fmt.Println("Error sending request:", err)'),n.push("		return"),n.push("	}"),n.push("	defer resp.Body.Close()"),n.push(""),n.push("	respBody, err := io.ReadAll(resp.Body)"),n.push("	if err != nil {"),n.push('		fmt.Println("Error reading response:", err)'),n.push("		return"),n.push("	}"),n.push(""),n.push("	var result map[string]interface{}"),n.push("	if err := json.Unmarshal(respBody, &result); err != nil {"),n.push('		fmt.Println("Error parsing JSON:", err)'),n.push("		return"),n.push("	}"),n.push(""),n.push('	fmt.Printf("Status: %s\\n", resp.Status)'),n.push('	fmt.Printf("Response: %+v\\n", result)'),n.push("}"),n.join(`
`)}const sy={language:"go",displayName:"Go",extension:"go",generate:ry};function iy(e,t={}){const{prettyPrint:n=!0}=t,r=[],s=n?"  ":"",i=Ku(e.url,e.params);e.method,e.headers&&Object.keys(e.headers).length>0&&e.headers,e.body!==void 0&&e.body!==null&&(typeof e.body=="object"||e.body),r.push("async function makeRequest() {"),e.body!==void 0&&e.body!==null&&typeof e.body=="object"&&(r.push(`${s}const body = ${Uu(e.body,2,n)};`),r.push(""));const o=[];o.push(`${s}${s}method: '${e.method}',`),e.headers&&Object.keys(e.headers).length>0&&o.push(`${s}${s}headers: ${Uu(e.headers,4,n)},`),e.body!==void 0&&e.body!==null&&(typeof e.body=="object"?o.push(`${s}${s}body: JSON.stringify(body),`):o.push(`${s}${s}body: ${JSON.stringify(e.body)},`)),r.push(`${s}const response = await fetch('${i}', {`);for(const a of o)r.push(a);return r.push(`${s}});`),r.push(""),r.push(`${s}if (!response.ok) {`),r.push(`${s}${s}throw new Error(\`HTTP error! status: \${response.status}\`);`),r.push(`${s}}`),r.push(""),r.push(`${s}const data = await response.json();`),r.push(`${s}return data;`),r.push("}"),r.push(""),r.push("makeRequest()"),r.push(`${s}.then(data => console.log(data))`),r.push(`${s}.catch(error => console.error('Error:', error));`),r.join(`
`)}const oy={language:"javascript",displayName:"JavaScript",extension:"js",generate:iy};function ay(e,t={}){const{prettyPrint:n=!0}=t,r=[];r.push("import requests"),r.push(""),r.push(`url = "${e.url}"`),e.params&&Object.keys(e.params).length>0&&r.push(`params = ${ya(e.params,0,n)}`),e.headers&&Object.keys(e.headers).length>0&&r.push(`headers = ${ya(e.headers,0,n)}`),e.body!==void 0&&e.body!==null&&(typeof e.body=="object"?r.push(`payload = ${ya(e.body,0,n)}`):r.push(`payload = ${JSON.stringify(e.body)}`)),r.push("");const s=e.method.toLowerCase(),i=["url"];if(e.params&&Object.keys(e.params).length>0&&i.push("params=params"),e.headers&&Object.keys(e.headers).length>0&&i.push("headers=headers"),e.body!==void 0&&e.body!==null&&((e.headers?.["Content-Type"]||e.headers?.["content-type"]||"").includes("application/json")||typeof e.body=="object"?i.push("json=payload"):i.push("data=payload")),n&&i.length>2){r.push(`response = requests.${s}(`);for(let o=0;o<i.length;o++){const a=o<i.length-1?",":"";r.push(`    ${i[o]}${a}`)}r.push(")")}else r.push(`response = requests.${s}(${i.join(", ")})`);return r.push(""),r.push("response.raise_for_status()"),r.push(""),r.push("data = response.json()"),r.push("print(data)"),r.join(`
`)}const zu={curl:ny,javascript:oy,python:{language:"python",displayName:"Python",extension:"py",generate:ay},go:sy};function ly(){return Object.values(zu).map(e=>({language:e.language,displayName:e.displayName}))}function cy(e,t,n){const r=zu[e];if(!r)throw new Error(`Unknown language: ${e}`);return{language:r.language,displayName:r.displayName,code:r.generate(t,n),extension:r.extension}}function uy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xs={exports:{}},va={},Gt={},xn={},wa={},ka={},xa={},Vu;function Zs(){return Vu||(Vu=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((y,k)=>`${y}${k}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((y,k)=>(k instanceof n&&(y[k.str]=(y[k.str]||0)+1),y),{})}}e._Code=r,e.nil=new r("");function s(w,...h){const y=[w[0]];let k=0;for(;k<h.length;)a(y,h[k]),y.push(w[++k]);return new r(y)}e._=s;const i=new r("+");function o(w,...h){const y=[m(w[0])];let k=0;for(;k<h.length;)y.push(i),a(y,h[k]),y.push(i,m(w[++k]));return l(y),new r(y)}e.str=o;function a(w,h){h instanceof r?w.push(...h._items):h instanceof n?w.push(h):w.push(d(h))}e.addCodeArg=a;function l(w){let h=1;for(;h<w.length-1;){if(w[h]===i){const y=c(w[h-1],w[h+1]);if(y!==void 0){w.splice(h-1,3,y);continue}w[h++]="+"}h++}}function c(w,h){if(h==='""')return w;if(w==='""')return h;if(typeof w=="string")return h instanceof n||w[w.length-1]!=='"'?void 0:typeof h!="string"?`${w.slice(0,-1)}${h}"`:h[0]==='"'?w.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(w instanceof n))return`"${w}${h.slice(1)}`}function u(w,h){return h.emptyStr()?w:w.emptyStr()?h:o`${w}${h}`}e.strConcat=u;function d(w){return typeof w=="number"||typeof w=="boolean"||w===null?w:m(Array.isArray(w)?w.join(","):w)}function f(w){return new r(m(w))}e.stringify=f;function m(w){return JSON.stringify(w).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function b(w){return typeof w=="string"&&e.IDENTIFIER.test(w)?new r(`.${w}`):s`[${w}]`}e.getProperty=b;function g(w){if(typeof w=="string"&&e.IDENTIFIER.test(w))return new r(`${w}`);throw new Error(`CodeGen: invalid export name: ${w}, use explicit $id name mapping`)}e.getEsmExportName=g;function p(w){return new r(w.toString())}e.regexpCode=p})(xa)),xa}var Sa={},Hu;function Gu(){return Hu||(Hu=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Zs();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=s;class i extends t.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(u)}[${d}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class a extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:m}=f,b=(d=u.key)!==null&&d!==void 0?d:u.ref;let g=this._values[m];if(g){const h=g.get(b);if(h)return h}else g=this._values[m]=new Map;g.set(b,f);const p=this._scope[m]||(this._scope[m]=[]),w=p.length;return p[w]=u.ref,f.setValue(u,{property:m,itemIndex:w}),f}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},u,d)}_reduceValues(c,u,d={},f){let m=t.nil;for(const b in c){const g=c[b];if(!g)continue;const p=d[b]=d[b]||new Map;g.forEach(w=>{if(p.has(w))return;p.set(w,r.Started);let h=u(w);if(h){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${w} = ${h};${this.opts._n}`}else if(h=f?.(w))m=(0,t._)`${m}${h}${this.opts._n}`;else throw new n(w);p.set(w,r.Completed)})}return m}}e.ValueScope=a})(Sa)),Sa}var Wu;function ge(){return Wu||(Wu=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Zs(),n=Gu();var r=Zs();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var s=Gu();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(_,T){return this}}class o extends i{constructor(_,T,B){super(),this.varKind=_,this.name=T,this.rhs=B}render({es5:_,_n:T}){const B=_?n.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${B} ${this.name}${V};`+T}optimizeNames(_,T){if(_[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,_,T)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(_,T,B){super(),this.lhs=_,this.rhs=T,this.sideEffects=B}render({_n:_}){return`${this.lhs} = ${this.rhs};`+_}optimizeNames(_,T){if(!(this.lhs instanceof t.Name&&!_[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,_,T),this}get names(){const _=this.lhs instanceof t.Name?{}:{...this.lhs.names};return z(_,this.rhs)}}class l extends a{constructor(_,T,B,V){super(_,B,V),this.op=T}render({_n:_}){return`${this.lhs} ${this.op}= ${this.rhs};`+_}}class c extends i{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`${this.label}:`+_}}class u extends i{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`break${this.label?` ${this.label}`:""};`+_}}class d extends i{constructor(_){super(),this.error=_}render({_n:_}){return`throw ${this.error};`+_}get names(){return this.error.names}}class f extends i{constructor(_){super(),this.code=_}render({_n:_}){return`${this.code};`+_}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_,T){return this.code=H(this.code,_,T),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends i{constructor(_=[]){super(),this.nodes=_}render(_){return this.nodes.reduce((T,B)=>T+B.render(_),"")}optimizeNodes(){const{nodes:_}=this;let T=_.length;for(;T--;){const B=_[T].optimizeNodes();Array.isArray(B)?_.splice(T,1,...B):B?_[T]=B:_.splice(T,1)}return _.length>0?this:void 0}optimizeNames(_,T){const{nodes:B}=this;let V=B.length;for(;V--;){const Y=B[V];Y.optimizeNames(_,T)||(W(_,Y.names),B.splice(V,1))}return B.length>0?this:void 0}get names(){return this.nodes.reduce((_,T)=>D(_,T.names),{})}}class b extends m{render(_){return"{"+_._n+super.render(_)+"}"+_._n}}class g extends m{}class p extends b{}p.kind="else";class w extends b{constructor(_,T){super(T),this.condition=_}render(_){let T=`if(${this.condition})`+super.render(_);return this.else&&(T+="else "+this.else.render(_)),T}optimizeNodes(){super.optimizeNodes();const _=this.condition;if(_===!0)return this.nodes;let T=this.else;if(T){const B=T.optimizeNodes();T=this.else=Array.isArray(B)?new p(B):B}if(T)return _===!1?T instanceof w?T:T.nodes:this.nodes.length?this:new w(re(_),T instanceof w?[T]:T.nodes);if(!(_===!1||!this.nodes.length))return this}optimizeNames(_,T){var B;if(this.else=(B=this.else)===null||B===void 0?void 0:B.optimizeNames(_,T),!!(super.optimizeNames(_,T)||this.else))return this.condition=H(this.condition,_,T),this}get names(){const _=super.names;return z(_,this.condition),this.else&&D(_,this.else.names),_}}w.kind="if";class h extends b{}h.kind="for";class y extends h{constructor(_){super(),this.iteration=_}render(_){return`for(${this.iteration})`+super.render(_)}optimizeNames(_,T){if(super.optimizeNames(_,T))return this.iteration=H(this.iteration,_,T),this}get names(){return D(super.names,this.iteration.names)}}class k extends h{constructor(_,T,B,V){super(),this.varKind=_,this.name=T,this.from=B,this.to=V}render(_){const T=_.es5?n.varKinds.var:this.varKind,{name:B,from:V,to:Y}=this;return`for(${T} ${B}=${V}; ${B}<${Y}; ${B}++)`+super.render(_)}get names(){const _=z(super.names,this.from);return z(_,this.to)}}class v extends h{constructor(_,T,B,V){super(),this.loop=_,this.varKind=T,this.name=B,this.iterable=V}render(_){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_)}optimizeNames(_,T){if(super.optimizeNames(_,T))return this.iterable=H(this.iterable,_,T),this}get names(){return D(super.names,this.iterable.names)}}class x extends b{constructor(_,T,B){super(),this.name=_,this.args=T,this.async=B}render(_){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_)}}x.kind="func";class S extends m{render(_){return"return "+super.render(_)}}S.kind="return";class E extends b{render(_){let T="try"+super.render(_);return this.catch&&(T+=this.catch.render(_)),this.finally&&(T+=this.finally.render(_)),T}optimizeNodes(){var _,T;return super.optimizeNodes(),(_=this.catch)===null||_===void 0||_.optimizeNodes(),(T=this.finally)===null||T===void 0||T.optimizeNodes(),this}optimizeNames(_,T){var B,V;return super.optimizeNames(_,T),(B=this.catch)===null||B===void 0||B.optimizeNames(_,T),(V=this.finally)===null||V===void 0||V.optimizeNames(_,T),this}get names(){const _=super.names;return this.catch&&D(_,this.catch.names),this.finally&&D(_,this.finally.names),_}}class C extends b{constructor(_){super(),this.error=_}render(_){return`catch(${this.error})`+super.render(_)}}C.kind="catch";class M extends b{render(_){return"finally"+super.render(_)}}M.kind="finally";class j{constructor(_,T={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...T,_n:T.lines?`
`:""},this._extScope=_,this._scope=new n.Scope({parent:_}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,T){const B=this._extScope.value(_,T);return(this._values[B.prefix]||(this._values[B.prefix]=new Set)).add(B),B}getScopeValue(_,T){return this._extScope.getValue(_,T)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,T,B,V){const Y=this._scope.toName(T);return B!==void 0&&V&&(this._constants[Y.str]=B),this._leafNode(new o(_,Y,B)),Y}const(_,T,B){return this._def(n.varKinds.const,_,T,B)}let(_,T,B){return this._def(n.varKinds.let,_,T,B)}var(_,T,B){return this._def(n.varKinds.var,_,T,B)}assign(_,T,B){return this._leafNode(new a(_,T,B))}add(_,T){return this._leafNode(new l(_,e.operators.ADD,T))}code(_){return typeof _=="function"?_():_!==t.nil&&this._leafNode(new f(_)),this}object(..._){const T=["{"];for(const[B,V]of _)T.length>1&&T.push(","),T.push(B),(B!==V||this.opts.es5)&&(T.push(":"),(0,t.addCodeArg)(T,V));return T.push("}"),new t._Code(T)}if(_,T,B){if(this._blockNode(new w(_)),T&&B)this.code(T).else().code(B).endIf();else if(T)this.code(T).endIf();else if(B)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new w(_))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(w,p)}_for(_,T){return this._blockNode(_),T&&this.code(T).endFor(),this}for(_,T){return this._for(new y(_),T)}forRange(_,T,B,V,Y=this.opts.es5?n.varKinds.var:n.varKinds.let){const ce=this._scope.toName(_);return this._for(new k(Y,ce,T,B),()=>V(ce))}forOf(_,T,B,V=n.varKinds.const){const Y=this._scope.toName(_);if(this.opts.es5){const ce=T instanceof t.Name?T:this.var("_arr",T);return this.forRange("_i",0,(0,t._)`${ce}.length`,ie=>{this.var(Y,(0,t._)`${ce}[${ie}]`),B(Y)})}return this._for(new v("of",V,Y,T),()=>B(Y))}forIn(_,T,B,V=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(_,(0,t._)`Object.keys(${T})`,B);const Y=this._scope.toName(_);return this._for(new v("in",V,Y,T),()=>B(Y))}endFor(){return this._endBlockNode(h)}label(_){return this._leafNode(new c(_))}break(_){return this._leafNode(new u(_))}return(_){const T=new S;if(this._blockNode(T),this.code(_),T.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(_,T,B){if(!T&&!B)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new E;if(this._blockNode(V),this.code(_),T){const Y=this.name("e");this._currNode=V.catch=new C(Y),T(Y)}return B&&(this._currNode=V.finally=new M,this.code(B)),this._endBlockNode(C,M)}throw(_){return this._leafNode(new d(_))}block(_,T){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(T),this}endBlock(_){const T=this._blockStarts.pop();if(T===void 0)throw new Error("CodeGen: not in self-balancing block");const B=this._nodes.length-T;if(B<0||_!==void 0&&B!==_)throw new Error(`CodeGen: wrong number of nodes: ${B} vs ${_} expected`);return this._nodes.length=T,this}func(_,T=t.nil,B,V){return this._blockNode(new x(_,T,B)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(_=1){for(;_-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,T){const B=this._currNode;if(B instanceof _||T&&B instanceof T)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${T?`${_.kind}/${T.kind}`:_.kind}"`)}_elseNode(_){const T=this._currNode;if(!(T instanceof w))throw new Error('CodeGen: "else" without "if"');return this._currNode=T.else=_,this}get _root(){return this._nodes[0]}get _currNode(){const _=this._nodes;return _[_.length-1]}set _currNode(_){const T=this._nodes;T[T.length-1]=_}}e.CodeGen=j;function D(P,_){for(const T in _)P[T]=(P[T]||0)+(_[T]||0);return P}function z(P,_){return _ instanceof t._CodeOrName?D(P,_.names):P}function H(P,_,T){if(P instanceof t.Name)return B(P);if(!V(P))return P;return new t._Code(P._items.reduce((Y,ce)=>(ce instanceof t.Name&&(ce=B(ce)),ce instanceof t._Code?Y.push(...ce._items):Y.push(ce),Y),[]));function B(Y){const ce=T[Y.str];return ce===void 0||_[Y.str]!==1?Y:(delete _[Y.str],ce)}function V(Y){return Y instanceof t._Code&&Y._items.some(ce=>ce instanceof t.Name&&_[ce.str]===1&&T[ce.str]!==void 0)}}function W(P,_){for(const T in _)P[T]=(P[T]||0)-(_[T]||0)}function re(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${F(P)}`}e.not=re;const le=O(e.operators.AND);function G(...P){return P.reduce(le)}e.and=G;const ne=O(e.operators.OR);function q(...P){return P.reduce(ne)}e.or=q;function O(P){return(_,T)=>_===t.nil?T:T===t.nil?_:(0,t._)`${F(_)} ${P} ${F(T)}`}function F(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(ka)),ka}var pe={},Ju;function ve(){if(Ju)return pe;Ju=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.checkStrictMode=pe.getErrorPath=pe.Type=pe.useFunc=pe.setEvaluated=pe.evaluatedPropsToName=pe.mergeEvaluated=pe.eachItem=pe.unescapeJsonPointer=pe.escapeJsonPointer=pe.escapeFragment=pe.unescapeFragment=pe.schemaRefOrVal=pe.schemaHasRulesButRef=pe.schemaHasRules=pe.checkUnknownRules=pe.alwaysValidSchema=pe.toHash=void 0;const e=ge(),t=Zs();function n(v){const x={};for(const S of v)x[S]=!0;return x}pe.toHash=n;function r(v,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(v,x),!i(x,v.self.RULES.all))}pe.alwaysValidSchema=r;function s(v,x=v.schema){const{opts:S,self:E}=v;if(!S.strictSchema||typeof x=="boolean")return;const C=E.RULES.keywords;for(const M in x)C[M]||k(v,`unknown keyword: "${M}"`)}pe.checkUnknownRules=s;function i(v,x){if(typeof v=="boolean")return!v;for(const S in v)if(x[S])return!0;return!1}pe.schemaHasRules=i;function o(v,x){if(typeof v=="boolean")return!v;for(const S in v)if(S!=="$ref"&&x.all[S])return!0;return!1}pe.schemaHasRulesButRef=o;function a({topSchemaRef:v,schemaPath:x},S,E,C){if(!C){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,e._)`${S}`}return(0,e._)`${v}${x}${(0,e.getProperty)(E)}`}pe.schemaRefOrVal=a;function l(v){return d(decodeURIComponent(v))}pe.unescapeFragment=l;function c(v){return encodeURIComponent(u(v))}pe.escapeFragment=c;function u(v){return typeof v=="number"?`${v}`:v.replace(/~/g,"~0").replace(/\//g,"~1")}pe.escapeJsonPointer=u;function d(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}pe.unescapeJsonPointer=d;function f(v,x){if(Array.isArray(v))for(const S of v)x(S);else x(v)}pe.eachItem=f;function m({mergeNames:v,mergeToName:x,mergeValues:S,resultToName:E}){return(C,M,j,D)=>{const z=j===void 0?M:j instanceof e.Name?(M instanceof e.Name?v(C,M,j):x(C,M,j),j):M instanceof e.Name?(x(C,j,M),M):S(M,j);return D===e.Name&&!(z instanceof e.Name)?E(C,z):z}}pe.mergeEvaluated={props:m({mergeNames:(v,x,S)=>v.if((0,e._)`${S} !== true && ${x} !== undefined`,()=>{v.if((0,e._)`${x} === true`,()=>v.assign(S,!0),()=>v.assign(S,(0,e._)`${S} || {}`).code((0,e._)`Object.assign(${S}, ${x})`))}),mergeToName:(v,x,S)=>v.if((0,e._)`${S} !== true`,()=>{x===!0?v.assign(S,!0):(v.assign(S,(0,e._)`${S} || {}`),g(v,S,x))}),mergeValues:(v,x)=>v===!0?!0:{...v,...x},resultToName:b}),items:m({mergeNames:(v,x,S)=>v.if((0,e._)`${S} !== true && ${x} !== undefined`,()=>v.assign(S,(0,e._)`${x} === true ? true : ${S} > ${x} ? ${S} : ${x}`)),mergeToName:(v,x,S)=>v.if((0,e._)`${S} !== true`,()=>v.assign(S,x===!0?!0:(0,e._)`${S} > ${x} ? ${S} : ${x}`)),mergeValues:(v,x)=>v===!0?!0:Math.max(v,x),resultToName:(v,x)=>v.var("items",x)})};function b(v,x){if(x===!0)return v.var("props",!0);const S=v.var("props",(0,e._)`{}`);return x!==void 0&&g(v,S,x),S}pe.evaluatedPropsToName=b;function g(v,x,S){Object.keys(S).forEach(E=>v.assign((0,e._)`${x}${(0,e.getProperty)(E)}`,!0))}pe.setEvaluated=g;const p={};function w(v,x){return v.scopeValue("func",{ref:x,code:p[x.code]||(p[x.code]=new t._Code(x.code))})}pe.useFunc=w;var h;(function(v){v[v.Num=0]="Num",v[v.Str=1]="Str"})(h||(pe.Type=h={}));function y(v,x,S){if(v instanceof e.Name){const E=x===h.Num;return S?E?(0,e._)`"[" + ${v} + "]"`:(0,e._)`"['" + ${v} + "']"`:E?(0,e._)`"/" + ${v}`:(0,e._)`"/" + ${v}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,e.getProperty)(v).toString():"/"+u(v)}pe.getErrorPath=y;function k(v,x,S=v.opts.strictSchema){if(S){if(x=`strict mode: ${x}`,S===!0)throw new Error(x);v.self.logger.warn(x)}}return pe.checkStrictMode=k,pe}var ei={},Yu;function un(){if(Yu)return ei;Yu=1,Object.defineProperty(ei,"__esModule",{value:!0});const e=ge(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return ei.default=t,ei}var Qu;function ti(){return Qu||(Qu=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ge(),n=ve(),r=un();e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:w})=>w?(0,t.str)`"${p}" keyword must be ${w} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function s(p,w=e.keywordError,h,y){const{it:k}=p,{gen:v,compositeRule:x,allErrors:S}=k,E=d(p,w,h);y??(x||S)?l(v,E):c(k,(0,t._)`[${E}]`)}e.reportError=s;function i(p,w=e.keywordError,h){const{it:y}=p,{gen:k,compositeRule:v,allErrors:x}=y,S=d(p,w,h);l(k,S),v||x||c(y,r.default.vErrors)}e.reportExtraError=i;function o(p,w){p.assign(r.default.errors,w),p.if((0,t._)`${r.default.vErrors} !== null`,()=>p.if(w,()=>p.assign((0,t._)`${r.default.vErrors}.length`,w),()=>p.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:p,keyword:w,schemaValue:h,data:y,errsCount:k,it:v}){if(k===void 0)throw new Error("ajv implementation error");const x=p.name("err");p.forRange("i",k,r.default.errors,S=>{p.const(x,(0,t._)`${r.default.vErrors}[${S}]`),p.if((0,t._)`${x}.instancePath === undefined`,()=>p.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(r.default.instancePath,v.errorPath))),p.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${v.errSchemaPath}/${w}`),v.opts.verbose&&(p.assign((0,t._)`${x}.schema`,h),p.assign((0,t._)`${x}.data`,y))})}e.extendErrors=a;function l(p,w){const h=p.const("err",w);p.if((0,t._)`${r.default.vErrors} === null`,()=>p.assign(r.default.vErrors,(0,t._)`[${h}]`),(0,t._)`${r.default.vErrors}.push(${h})`),p.code((0,t._)`${r.default.errors}++`)}function c(p,w){const{gen:h,validateName:y,schemaEnv:k}=p;k.$async?h.throw((0,t._)`new ${p.ValidationError}(${w})`):(h.assign((0,t._)`${y}.errors`,w),h.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(p,w,h){const{createErrors:y}=p.it;return y===!1?(0,t._)`{}`:f(p,w,h)}function f(p,w,h={}){const{gen:y,it:k}=p,v=[m(k,h),b(p,h)];return g(p,w,v),y.object(...v)}function m({errorPath:p},{instancePath:w}){const h=w?(0,t.str)`${p}${(0,n.getErrorPath)(w,n.Type.Str)}`:p;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,h)]}function b({keyword:p,it:{errSchemaPath:w}},{schemaPath:h,parentSchema:y}){let k=y?w:(0,t.str)`${w}/${p}`;return h&&(k=(0,t.str)`${k}${(0,n.getErrorPath)(h,n.Type.Str)}`),[u.schemaPath,k]}function g(p,{params:w,message:h},y){const{keyword:k,data:v,schemaValue:x,it:S}=p,{opts:E,propertyName:C,topSchemaRef:M,schemaPath:j}=S;y.push([u.keyword,k],[u.params,typeof w=="function"?w(p):w||(0,t._)`{}`]),E.messages&&y.push([u.message,typeof h=="function"?h(p):h]),E.verbose&&y.push([u.schema,x],[u.parentSchema,(0,t._)`${M}${j}`],[r.default.data,v]),C&&y.push([u.propertyName,C])}})(wa)),wa}var Xu;function dy(){if(Xu)return xn;Xu=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.boolOrEmptySchema=xn.topBoolOrEmptySchema=void 0;const e=ti(),t=ge(),n=un(),r={message:"boolean schema is false"};function s(a){const{gen:l,schema:c,validateName:u}=a;c===!1?o(a,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${u}.errors`,null),l.return(!0))}xn.topBoolOrEmptySchema=s;function i(a,l){const{gen:c,schema:u}=a;u===!1?(c.var(l,!1),o(a)):c.var(l,!0)}xn.boolOrEmptySchema=i;function o(a,l){const{gen:c,data:u}=a,d={gen:c,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return xn}var Ge={},Sn={},Zu;function ed(){if(Zu)return Sn;Zu=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.getRules=Sn.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(s){return typeof s=="string"&&t.has(s)}Sn.isJSONType=n;function r(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}return Sn.getRules=r,Sn}var Wt={},td;function nd(){if(td)return Wt;td=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.shouldUseRule=Wt.shouldUseGroup=Wt.schemaHasRulesForType=void 0;function e({schema:r,self:s},i){const o=s.RULES.types[i];return o&&o!==!0&&t(r,o)}Wt.schemaHasRulesForType=e;function t(r,s){return s.rules.some(i=>n(r,i))}Wt.shouldUseGroup=t;function n(r,s){var i;return r[s.keyword]!==void 0||((i=s.definition.implements)===null||i===void 0?void 0:i.some(o=>r[o]!==void 0))}return Wt.shouldUseRule=n,Wt}var rd;function ni(){if(rd)return Ge;rd=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.reportTypeError=Ge.checkDataTypes=Ge.checkDataType=Ge.coerceAndCheckDataType=Ge.getJSONTypes=Ge.getSchemaTypes=Ge.DataType=void 0;const e=ed(),t=nd(),n=ti(),r=ge(),s=ve();var i;(function(h){h[h.Correct=0]="Correct",h[h.Wrong=1]="Wrong"})(i||(Ge.DataType=i={}));function o(h){const y=a(h.type);if(y.includes("null")){if(h.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&h.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');h.nullable===!0&&y.push("null")}return y}Ge.getSchemaTypes=o;function a(h){const y=Array.isArray(h)?h:h?[h]:[];if(y.every(e.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}Ge.getJSONTypes=a;function l(h,y){const{gen:k,data:v,opts:x}=h,S=u(y,x.coerceTypes),E=y.length>0&&!(S.length===0&&y.length===1&&(0,t.schemaHasRulesForType)(h,y[0]));if(E){const C=b(y,v,x.strictNumbers,i.Wrong);k.if(C,()=>{S.length?d(h,y,S):p(h)})}return E}Ge.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function u(h,y){return y?h.filter(k=>c.has(k)||y==="array"&&k==="array"):[]}function d(h,y,k){const{gen:v,data:x,opts:S}=h,E=v.let("dataType",(0,r._)`typeof ${x}`),C=v.let("coerced",(0,r._)`undefined`);S.coerceTypes==="array"&&v.if((0,r._)`${E} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>v.assign(x,(0,r._)`${x}[0]`).assign(E,(0,r._)`typeof ${x}`).if(b(y,x,S.strictNumbers),()=>v.assign(C,x))),v.if((0,r._)`${C} !== undefined`);for(const j of k)(c.has(j)||j==="array"&&S.coerceTypes==="array")&&M(j);v.else(),p(h),v.endIf(),v.if((0,r._)`${C} !== undefined`,()=>{v.assign(x,C),f(h,C)});function M(j){switch(j){case"string":v.elseIf((0,r._)`${E} == "number" || ${E} == "boolean"`).assign(C,(0,r._)`"" + ${x}`).elseIf((0,r._)`${x} === null`).assign(C,(0,r._)`""`);return;case"number":v.elseIf((0,r._)`${E} == "boolean" || ${x} === null
              || (${E} == "string" && ${x} && ${x} == +${x})`).assign(C,(0,r._)`+${x}`);return;case"integer":v.elseIf((0,r._)`${E} === "boolean" || ${x} === null
              || (${E} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(C,(0,r._)`+${x}`);return;case"boolean":v.elseIf((0,r._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(C,!1).elseIf((0,r._)`${x} === "true" || ${x} === 1`).assign(C,!0);return;case"null":v.elseIf((0,r._)`${x} === "" || ${x} === 0 || ${x} === false`),v.assign(C,null);return;case"array":v.elseIf((0,r._)`${E} === "string" || ${E} === "number"
              || ${E} === "boolean" || ${x} === null`).assign(C,(0,r._)`[${x}]`)}}}function f({gen:h,parentData:y,parentDataProperty:k},v){h.if((0,r._)`${y} !== undefined`,()=>h.assign((0,r._)`${y}[${k}]`,v))}function m(h,y,k,v=i.Correct){const x=v===i.Correct?r.operators.EQ:r.operators.NEQ;let S;switch(h){case"null":return(0,r._)`${y} ${x} null`;case"array":S=(0,r._)`Array.isArray(${y})`;break;case"object":S=(0,r._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":S=E((0,r._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":S=E();break;default:return(0,r._)`typeof ${y} ${x} ${h}`}return v===i.Correct?S:(0,r.not)(S);function E(C=r.nil){return(0,r.and)((0,r._)`typeof ${y} == "number"`,C,k?(0,r._)`isFinite(${y})`:r.nil)}}Ge.checkDataType=m;function b(h,y,k,v){if(h.length===1)return m(h[0],y,k,v);let x;const S=(0,s.toHash)(h);if(S.array&&S.object){const E=(0,r._)`typeof ${y} != "object"`;x=S.null?E:(0,r._)`!${y} || ${E}`,delete S.null,delete S.array,delete S.object}else x=r.nil;S.number&&delete S.integer;for(const E in S)x=(0,r.and)(x,m(E,y,k,v));return x}Ge.checkDataTypes=b;const g={message:({schema:h})=>`must be ${h}`,params:({schema:h,schemaValue:y})=>typeof h=="string"?(0,r._)`{type: ${h}}`:(0,r._)`{type: ${y}}`};function p(h){const y=w(h);(0,n.reportError)(y,g)}Ge.reportTypeError=p;function w(h){const{gen:y,data:k,schema:v}=h,x=(0,s.schemaRefOrVal)(h,v,"type");return{gen:y,keyword:"type",data:k,schema:v.type,schemaCode:x,schemaValue:x,parentSchema:v,params:{},it:h}}return Ge}var qr={},sd;function fy(){if(sd)return qr;sd=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.assignDefaults=void 0;const e=ge(),t=ve();function n(s,i){const{properties:o,items:a}=s.schema;if(i==="object"&&o)for(const l in o)r(s,l,o[l].default);else i==="array"&&Array.isArray(a)&&a.forEach((l,c)=>r(s,c,l.default))}qr.assignDefaults=n;function r(s,i,o){const{gen:a,compositeRule:l,data:c,opts:u}=s;if(o===void 0)return;const d=(0,e._)`${c}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(s,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;u.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return qr}var At={},xe={},id;function Tt(){if(id)return xe;id=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.validateUnion=xe.validateArray=xe.usePattern=xe.callValidateCode=xe.schemaProperties=xe.allSchemaProperties=xe.noPropertyInData=xe.propertyInData=xe.isOwnProperty=xe.hasPropFunc=xe.reportMissingProp=xe.checkMissingProp=xe.checkReportMissingProp=void 0;const e=ge(),t=ve(),n=un(),r=ve();function s(h,y){const{gen:k,data:v,it:x}=h;k.if(u(k,v,y,x.opts.ownProperties),()=>{h.setParams({missingProperty:(0,e._)`${y}`},!0),h.error()})}xe.checkReportMissingProp=s;function i({gen:h,data:y,it:{opts:k}},v,x){return(0,e.or)(...v.map(S=>(0,e.and)(u(h,y,S,k.ownProperties),(0,e._)`${x} = ${S}`)))}xe.checkMissingProp=i;function o(h,y){h.setParams({missingProperty:y},!0),h.error()}xe.reportMissingProp=o;function a(h){return h.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}xe.hasPropFunc=a;function l(h,y,k){return(0,e._)`${a(h)}.call(${y}, ${k})`}xe.isOwnProperty=l;function c(h,y,k,v){const x=(0,e._)`${y}${(0,e.getProperty)(k)} !== undefined`;return v?(0,e._)`${x} && ${l(h,y,k)}`:x}xe.propertyInData=c;function u(h,y,k,v){const x=(0,e._)`${y}${(0,e.getProperty)(k)} === undefined`;return v?(0,e.or)(x,(0,e.not)(l(h,y,k))):x}xe.noPropertyInData=u;function d(h){return h?Object.keys(h).filter(y=>y!=="__proto__"):[]}xe.allSchemaProperties=d;function f(h,y){return d(y).filter(k=>!(0,t.alwaysValidSchema)(h,y[k]))}xe.schemaProperties=f;function m({schemaCode:h,data:y,it:{gen:k,topSchemaRef:v,schemaPath:x,errorPath:S},it:E},C,M,j){const D=j?(0,e._)`${h}, ${y}, ${v}${x}`:y,z=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,S)],[n.default.parentData,E.parentData],[n.default.parentDataProperty,E.parentDataProperty],[n.default.rootData,n.default.rootData]];E.opts.dynamicRef&&z.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,e._)`${D}, ${k.object(...z)}`;return M!==e.nil?(0,e._)`${C}.call(${M}, ${H})`:(0,e._)`${C}(${H})`}xe.callValidateCode=m;const b=(0,e._)`new RegExp`;function g({gen:h,it:{opts:y}},k){const v=y.unicodeRegExp?"u":"",{regExp:x}=y.code,S=x(k,v);return h.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,e._)`${x.code==="new RegExp"?b:(0,r.useFunc)(h,x)}(${k}, ${v})`})}xe.usePattern=g;function p(h){const{gen:y,data:k,keyword:v,it:x}=h,S=y.name("valid");if(x.allErrors){const C=y.let("valid",!0);return E(()=>y.assign(C,!1)),C}return y.var(S,!0),E(()=>y.break()),S;function E(C){const M=y.const("len",(0,e._)`${k}.length`);y.forRange("i",0,M,j=>{h.subschema({keyword:v,dataProp:j,dataPropType:t.Type.Num},S),y.if((0,e.not)(S),C)})}}xe.validateArray=p;function w(h){const{gen:y,schema:k,keyword:v,it:x}=h;if(!Array.isArray(k))throw new Error("ajv implementation error");if(k.some(M=>(0,t.alwaysValidSchema)(x,M))&&!x.opts.unevaluated)return;const E=y.let("valid",!1),C=y.name("_valid");y.block(()=>k.forEach((M,j)=>{const D=h.subschema({keyword:v,schemaProp:j,compositeRule:!0},C);y.assign(E,(0,e._)`${E} || ${C}`),h.mergeValidEvaluated(D,C)||y.if((0,e.not)(E))})),h.result(E,()=>h.reset(),()=>h.error(!0))}return xe.validateUnion=w,xe}var od;function hy(){if(od)return At;od=1,Object.defineProperty(At,"__esModule",{value:!0}),At.validateKeywordUsage=At.validSchemaType=At.funcKeywordCode=At.macroKeywordCode=void 0;const e=ge(),t=un(),n=Tt(),r=ti();function s(f,m){const{gen:b,keyword:g,schema:p,parentSchema:w,it:h}=f,y=m.macro.call(h.self,p,w,h),k=c(b,g,y);h.opts.validateSchema!==!1&&h.self.validateSchema(y,!0);const v=b.name("valid");f.subschema({schema:y,schemaPath:e.nil,errSchemaPath:`${h.errSchemaPath}/${g}`,topSchemaRef:k,compositeRule:!0},v),f.pass(v,()=>f.error(!0))}At.macroKeywordCode=s;function i(f,m){var b;const{gen:g,keyword:p,schema:w,parentSchema:h,$data:y,it:k}=f;l(k,m);const v=!y&&m.compile?m.compile.call(k.self,w,h,k):m.validate,x=c(g,p,v),S=g.let("valid");f.block$data(S,E),f.ok((b=m.valid)!==null&&b!==void 0?b:S);function E(){if(m.errors===!1)j(),m.modifying&&o(f),D(()=>f.error());else{const z=m.async?C():M();m.modifying&&o(f),D(()=>a(f,z))}}function C(){const z=g.let("ruleErrs",null);return g.try(()=>j((0,e._)`await `),H=>g.assign(S,!1).if((0,e._)`${H} instanceof ${k.ValidationError}`,()=>g.assign(z,(0,e._)`${H}.errors`),()=>g.throw(H))),z}function M(){const z=(0,e._)`${x}.errors`;return g.assign(z,null),j(e.nil),z}function j(z=m.async?(0,e._)`await `:e.nil){const H=k.opts.passContext?t.default.this:t.default.self,W=!("compile"in m&&!y||m.schema===!1);g.assign(S,(0,e._)`${z}${(0,n.callValidateCode)(f,x,H,W)}`,m.modifying)}function D(z){var H;g.if((0,e.not)((H=m.valid)!==null&&H!==void 0?H:S),z)}}At.funcKeywordCode=i;function o(f){const{gen:m,data:b,it:g}=f;m.if(g.parentData,()=>m.assign(b,(0,e._)`${g.parentData}[${g.parentDataProperty}]`))}function a(f,m){const{gen:b}=f;b.if((0,e._)`Array.isArray(${m})`,()=>{b.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${m} : ${t.default.vErrors}.concat(${m})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},m){if(m.async&&!f.$async)throw new Error("async keyword in sync schema")}function c(f,m,b){if(b===void 0)throw new Error(`keyword "${m}" failed to compile`);return f.scopeValue("keyword",typeof b=="function"?{ref:b}:{ref:b,code:(0,e.stringify)(b)})}function u(f,m,b=!1){return!m.length||m.some(g=>g==="array"?Array.isArray(f):g==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==g||b&&typeof f>"u")}At.validSchemaType=u;function d({schema:f,opts:m,self:b,errSchemaPath:g},p,w){if(Array.isArray(p.keyword)?!p.keyword.includes(w):p.keyword!==w)throw new Error("ajv implementation error");const h=p.dependencies;if(h?.some(y=>!Object.prototype.hasOwnProperty.call(f,y)))throw new Error(`parent schema must have dependencies of ${w}: ${h.join(",")}`);if(p.validateSchema&&!p.validateSchema(f[w])){const k=`keyword "${w}" value is invalid at path "${g}": `+b.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")b.logger.error(k);else throw new Error(k)}}return At.validateKeywordUsage=d,At}var Jt={},ad;function py(){if(ad)return Jt;ad=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.extendSubschemaMode=Jt.extendSubschemaData=Jt.getSubschema=void 0;const e=ge(),t=ve();function n(i,{keyword:o,schemaProp:a,schema:l,schemaPath:c,errSchemaPath:u,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const f=i.schema[o];return a===void 0?{schema:f,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:f[a],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(c===void 0||u===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Jt.getSubschema=n;function r(i,o,{dataProp:a,dataPropType:l,data:c,dataTypes:u,propertyName:d}){if(c!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=o;if(a!==void 0){const{errorPath:b,dataPathArr:g,opts:p}=o,w=f.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);m(w),i.errorPath=(0,e.str)`${b}${(0,t.getErrorPath)(a,l,p.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${a}`,i.dataPathArr=[...g,i.parentDataProperty]}if(c!==void 0){const b=c instanceof e.Name?c:f.let("data",c,!0);m(b),d!==void 0&&(i.propertyName=d)}u&&(i.dataTypes=u);function m(b){i.data=b,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,b]}}Jt.extendSubschemaData=r;function s(i,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:c,allErrors:u}){l!==void 0&&(i.compositeRule=l),c!==void 0&&(i.createErrors=c),u!==void 0&&(i.allErrors=u),i.jtdDiscriminator=o,i.jtdMetadata=a}return Jt.extendSubschemaMode=s,Jt}var tt={},Ea,ld;function cd(){return ld||(ld=1,Ea=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Ea}var _a={exports:{}},ud;function my(){if(ud)return _a.exports;ud=1;var e=_a.exports=function(r,s,i){typeof s=="function"&&(i=s,s={}),i=s.cb||i;var o=typeof i=="function"?i:i.pre||function(){},a=i.post||function(){};t(s,o,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,s,i,o,a,l,c,u,d,f){if(o&&typeof o=="object"&&!Array.isArray(o)){s(o,a,l,c,u,d,f);for(var m in o){var b=o[m];if(Array.isArray(b)){if(m in e.arrayKeywords)for(var g=0;g<b.length;g++)t(r,s,i,b[g],a+"/"+m+"/"+g,l,a,m,o,g)}else if(m in e.propsKeywords){if(b&&typeof b=="object")for(var p in b)t(r,s,i,b[p],a+"/"+m+"/"+n(p),l,a,m,o,p)}else(m in e.keywords||r.allKeys&&!(m in e.skipKeywords))&&t(r,s,i,b,a+"/"+m,l,a,m,o)}i(o,a,l,c,u,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return _a.exports}var dd;function ri(){if(dd)return tt;dd=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.getSchemaRefs=tt.resolveUrl=tt.normalizeId=tt._getFullPath=tt.getFullPath=tt.inlineRef=void 0;const e=ve(),t=cd(),n=my(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(g,p=!0){return typeof g=="boolean"?!0:p===!0?!o(g):p?a(g)<=p:!1}tt.inlineRef=s;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(g){for(const p in g){if(i.has(p))return!0;const w=g[p];if(Array.isArray(w)&&w.some(o)||typeof w=="object"&&o(w))return!0}return!1}function a(g){let p=0;for(const w in g){if(w==="$ref")return 1/0;if(p++,!r.has(w)&&(typeof g[w]=="object"&&(0,e.eachItem)(g[w],h=>p+=a(h)),p===1/0))return 1/0}return p}function l(g,p="",w){w!==!1&&(p=d(p));const h=g.parse(p);return c(g,h)}tt.getFullPath=l;function c(g,p){return g.serialize(p).split("#")[0]+"#"}tt._getFullPath=c;const u=/#\/?$/;function d(g){return g?g.replace(u,""):""}tt.normalizeId=d;function f(g,p,w){return w=d(w),g.resolve(p,w)}tt.resolveUrl=f;const m=/^[a-z_][-a-z0-9._]*$/i;function b(g,p){if(typeof g=="boolean")return{};const{schemaId:w,uriResolver:h}=this.opts,y=d(g[w]||p),k={"":y},v=l(h,y,!1),x={},S=new Set;return n(g,{allKeys:!0},(M,j,D,z)=>{if(z===void 0)return;const H=v+j;let W=k[z];typeof M[w]=="string"&&(W=re.call(this,M[w])),le.call(this,M.$anchor),le.call(this,M.$dynamicAnchor),k[j]=W;function re(G){const ne=this.opts.uriResolver.resolve;if(G=d(W?ne(W,G):G),S.has(G))throw C(G);S.add(G);let q=this.refs[G];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?E(M,q.schema,G):G!==d(H)&&(G[0]==="#"?(E(M,x[G],G),x[G]=M):this.refs[G]=H),G}function le(G){if(typeof G=="string"){if(!m.test(G))throw new Error(`invalid anchor "${G}"`);re.call(this,`#${G}`)}}}),x;function E(M,j,D){if(j!==void 0&&!t(M,j))throw C(D)}function C(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return tt.getSchemaRefs=b,tt}var fd;function si(){if(fd)return Gt;fd=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.getData=Gt.KeywordCxt=Gt.validateFunctionCode=void 0;const e=dy(),t=ni(),n=nd(),r=ni(),s=fy(),i=hy(),o=py(),a=ge(),l=un(),c=ri(),u=ve(),d=ti();function f(I){if(v(I)&&(S(I),k(I))){p(I);return}m(I,()=>(0,e.topBoolOrEmptySchema)(I))}Gt.validateFunctionCode=f;function m({gen:I,validateName:R,schema:U,schemaEnv:J,opts:te},fe){te.code.es5?I.func(R,(0,a._)`${l.default.data}, ${l.default.valCxt}`,J.$async,()=>{I.code((0,a._)`"use strict"; ${h(U,te)}`),g(I,te),I.code(fe)}):I.func(R,(0,a._)`${l.default.data}, ${b(te)}`,J.$async,()=>I.code(h(U,te)).code(fe))}function b(I){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${I.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function g(I,R){I.if(l.default.valCxt,()=>{I.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),I.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),I.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),I.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),R.dynamicRef&&I.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{I.var(l.default.instancePath,(0,a._)`""`),I.var(l.default.parentData,(0,a._)`undefined`),I.var(l.default.parentDataProperty,(0,a._)`undefined`),I.var(l.default.rootData,l.default.data),R.dynamicRef&&I.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function p(I){const{schema:R,opts:U,gen:J}=I;m(I,()=>{U.$comment&&R.$comment&&z(I),M(I),J.let(l.default.vErrors,null),J.let(l.default.errors,0),U.unevaluated&&w(I),E(I),H(I)})}function w(I){const{gen:R,validateName:U}=I;I.evaluated=R.const("evaluated",(0,a._)`${U}.evaluated`),R.if((0,a._)`${I.evaluated}.dynamicProps`,()=>R.assign((0,a._)`${I.evaluated}.props`,(0,a._)`undefined`)),R.if((0,a._)`${I.evaluated}.dynamicItems`,()=>R.assign((0,a._)`${I.evaluated}.items`,(0,a._)`undefined`))}function h(I,R){const U=typeof I=="object"&&I[R.schemaId];return U&&(R.code.source||R.code.process)?(0,a._)`/*# sourceURL=${U} */`:a.nil}function y(I,R){if(v(I)&&(S(I),k(I))){x(I,R);return}(0,e.boolOrEmptySchema)(I,R)}function k({schema:I,self:R}){if(typeof I=="boolean")return!I;for(const U in I)if(R.RULES.all[U])return!0;return!1}function v(I){return typeof I.schema!="boolean"}function x(I,R){const{schema:U,gen:J,opts:te}=I;te.$comment&&U.$comment&&z(I),j(I),D(I);const fe=J.const("_errs",l.default.errors);E(I,fe),J.var(R,(0,a._)`${fe} === ${l.default.errors}`)}function S(I){(0,u.checkUnknownRules)(I),C(I)}function E(I,R){if(I.opts.jtd)return re(I,[],!1,R);const U=(0,t.getSchemaTypes)(I.schema),J=(0,t.coerceAndCheckDataType)(I,U);re(I,U,!J,R)}function C(I){const{schema:R,errSchemaPath:U,opts:J,self:te}=I;R.$ref&&J.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(R,te.RULES)&&te.logger.warn(`$ref: keywords ignored in schema at path "${U}"`)}function M(I){const{schema:R,opts:U}=I;R.default!==void 0&&U.useDefaults&&U.strictSchema&&(0,u.checkStrictMode)(I,"default is ignored in the schema root")}function j(I){const R=I.schema[I.opts.schemaId];R&&(I.baseId=(0,c.resolveUrl)(I.opts.uriResolver,I.baseId,R))}function D(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:I,schemaEnv:R,schema:U,errSchemaPath:J,opts:te}){const fe=U.$comment;if(te.$comment===!0)I.code((0,a._)`${l.default.self}.logger.log(${fe})`);else if(typeof te.$comment=="function"){const Be=(0,a.str)`${J}/$comment`,Ve=I.scopeValue("root",{ref:R.root});I.code((0,a._)`${l.default.self}.opts.$comment(${fe}, ${Be}, ${Ve}.schema)`)}}function H(I){const{gen:R,schemaEnv:U,validateName:J,ValidationError:te,opts:fe}=I;U.$async?R.if((0,a._)`${l.default.errors} === 0`,()=>R.return(l.default.data),()=>R.throw((0,a._)`new ${te}(${l.default.vErrors})`)):(R.assign((0,a._)`${J}.errors`,l.default.vErrors),fe.unevaluated&&W(I),R.return((0,a._)`${l.default.errors} === 0`))}function W({gen:I,evaluated:R,props:U,items:J}){U instanceof a.Name&&I.assign((0,a._)`${R}.props`,U),J instanceof a.Name&&I.assign((0,a._)`${R}.items`,J)}function re(I,R,U,J){const{gen:te,schema:fe,data:Be,allErrors:Ve,opts:Ue,self:Ke}=I,{RULES:qe}=Ke;if(fe.$ref&&(Ue.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(fe,qe))){te.block(()=>V(I,"$ref",qe.all.$ref.definition));return}Ue.jtd||G(I,R),te.block(()=>{for(const lt of qe.rules)tn(lt);tn(qe.post)});function tn(lt){(0,n.shouldUseGroup)(fe,lt)&&(lt.type?(te.if((0,r.checkDataType)(lt.type,Be,Ue.strictNumbers)),le(I,lt),R.length===1&&R[0]===lt.type&&U&&(te.else(),(0,r.reportTypeError)(I)),te.endIf()):le(I,lt),Ve||te.if((0,a._)`${l.default.errors} === ${J||0}`))}}function le(I,R){const{gen:U,schema:J,opts:{useDefaults:te}}=I;te&&(0,s.assignDefaults)(I,R.type),U.block(()=>{for(const fe of R.rules)(0,n.shouldUseRule)(J,fe)&&V(I,fe.keyword,fe.definition,R.type)})}function G(I,R){I.schemaEnv.meta||!I.opts.strictTypes||(ne(I,R),I.opts.allowUnionTypes||q(I,R),O(I,I.dataTypes))}function ne(I,R){if(R.length){if(!I.dataTypes.length){I.dataTypes=R;return}R.forEach(U=>{P(I.dataTypes,U)||T(I,`type "${U}" not allowed by context "${I.dataTypes.join(",")}"`)}),_(I,R)}}function q(I,R){R.length>1&&!(R.length===2&&R.includes("null"))&&T(I,"use allowUnionTypes to allow union type keyword")}function O(I,R){const U=I.self.RULES.all;for(const J in U){const te=U[J];if(typeof te=="object"&&(0,n.shouldUseRule)(I.schema,te)){const{type:fe}=te.definition;fe.length&&!fe.some(Be=>F(R,Be))&&T(I,`missing type "${fe.join(",")}" for keyword "${J}"`)}}}function F(I,R){return I.includes(R)||R==="number"&&I.includes("integer")}function P(I,R){return I.includes(R)||R==="integer"&&I.includes("number")}function _(I,R){const U=[];for(const J of I.dataTypes)P(R,J)?U.push(J):R.includes("integer")&&J==="number"&&U.push("integer");I.dataTypes=U}function T(I,R){const U=I.schemaEnv.baseId+I.errSchemaPath;R+=` at "${U}" (strictTypes)`,(0,u.checkStrictMode)(I,R,I.opts.strictTypes)}class B{constructor(R,U,J){if((0,i.validateKeywordUsage)(R,U,J),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=J,this.data=R.data,this.schema=R.schema[J],this.$data=U.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(R,this.schema,J,this.$data),this.schemaType=U.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=U,this.$data)this.schemaCode=R.gen.const("vSchema",ie(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,U.schemaType,U.allowUndefined))throw new Error(`${J} value must be ${JSON.stringify(U.schemaType)}`);("code"in U?U.trackErrors:U.errors!==!1)&&(this.errsCount=R.gen.const("_errs",l.default.errors))}result(R,U,J){this.failResult((0,a.not)(R),U,J)}failResult(R,U,J){this.gen.if(R),J?J():this.error(),U?(this.gen.else(),U(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,U){this.failResult((0,a.not)(R),void 0,U)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:U}=this;this.fail((0,a._)`${U} !== undefined && (${(0,a.or)(this.invalid$data(),R)})`)}error(R,U,J){if(U){this.setParams(U),this._error(R,J),this.setParams({});return}this._error(R,J)}_error(R,U){(R?d.reportExtraError:d.reportError)(this,this.def.error,U)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,U){U?Object.assign(this.params,R):this.params=R}block$data(R,U,J=a.nil){this.gen.block(()=>{this.check$data(R,J),U()})}check$data(R=a.nil,U=a.nil){if(!this.$data)return;const{gen:J,schemaCode:te,schemaType:fe,def:Be}=this;J.if((0,a.or)((0,a._)`${te} === undefined`,U)),R!==a.nil&&J.assign(R,!0),(fe.length||Be.validateSchema)&&(J.elseIf(this.invalid$data()),this.$dataError(),R!==a.nil&&J.assign(R,!1)),J.else()}invalid$data(){const{gen:R,schemaCode:U,schemaType:J,def:te,it:fe}=this;return(0,a.or)(Be(),Ve());function Be(){if(J.length){if(!(U instanceof a.Name))throw new Error("ajv implementation error");const Ue=Array.isArray(J)?J:[J];return(0,a._)`${(0,r.checkDataTypes)(Ue,U,fe.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function Ve(){if(te.validateSchema){const Ue=R.scopeValue("validate$data",{ref:te.validateSchema});return(0,a._)`!${Ue}(${U})`}return a.nil}}subschema(R,U){const J=(0,o.getSubschema)(this.it,R);(0,o.extendSubschemaData)(J,this.it,R),(0,o.extendSubschemaMode)(J,R);const te={...this.it,...J,items:void 0,props:void 0};return y(te,U),te}mergeEvaluated(R,U){const{it:J,gen:te}=this;J.opts.unevaluated&&(J.props!==!0&&R.props!==void 0&&(J.props=u.mergeEvaluated.props(te,R.props,J.props,U)),J.items!==!0&&R.items!==void 0&&(J.items=u.mergeEvaluated.items(te,R.items,J.items,U)))}mergeValidEvaluated(R,U){const{it:J,gen:te}=this;if(J.opts.unevaluated&&(J.props!==!0||J.items!==!0))return te.if(U,()=>this.mergeEvaluated(R,a.Name)),!0}}Gt.KeywordCxt=B;function V(I,R,U,J){const te=new B(I,U,R);"code"in U?U.code(te,J):te.$data&&U.validate?(0,i.funcKeywordCode)(te,U):"macro"in U?(0,i.macroKeywordCode)(te,U):(U.compile||U.validate)&&(0,i.funcKeywordCode)(te,U)}const Y=/^\/(?:[^~]|~0|~1)*$/,ce=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ie(I,{dataLevel:R,dataNames:U,dataPathArr:J}){let te,fe;if(I==="")return l.default.rootData;if(I[0]==="/"){if(!Y.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);te=I,fe=l.default.rootData}else{const Ke=ce.exec(I);if(!Ke)throw new Error(`Invalid JSON-pointer: ${I}`);const qe=+Ke[1];if(te=Ke[2],te==="#"){if(qe>=R)throw new Error(Ue("property/index",qe));return J[R-qe]}if(qe>R)throw new Error(Ue("data",qe));if(fe=U[R-qe],!te)return fe}let Be=fe;const Ve=te.split("/");for(const Ke of Ve)Ke&&(fe=(0,a._)`${fe}${(0,a.getProperty)((0,u.unescapeJsonPointer)(Ke))}`,Be=(0,a._)`${Be} && ${fe}`);return Be;function Ue(Ke,qe){return`Cannot access ${Ke} ${qe} levels up, current level is ${R}`}}return Gt.getData=ie,Gt}var ii={},hd;function $a(){if(hd)return ii;hd=1,Object.defineProperty(ii,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return ii.default=e,ii}var oi={},pd;function ai(){if(pd)return oi;pd=1,Object.defineProperty(oi,"__esModule",{value:!0});const e=ri();class t extends Error{constructor(r,s,i,o){super(o||`can't resolve reference ${i} from id ${s}`),this.missingRef=(0,e.resolveUrl)(r,s,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return oi.default=t,oi}var ft={},md;function Aa(){if(md)return ft;md=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.resolveSchema=ft.getCompilingSchema=ft.resolveRef=ft.compileSchema=ft.SchemaEnv=void 0;const e=ge(),t=$a(),n=un(),r=ri(),s=ve(),i=si();class o{constructor(w){var h;this.refs={},this.dynamicAnchors={};let y;typeof w.schema=="object"&&(y=w.schema),this.schema=w.schema,this.schemaId=w.schemaId,this.root=w.root||this,this.baseId=(h=w.baseId)!==null&&h!==void 0?h:(0,r.normalizeId)(y?.[w.schemaId||"$id"]),this.schemaPath=w.schemaPath,this.localRefs=w.localRefs,this.meta=w.meta,this.$async=y?.$async,this.refs={}}}ft.SchemaEnv=o;function a(p){const w=u.call(this,p);if(w)return w;const h=(0,r.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:y,lines:k}=this.opts.code,{ownProperties:v}=this.opts,x=new e.CodeGen(this.scope,{es5:y,lines:k,ownProperties:v});let S;p.$async&&(S=x.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const E=x.scopeName("validate");p.validateName=E;const C={gen:x,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:x.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:E,ValidationError:S,schema:p.schema,schemaEnv:p,rootId:h,baseId:p.baseId||h,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(p),(0,i.validateFunctionCode)(C),x.optimize(this.opts.code.optimize);const j=x.toString();M=`${x.scopeRefs(n.default.scope)}return ${j}`,this.opts.code.process&&(M=this.opts.code.process(M,p));const z=new Function(`${n.default.self}`,`${n.default.scope}`,M)(this,this.scope.get());if(this.scope.value(E,{ref:z}),z.errors=null,z.schema=p.schema,z.schemaEnv=p,p.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:E,validateCode:j,scopeValues:x._values}),this.opts.unevaluated){const{props:H,items:W}=C;z.evaluated={props:H instanceof e.Name?void 0:H,items:W instanceof e.Name?void 0:W,dynamicProps:H instanceof e.Name,dynamicItems:W instanceof e.Name},z.source&&(z.source.evaluated=(0,e.stringify)(z.evaluated))}return p.validate=z,p}catch(j){throw delete p.validate,delete p.validateName,M&&this.logger.error("Error compiling schema, function code:",M),j}finally{this._compilations.delete(p)}}ft.compileSchema=a;function l(p,w,h){var y;h=(0,r.resolveUrl)(this.opts.uriResolver,w,h);const k=p.refs[h];if(k)return k;let v=f.call(this,p,h);if(v===void 0){const x=(y=p.localRefs)===null||y===void 0?void 0:y[h],{schemaId:S}=this.opts;x&&(v=new o({schema:x,schemaId:S,root:p,baseId:w}))}if(v!==void 0)return p.refs[h]=c.call(this,v)}ft.resolveRef=l;function c(p){return(0,r.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:a.call(this,p)}function u(p){for(const w of this._compilations)if(d(w,p))return w}ft.getCompilingSchema=u;function d(p,w){return p.schema===w.schema&&p.root===w.root&&p.baseId===w.baseId}function f(p,w){let h;for(;typeof(h=this.refs[w])=="string";)w=h;return h||this.schemas[w]||m.call(this,p,w)}function m(p,w){const h=this.opts.uriResolver.parse(w),y=(0,r._getFullPath)(this.opts.uriResolver,h);let k=(0,r.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&y===k)return g.call(this,h,p);const v=(0,r.normalizeId)(y),x=this.refs[v]||this.schemas[v];if(typeof x=="string"){const S=m.call(this,p,x);return typeof S?.schema!="object"?void 0:g.call(this,h,S)}if(typeof x?.schema=="object"){if(x.validate||a.call(this,x),v===(0,r.normalizeId)(w)){const{schema:S}=x,{schemaId:E}=this.opts,C=S[E];return C&&(k=(0,r.resolveUrl)(this.opts.uriResolver,k,C)),new o({schema:S,schemaId:E,root:p,baseId:k})}return g.call(this,h,x)}}ft.resolveSchema=m;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(p,{baseId:w,schema:h,root:y}){var k;if(((k=p.fragment)===null||k===void 0?void 0:k[0])!=="/")return;for(const S of p.fragment.slice(1).split("/")){if(typeof h=="boolean")return;const E=h[(0,s.unescapeFragment)(S)];if(E===void 0)return;h=E;const C=typeof h=="object"&&h[this.opts.schemaId];!b.has(S)&&C&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,C))}let v;if(typeof h!="boolean"&&h.$ref&&!(0,s.schemaHasRulesButRef)(h,this.RULES)){const S=(0,r.resolveUrl)(this.opts.uriResolver,w,h.$ref);v=m.call(this,y,S)}const{schemaId:x}=this.opts;if(v=v||new o({schema:h,schemaId:x,root:y,baseId:w}),v.schema!==v.root.schema)return v}return ft}const gy={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var li={},Ur={exports:{}},Ta,gd;function yd(){if(gd)return Ta;gd=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(f){let m="",b=0,g=0;for(g=0;g<f.length;g++)if(b=f[g].charCodeAt(0),b!==48){if(!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";m+=f[g];break}for(g+=1;g<f.length;g++){if(b=f[g].charCodeAt(0),!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";m+=f[g]}return m}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function s(f){return f.length=0,!0}function i(f,m,b){if(f.length){const g=n(f);if(g!=="")m.push(g);else return b.error=!0,!1;f.length=0}return!0}function o(f){let m=0;const b={error:!1,address:"",zone:""},g=[],p=[];let w=!1,h=!1,y=i;for(let k=0;k<f.length;k++){const v=f[k];if(!(v==="["||v==="]"))if(v===":"){if(w===!0&&(h=!0),!y(p,g,b))break;if(++m>7){b.error=!0;break}k>0&&f[k-1]===":"&&(w=!0),g.push(":");continue}else if(v==="%"){if(!y(p,g,b))break;y=s}else{p.push(v);continue}}return p.length&&(y===s?b.zone=p.join(""):h?g.push(p.join("")):g.push(n(p))),b.address=g.join(""),b}function a(f){if(l(f,":")<2)return{host:f,isIPV6:!1};const m=o(f);if(m.error)return{host:f,isIPV6:!1};{let b=m.address,g=m.address;return m.zone&&(b+="%"+m.zone,g+="%25"+m.zone),{host:b,isIPV6:!0,escapedHost:g}}}function l(f,m){let b=0;for(let g=0;g<f.length;g++)f[g]===m&&b++;return b}function c(f){let m=f;const b=[];let g=-1,p=0;for(;p=m.length;){if(p===1){if(m===".")break;if(m==="/"){b.push("/");break}else{b.push(m);break}}else if(p===2){if(m[0]==="."){if(m[1]===".")break;if(m[1]==="/"){m=m.slice(2);continue}}else if(m[0]==="/"&&(m[1]==="."||m[1]==="/")){b.push("/");break}}else if(p===3&&m==="/.."){b.length!==0&&b.pop(),b.push("/");break}if(m[0]==="."){if(m[1]==="."){if(m[2]==="/"){m=m.slice(3);continue}}else if(m[1]==="/"){m=m.slice(2);continue}}else if(m[0]==="/"&&m[1]==="."){if(m[2]==="/"){m=m.slice(2);continue}else if(m[2]==="."&&m[3]==="/"){m=m.slice(3),b.length!==0&&b.pop();continue}}if((g=m.indexOf("/",1))===-1){b.push(m);break}else b.push(m.slice(0,g)),m=m.slice(g)}return b.join("")}function u(f,m){const b=m!==!0?escape:unescape;return f.scheme!==void 0&&(f.scheme=b(f.scheme)),f.userinfo!==void 0&&(f.userinfo=b(f.userinfo)),f.host!==void 0&&(f.host=b(f.host)),f.path!==void 0&&(f.path=b(f.path)),f.query!==void 0&&(f.query=b(f.query)),f.fragment!==void 0&&(f.fragment=b(f.fragment)),f}function d(f){const m=[];if(f.userinfo!==void 0&&(m.push(f.userinfo),m.push("@")),f.host!==void 0){let b=unescape(f.host);if(!t(b)){const g=a(b);g.isIPV6===!0?b=`[${g.escapedHost}]`:b=f.host}m.push(b)}return(typeof f.port=="number"||typeof f.port=="string")&&(m.push(":"),m.push(String(f.port))),m.length?m.join(""):void 0}return Ta={nonSimpleDomain:r,recomposeAuthority:d,normalizeComponentEncoding:u,removeDotSegments:c,isIPv4:t,isUUID:e,normalizeIPv6:a,stringArrayToHexStripped:n},Ta}var Ca,bd;function yy(){if(bd)return Ca;bd=1;const{isUUID:e}=yd(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function r(v){return n.indexOf(v)!==-1}function s(v){return v.secure===!0?!0:v.secure===!1?!1:v.scheme?v.scheme.length===3&&(v.scheme[0]==="w"||v.scheme[0]==="W")&&(v.scheme[1]==="s"||v.scheme[1]==="S")&&(v.scheme[2]==="s"||v.scheme[2]==="S"):!1}function i(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function o(v){const x=String(v.scheme).toLowerCase()==="https";return(v.port===(x?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function a(v){return v.secure=s(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function l(v){if((v.port===(s(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[x,S]=v.resourceName.split("?");v.path=x&&x!=="/"?x:void 0,v.query=S,v.resourceName=void 0}return v.fragment=void 0,v}function c(v,x){if(!v.path)return v.error="URN can not be parsed",v;const S=v.path.match(t);if(S){const E=x.scheme||v.scheme||"urn";v.nid=S[1].toLowerCase(),v.nss=S[2];const C=`${E}:${x.nid||v.nid}`,M=k(C);v.path=void 0,M&&(v=M.parse(v,x))}else v.error=v.error||"URN can not be parsed.";return v}function u(v,x){if(v.nid===void 0)throw new Error("URN without nid cannot be serialized");const S=x.scheme||v.scheme||"urn",E=v.nid.toLowerCase(),C=`${S}:${x.nid||E}`,M=k(C);M&&(v=M.serialize(v,x));const j=v,D=v.nss;return j.path=`${E||x.nid}:${D}`,x.skipEscape=!0,j}function d(v,x){const S=v;return S.uuid=S.nss,S.nss=void 0,!x.tolerant&&(!S.uuid||!e(S.uuid))&&(S.error=S.error||"UUID is not valid."),S}function f(v){const x=v;return x.nss=(v.uuid||"").toLowerCase(),x}const m={scheme:"http",domainHost:!0,parse:i,serialize:o},b={scheme:"https",domainHost:m.domainHost,parse:i,serialize:o},g={scheme:"ws",domainHost:!0,parse:a,serialize:l},p={scheme:"wss",domainHost:g.domainHost,parse:g.parse,serialize:g.serialize},y={http:m,https:b,ws:g,wss:p,urn:{scheme:"urn",parse:c,serialize:u,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:d,serialize:f,skipNormalize:!0}};Object.setPrototypeOf(y,null);function k(v){return v&&(y[v]||y[v.toLowerCase()])||void 0}return Ca={wsIsSecure:s,SCHEMES:y,isValidSchemeName:r,getSchemeHandler:k},Ca}var vd;function by(){if(vd)return Ur.exports;vd=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:n,normalizeComponentEncoding:r,isIPv4:s,nonSimpleDomain:i}=yd(),{SCHEMES:o,getSchemeHandler:a}=yy();function l(p,w){return typeof p=="string"?p=f(b(p,w),w):typeof p=="object"&&(p=b(f(p,w),w)),p}function c(p,w,h){const y=h?Object.assign({scheme:"null"},h):{scheme:"null"},k=u(b(p,y),b(w,y),y,!0);return y.skipEscape=!0,f(k,y)}function u(p,w,h,y){const k={};return y||(p=b(f(p,h),h),w=b(f(w,h),h)),h=h||{},!h.tolerant&&w.scheme?(k.scheme=w.scheme,k.userinfo=w.userinfo,k.host=w.host,k.port=w.port,k.path=t(w.path||""),k.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(k.userinfo=w.userinfo,k.host=w.host,k.port=w.port,k.path=t(w.path||""),k.query=w.query):(w.path?(w.path[0]==="/"?k.path=t(w.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?k.path="/"+w.path:p.path?k.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+w.path:k.path=w.path,k.path=t(k.path)),k.query=w.query):(k.path=p.path,w.query!==void 0?k.query=w.query:k.query=p.query),k.userinfo=p.userinfo,k.host=p.host,k.port=p.port),k.scheme=p.scheme),k.fragment=w.fragment,k}function d(p,w,h){return typeof p=="string"?(p=unescape(p),p=f(r(b(p,h),!0),{...h,skipEscape:!0})):typeof p=="object"&&(p=f(r(p,!0),{...h,skipEscape:!0})),typeof w=="string"?(w=unescape(w),w=f(r(b(w,h),!0),{...h,skipEscape:!0})):typeof w=="object"&&(w=f(r(w,!0),{...h,skipEscape:!0})),p.toLowerCase()===w.toLowerCase()}function f(p,w){const h={host:p.host,scheme:p.scheme,userinfo:p.userinfo,port:p.port,path:p.path,query:p.query,nid:p.nid,nss:p.nss,uuid:p.uuid,fragment:p.fragment,reference:p.reference,resourceName:p.resourceName,secure:p.secure,error:""},y=Object.assign({},w),k=[],v=a(y.scheme||h.scheme);v&&v.serialize&&v.serialize(h,y),h.path!==void 0&&(y.skipEscape?h.path=unescape(h.path):(h.path=escape(h.path),h.scheme!==void 0&&(h.path=h.path.split("%3A").join(":")))),y.reference!=="suffix"&&h.scheme&&k.push(h.scheme,":");const x=n(h);if(x!==void 0&&(y.reference!=="suffix"&&k.push("//"),k.push(x),h.path&&h.path[0]!=="/"&&k.push("/")),h.path!==void 0){let S=h.path;!y.absolutePath&&(!v||!v.absolutePath)&&(S=t(S)),x===void 0&&S[0]==="/"&&S[1]==="/"&&(S="/%2F"+S.slice(2)),k.push(S)}return h.query!==void 0&&k.push("?",h.query),h.fragment!==void 0&&k.push("#",h.fragment),k.join("")}const m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function b(p,w){const h=Object.assign({},w),y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let k=!1;h.reference==="suffix"&&(h.scheme?p=h.scheme+":"+p:p="//"+p);const v=p.match(m);if(v){if(y.scheme=v[1],y.userinfo=v[3],y.host=v[4],y.port=parseInt(v[5],10),y.path=v[6]||"",y.query=v[7],y.fragment=v[8],isNaN(y.port)&&(y.port=v[5]),y.host)if(s(y.host)===!1){const E=e(y.host);y.host=E.host.toLowerCase(),k=E.isIPV6}else k=!0;y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&y.query===void 0&&!y.path?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==y.reference&&(y.error=y.error||"URI is not a "+h.reference+" reference.");const x=a(h.scheme||y.scheme);if(!h.unicodeSupport&&(!x||!x.unicodeSupport)&&y.host&&(h.domainHost||x&&x.domainHost)&&k===!1&&i(y.host))try{y.host=URL.domainToASCII(y.host.toLowerCase())}catch(S){y.error=y.error||"Host's domain name can not be converted to ASCII: "+S}(!x||x&&!x.skipNormalize)&&(p.indexOf("%")!==-1&&(y.scheme!==void 0&&(y.scheme=unescape(y.scheme)),y.host!==void 0&&(y.host=unescape(y.host))),y.path&&(y.path=escape(unescape(y.path))),y.fragment&&(y.fragment=encodeURI(decodeURIComponent(y.fragment)))),x&&x.parse&&x.parse(y,h)}else y.error=y.error||"URI can not be parsed.";return y}const g={SCHEMES:o,normalize:l,resolve:c,resolveComponent:u,equal:d,serialize:f,parse:b};return Ur.exports=g,Ur.exports.default=g,Ur.exports.fastUri=g,Ur.exports}var wd;function vy(){if(wd)return li;wd=1,Object.defineProperty(li,"__esModule",{value:!0});const e=by();return e.code='require("ajv/dist/runtime/uri").default',li.default=e,li}var kd;function wy(){return kd||(kd=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=si();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=ge();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=$a(),s=ai(),i=ed(),o=Aa(),a=ge(),l=ri(),c=ni(),u=ve(),d=gy,f=vy(),m=(q,O)=>new RegExp(q,O);m.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function y(q){var O,F,P,_,T,B,V,Y,ce,ie,I,R,U,J,te,fe,Be,Ve,Ue,Ke,qe,tn,lt,Dn,nn;const xt=q.strict,ct=(O=q.code)===null||O===void 0?void 0:O.optimize,vr=ct===!0||ct===void 0?1:ct||0,ps=(P=(F=q.code)===null||F===void 0?void 0:F.regExp)!==null&&P!==void 0?P:m,To=(_=q.uriResolver)!==null&&_!==void 0?_:f.default;return{strictSchema:(B=(T=q.strictSchema)!==null&&T!==void 0?T:xt)!==null&&B!==void 0?B:!0,strictNumbers:(Y=(V=q.strictNumbers)!==null&&V!==void 0?V:xt)!==null&&Y!==void 0?Y:!0,strictTypes:(ie=(ce=q.strictTypes)!==null&&ce!==void 0?ce:xt)!==null&&ie!==void 0?ie:"log",strictTuples:(R=(I=q.strictTuples)!==null&&I!==void 0?I:xt)!==null&&R!==void 0?R:"log",strictRequired:(J=(U=q.strictRequired)!==null&&U!==void 0?U:xt)!==null&&J!==void 0?J:!1,code:q.code?{...q.code,optimize:vr,regExp:ps}:{optimize:vr,regExp:ps},loopRequired:(te=q.loopRequired)!==null&&te!==void 0?te:h,loopEnum:(fe=q.loopEnum)!==null&&fe!==void 0?fe:h,meta:(Be=q.meta)!==null&&Be!==void 0?Be:!0,messages:(Ve=q.messages)!==null&&Ve!==void 0?Ve:!0,inlineRefs:(Ue=q.inlineRefs)!==null&&Ue!==void 0?Ue:!0,schemaId:(Ke=q.schemaId)!==null&&Ke!==void 0?Ke:"$id",addUsedSchema:(qe=q.addUsedSchema)!==null&&qe!==void 0?qe:!0,validateSchema:(tn=q.validateSchema)!==null&&tn!==void 0?tn:!0,validateFormats:(lt=q.validateFormats)!==null&&lt!==void 0?lt:!0,unicodeRegExp:(Dn=q.unicodeRegExp)!==null&&Dn!==void 0?Dn:!0,int32range:(nn=q.int32range)!==null&&nn!==void 0?nn:!0,uriResolver:To}}class k{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,...y(O)};const{es5:F,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:F,lines:P}),this.logger=D(O.logger);const _=O.validateFormats;O.validateFormats=!1,this.RULES=(0,i.getRules)(),v.call(this,p,O,"NOT SUPPORTED"),v.call(this,w,O,"DEPRECATED","warn"),this._metaOpts=M.call(this),O.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&C.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),S.call(this),O.validateFormats=_}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:O,meta:F,schemaId:P}=this.opts;let _=d;P==="id"&&(_={...d},_.id=_.$id,delete _.$id),F&&O&&this.addMetaSchema(_,_[P],!1)}defaultMeta(){const{meta:O,schemaId:F}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[F]||O:void 0}validate(O,F){let P;if(typeof O=="string"){if(P=this.getSchema(O),!P)throw new Error(`no schema with key or ref "${O}"`)}else P=this.compile(O);const _=P(F);return"$async"in P||(this.errors=P.errors),_}compile(O,F){const P=this._addSchema(O,F);return P.validate||this._compileSchemaEnv(P)}compileAsync(O,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return _.call(this,O,F);async function _(ie,I){await T.call(this,ie.$schema);const R=this._addSchema(ie,I);return R.validate||B.call(this,R)}async function T(ie){ie&&!this.getSchema(ie)&&await _.call(this,{$ref:ie},!0)}async function B(ie){try{return this._compileSchemaEnv(ie)}catch(I){if(!(I instanceof s.default))throw I;return V.call(this,I),await Y.call(this,I.missingSchema),B.call(this,ie)}}function V({missingSchema:ie,missingRef:I}){if(this.refs[ie])throw new Error(`AnySchema ${ie} is loaded but ${I} cannot be resolved`)}async function Y(ie){const I=await ce.call(this,ie);this.refs[ie]||await T.call(this,I.$schema),this.refs[ie]||this.addSchema(I,ie,F)}async function ce(ie){const I=this._loading[ie];if(I)return I;try{return await(this._loading[ie]=P(ie))}finally{delete this._loading[ie]}}}addSchema(O,F,P,_=this.opts.validateSchema){if(Array.isArray(O)){for(const B of O)this.addSchema(B,void 0,P,_);return this}let T;if(typeof O=="object"){const{schemaId:B}=this.opts;if(T=O[B],T!==void 0&&typeof T!="string")throw new Error(`schema ${B} must be string`)}return F=(0,l.normalizeId)(F||T),this._checkUnique(F),this.schemas[F]=this._addSchema(O,P,F,_,!0),this}addMetaSchema(O,F,P=this.opts.validateSchema){return this.addSchema(O,F,!0,P),this}validateSchema(O,F){if(typeof O=="boolean")return!0;let P;if(P=O.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _=this.validate(P,O);if(!_&&F){const T="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(T);else throw new Error(T)}return _}getSchema(O){let F;for(;typeof(F=x.call(this,O))=="string";)O=F;if(F===void 0){const{schemaId:P}=this.opts,_=new o.SchemaEnv({schema:{},schemaId:P});if(F=o.resolveSchema.call(this,_,O),!F)return;this.refs[O]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=x.call(this,O);return typeof F=="object"&&this._cache.delete(F.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{const F=O;this._cache.delete(F);let P=O[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(const F of O)this.addKeyword(F);return this}addKeyword(O,F){let P;if(typeof O=="string")P=O,typeof F=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=P);else if(typeof O=="object"&&F===void 0){if(F=O,P=F.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,P,F),!F)return(0,u.eachItem)(P,T=>W.call(this,T)),this;le.call(this,F);const _={...F,type:(0,c.getJSONTypes)(F.type),schemaType:(0,c.getJSONTypes)(F.schemaType)};return(0,u.eachItem)(P,_.type.length===0?T=>W.call(this,T,_):T=>_.type.forEach(B=>W.call(this,T,_,B))),this}getKeyword(O){const F=this.RULES.all[O];return typeof F=="object"?F.definition:!!F}removeKeyword(O){const{RULES:F}=this;delete F.keywords[O],delete F.all[O];for(const P of F.rules){const _=P.rules.findIndex(T=>T.keyword===O);_>=0&&P.rules.splice(_,1)}return this}addFormat(O,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[O]=F,this}errorsText(O=this.errors,{separator:F=", ",dataVar:P="data"}={}){return!O||O.length===0?"No errors":O.map(_=>`${P}${_.instancePath} ${_.message}`).reduce((_,T)=>_+F+T)}$dataMetaSchema(O,F){const P=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(const _ of F){const T=_.split("/").slice(1);let B=O;for(const V of T)B=B[V];for(const V in P){const Y=P[V];if(typeof Y!="object")continue;const{$data:ce}=Y.definition,ie=B[V];ce&&ie&&(B[V]=ne(ie))}}return O}_removeAllSchemas(O,F){for(const P in O){const _=O[P];(!F||F.test(P))&&(typeof _=="string"?delete O[P]:_&&!_.meta&&(this._cache.delete(_.schema),delete O[P]))}}_addSchema(O,F,P,_=this.opts.validateSchema,T=this.opts.addUsedSchema){let B;const{schemaId:V}=this.opts;if(typeof O=="object")B=O[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(O);if(Y!==void 0)return Y;P=(0,l.normalizeId)(B||P);const ce=l.getSchemaRefs.call(this,O,P);return Y=new o.SchemaEnv({schema:O,schemaId:V,meta:F,baseId:P,localRefs:ce}),this._cache.set(Y.schema,Y),T&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=Y),_&&this.validateSchema(O,!0),Y}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):o.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){const F=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,O)}finally{this.opts=F}}}k.ValidationError=r.default,k.MissingRefError=s.default,e.default=k;function v(q,O,F,P="error"){for(const _ in q){const T=_;T in O&&this.logger[P](`${F}: option ${_}. ${q[T]}`)}}function x(q){return q=(0,l.normalizeId)(q),this.schemas[q]||this.refs[q]}function S(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const O in q)this.addSchema(q[O],O)}function E(){for(const q in this.opts.formats){const O=this.opts.formats[q];O&&this.addFormat(q,O)}}function C(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const O in q){const F=q[O];F.keyword||(F.keyword=O),this.addKeyword(F)}}function M(){const q={...this.opts};for(const O of b)delete q[O];return q}const j={log(){},warn(){},error(){}};function D(q){if(q===!1)return j;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(q,O){const{RULES:F}=this;if((0,u.eachItem)(q,P=>{if(F.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!z.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function W(q,O,F){var P;const _=O?.post;if(F&&_)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:T}=this;let B=_?T.post:T.rules.find(({type:Y})=>Y===F);if(B||(B={type:F,rules:[]},T.rules.push(B)),T.keywords[q]=!0,!O)return;const V={keyword:q,definition:{...O,type:(0,c.getJSONTypes)(O.type),schemaType:(0,c.getJSONTypes)(O.schemaType)}};O.before?re.call(this,B,V,O.before):B.rules.push(V),T.all[q]=V,(P=O.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function re(q,O,F){const P=q.rules.findIndex(_=>_.keyword===F);P>=0?q.rules.splice(P,0,O):(q.rules.push(O),this.logger.warn(`rule ${F} is not defined`))}function le(q){let{metaSchema:O}=q;O!==void 0&&(q.$data&&this.opts.$data&&(O=ne(O)),q.validateSchema=this.compile(O,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(q){return{anyOf:[q,G]}}})(va)),va}var ci={},ui={},di={},xd;function ky(){if(xd)return di;xd=1,Object.defineProperty(di,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return di.default=e,di}var dn={},Sd;function xy(){if(Sd)return dn;Sd=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.callRef=dn.getValidate=void 0;const e=ai(),t=Tt(),n=ge(),r=un(),s=Aa(),i=ve(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:u,schema:d,it:f}=c,{baseId:m,schemaEnv:b,validateName:g,opts:p,self:w}=f,{root:h}=b;if((d==="#"||d==="#/")&&m===h.baseId)return k();const y=s.resolveRef.call(w,h,m,d);if(y===void 0)throw new e.default(f.opts.uriResolver,m,d);if(y instanceof s.SchemaEnv)return v(y);return x(y);function k(){if(b===h)return l(c,g,b,b.$async);const S=u.scopeValue("root",{ref:h});return l(c,(0,n._)`${S}.validate`,h,h.$async)}function v(S){const E=a(c,S);l(c,E,S,S.$async)}function x(S){const E=u.scopeValue("schema",p.code.source===!0?{ref:S,code:(0,n.stringify)(S)}:{ref:S}),C=u.name("valid"),M=c.subschema({schema:S,dataTypes:[],schemaPath:n.nil,topSchemaRef:E,errSchemaPath:d},C);c.mergeEvaluated(M),c.ok(C)}}};function a(c,u){const{gen:d}=c;return u.validate?d.scopeValue("validate",{ref:u.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:u})}.validate`}dn.getValidate=a;function l(c,u,d,f){const{gen:m,it:b}=c,{allErrors:g,schemaEnv:p,opts:w}=b,h=w.passContext?r.default.this:n.nil;f?y():k();function y(){if(!p.$async)throw new Error("async schema referenced by sync schema");const S=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,t.callValidateCode)(c,u,h)}`),x(u),g||m.assign(S,!0)},E=>{m.if((0,n._)`!(${E} instanceof ${b.ValidationError})`,()=>m.throw(E)),v(E),g||m.assign(S,!1)}),c.ok(S)}function k(){c.result((0,t.callValidateCode)(c,u,h),()=>x(u),()=>v(u))}function v(S){const E=(0,n._)`${S}.errors`;m.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${E} : ${r.default.vErrors}.concat(${E})`),m.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function x(S){var E;if(!b.opts.unevaluated)return;const C=(E=d?.validate)===null||E===void 0?void 0:E.evaluated;if(b.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(b.props=i.mergeEvaluated.props(m,C.props,b.props));else{const M=m.var("props",(0,n._)`${S}.evaluated.props`);b.props=i.mergeEvaluated.props(m,M,b.props,n.Name)}if(b.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(b.items=i.mergeEvaluated.items(m,C.items,b.items));else{const M=m.var("items",(0,n._)`${S}.evaluated.items`);b.items=i.mergeEvaluated.items(m,M,b.items,n.Name)}}}return dn.callRef=l,dn.default=o,dn}var Ed;function Sy(){if(Ed)return ui;Ed=1,Object.defineProperty(ui,"__esModule",{value:!0});const e=ky(),t=xy(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return ui.default=n,ui}var fi={},hi={},_d;function Ey(){if(_d)return hi;_d=1,Object.defineProperty(hi,"__esModule",{value:!0});const e=ge(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:i,schemaCode:o})=>(0,e.str)`must be ${n[i].okStr} ${o}`,params:({keyword:i,schemaCode:o})=>(0,e._)`{comparison: ${n[i].okStr}, limit: ${o}}`},s={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:l}=i;i.fail$data((0,e._)`${a} ${n[o].fail} ${l} || isNaN(${a})`)}};return hi.default=s,hi}var pi={},$d;function _y(){if($d)return pi;$d=1,Object.defineProperty(pi,"__esModule",{value:!0});const e=ge(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:s,data:i,schemaCode:o,it:a}=r,l=a.opts.multipleOfPrecision,c=s.let("res"),u=l?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,e._)`${c} !== parseInt(${c})`;r.fail$data((0,e._)`(${o} === 0 || (${c} = ${i}/${o}, ${u}))`)}};return pi.default=n,pi}var mi={},gi={},Ad;function $y(){if(Ad)return gi;Ad=1,Object.defineProperty(gi,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,s=0,i;for(;s<n;)r++,i=t.charCodeAt(s++),i>=55296&&i<=56319&&s<n&&(i=t.charCodeAt(s),(i&64512)===56320&&s++);return r}return gi.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',gi}var Td;function Ay(){if(Td)return mi;Td=1,Object.defineProperty(mi,"__esModule",{value:!0});const e=ge(),t=ve(),n=$y(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:o}){const a=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:o,data:a,schemaCode:l,it:c}=i,u=o==="maxLength"?e.operators.GT:e.operators.LT,d=c.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(i.gen,n.default)}(${a})`;i.fail$data((0,e._)`${d} ${u} ${l}`)}};return mi.default=s,mi}var yi={},Cd;function Ty(){if(Cd)return yi;Cd=1,Object.defineProperty(yi,"__esModule",{value:!0});const e=Tt(),t=ge(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,t.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,t._)`{pattern: ${s}}`},code(s){const{data:i,$data:o,schema:a,schemaCode:l,it:c}=s,u=c.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${l}, ${u}))`:(0,e.usePattern)(s,a);s.fail$data((0,t._)`!${d}.test(${i})`)}};return yi.default=r,yi}var bi={},Nd;function Cy(){if(Nd)return bi;Nd=1,Object.defineProperty(bi,"__esModule",{value:!0});const e=ge(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:s}){const i=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${s} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:s,data:i,schemaCode:o}=r,a=s==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${i}).length ${a} ${o}`)}};return bi.default=n,bi}var vi={},Od;function Ny(){if(Od)return vi;Od=1,Object.defineProperty(vi,"__esModule",{value:!0});const e=Tt(),t=ge(),n=ve(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:o,schema:a,schemaCode:l,data:c,$data:u,it:d}=i,{opts:f}=d;if(!u&&a.length===0)return;const m=a.length>=f.loopRequired;if(d.allErrors?b():g(),f.strictRequired){const h=i.parentSchema.properties,{definedProperties:y}=i.it;for(const k of a)if(h?.[k]===void 0&&!y.has(k)){const v=d.schemaEnv.baseId+d.errSchemaPath,x=`required property "${k}" is not defined at "${v}" (strictRequired)`;(0,n.checkStrictMode)(d,x,d.opts.strictRequired)}}function b(){if(m||u)i.block$data(t.nil,p);else for(const h of a)(0,e.checkReportMissingProp)(i,h)}function g(){const h=o.let("missing");if(m||u){const y=o.let("valid",!0);i.block$data(y,()=>w(h,y)),i.ok(y)}else o.if((0,e.checkMissingProp)(i,a,h)),(0,e.reportMissingProp)(i,h),o.else()}function p(){o.forOf("prop",l,h=>{i.setParams({missingProperty:h}),o.if((0,e.noPropertyInData)(o,c,h,f.ownProperties),()=>i.error())})}function w(h,y){i.setParams({missingProperty:h}),o.forOf(h,l,()=>{o.assign(y,(0,e.propertyInData)(o,c,h,f.ownProperties)),o.if((0,t.not)(y),()=>{i.error(),o.break()})},t.nil)}}};return vi.default=s,vi}var wi={},Id;function Oy(){if(Id)return wi;Id=1,Object.defineProperty(wi,"__esModule",{value:!0});const e=ge(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:s}){const i=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${s} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:s,data:i,schemaCode:o}=r,a=s==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${i}.length ${a} ${o}`)}};return wi.default=n,wi}var ki={},xi={},Pd;function Na(){if(Pd)return xi;Pd=1,Object.defineProperty(xi,"__esModule",{value:!0});const e=cd();return e.code='require("ajv/dist/runtime/equal").default',xi.default=e,xi}var Ld;function Iy(){if(Ld)return ki;Ld=1,Object.defineProperty(ki,"__esModule",{value:!0});const e=ni(),t=ge(),n=ve(),r=Na(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,t._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:l,$data:c,schema:u,parentSchema:d,schemaCode:f,it:m}=o;if(!c&&!u)return;const b=a.let("valid"),g=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(b,p,(0,t._)`${f} === false`),o.ok(b);function p(){const k=a.let("i",(0,t._)`${l}.length`),v=a.let("j");o.setParams({i:k,j:v}),a.assign(b,!0),a.if((0,t._)`${k} > 1`,()=>(w()?h:y)(k,v))}function w(){return g.length>0&&!g.some(k=>k==="object"||k==="array")}function h(k,v){const x=a.name("item"),S=(0,e.checkDataTypes)(g,x,m.opts.strictNumbers,e.DataType.Wrong),E=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${k}--;`,()=>{a.let(x,(0,t._)`${l}[${k}]`),a.if(S,(0,t._)`continue`),g.length>1&&a.if((0,t._)`typeof ${x} == "string"`,(0,t._)`${x} += "_"`),a.if((0,t._)`typeof ${E}[${x}] == "number"`,()=>{a.assign(v,(0,t._)`${E}[${x}]`),o.error(),a.assign(b,!1).break()}).code((0,t._)`${E}[${x}] = ${k}`)})}function y(k,v){const x=(0,n.useFunc)(a,r.default),S=a.name("outer");a.label(S).for((0,t._)`;${k}--;`,()=>a.for((0,t._)`${v} = ${k}; ${v}--;`,()=>a.if((0,t._)`${x}(${l}[${k}], ${l}[${v}])`,()=>{o.error(),a.assign(b,!1).break(S)})))}}};return ki.default=i,ki}var Si={},Rd;function Py(){if(Rd)return Si;Rd=1,Object.defineProperty(Si,"__esModule",{value:!0});const e=ge(),t=ve(),n=Na(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:o,data:a,$data:l,schemaCode:c,schema:u}=i;l||u&&typeof u=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${a}, ${c})`):i.fail((0,e._)`${u} !== ${a}`)}};return Si.default=s,Si}var Ei={},Dd;function Ly(){if(Dd)return Ei;Dd=1,Object.defineProperty(Ei,"__esModule",{value:!0});const e=ge(),t=ve(),n=Na(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:o,data:a,$data:l,schema:c,schemaCode:u,it:d}=i;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const f=c.length>=d.opts.loopEnum;let m;const b=()=>m??(m=(0,t.useFunc)(o,n.default));let g;if(f||l)g=o.let("valid"),i.block$data(g,p);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const h=o.const("vSchema",u);g=(0,e.or)(...c.map((y,k)=>w(h,k)))}i.pass(g);function p(){o.assign(g,!1),o.forOf("v",u,h=>o.if((0,e._)`${b()}(${a}, ${h})`,()=>o.assign(g,!0).break()))}function w(h,y){const k=c[y];return typeof k=="object"&&k!==null?(0,e._)`${b()}(${a}, ${h}[${y}])`:(0,e._)`${a} === ${k}`}}};return Ei.default=s,Ei}var Md;function Ry(){if(Md)return fi;Md=1,Object.defineProperty(fi,"__esModule",{value:!0});const e=Ey(),t=_y(),n=Ay(),r=Ty(),s=Cy(),i=Ny(),o=Oy(),a=Iy(),l=Py(),c=Ly(),u=[e.default,t.default,n.default,r.default,s.default,i.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return fi.default=u,fi}var _i={},rr={},jd;function Bd(){if(jd)return rr;jd=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.validateAdditionalItems=void 0;const e=ge(),t=ve(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:o,it:a}=i,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(i,l)}};function s(i,o){const{gen:a,schema:l,data:c,keyword:u,it:d}=i;d.items=!0;const f=a.const("len",(0,e._)`${c}.length`);if(l===!1)i.setParams({len:o.length}),i.pass((0,e._)`${f} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const b=a.var("valid",(0,e._)`${f} <= ${o.length}`);a.if((0,e.not)(b),()=>m(b)),i.ok(b)}function m(b){a.forRange("i",o.length,f,g=>{i.subschema({keyword:u,dataProp:g,dataPropType:t.Type.Num},b),d.allErrors||a.if((0,e.not)(b),()=>a.break())})}}return rr.validateAdditionalItems=s,rr.default=r,rr}var $i={},sr={},Fd;function qd(){if(Fd)return sr;Fd=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.validateTuple=void 0;const e=ge(),t=ve(),n=Tt(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:o,it:a}=i;if(Array.isArray(o))return s(i,"additionalItems",o);a.items=!0,!(0,t.alwaysValidSchema)(a,o)&&i.ok((0,n.validateArray)(i))}};function s(i,o,a=i.schema){const{gen:l,parentSchema:c,data:u,keyword:d,it:f}=i;g(c),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const m=l.name("valid"),b=l.const("len",(0,e._)`${u}.length`);a.forEach((p,w)=>{(0,t.alwaysValidSchema)(f,p)||(l.if((0,e._)`${b} > ${w}`,()=>i.subschema({keyword:d,schemaProp:w,dataProp:w},m)),i.ok(m))});function g(p){const{opts:w,errSchemaPath:h}=f,y=a.length,k=y===p.minItems&&(y===p.maxItems||p[o]===!1);if(w.strictTuples&&!k){const v=`"${d}" is ${y}-tuple, but minItems or maxItems/${o} are not specified or different at path "${h}"`;(0,t.checkStrictMode)(f,v,w.strictTuples)}}}return sr.validateTuple=s,sr.default=r,sr}var Ud;function Dy(){if(Ud)return $i;Ud=1,Object.defineProperty($i,"__esModule",{value:!0});const e=qd(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return $i.default=t,$i}var Ai={},Kd;function My(){if(Kd)return Ai;Kd=1,Object.defineProperty(Ai,"__esModule",{value:!0});const e=ge(),t=ve(),n=Tt(),r=Bd(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:l,it:c}=o,{prefixItems:u}=l;c.items=!0,!(0,t.alwaysValidSchema)(c,a)&&(u?(0,r.validateAdditionalItems)(o,u):o.ok((0,n.validateArray)(o)))}};return Ai.default=i,Ai}var Ti={},zd;function jy(){if(zd)return Ti;zd=1,Object.defineProperty(Ti,"__esModule",{value:!0});const e=ge(),t=ve(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:i}})=>i===void 0?(0,e.str)`must contain at least ${s} valid item(s)`:(0,e.str)`must contain at least ${s} and no more than ${i} valid item(s)`,params:({params:{min:s,max:i}})=>i===void 0?(0,e._)`{minContains: ${s}}`:(0,e._)`{minContains: ${s}, maxContains: ${i}}`},code(s){const{gen:i,schema:o,parentSchema:a,data:l,it:c}=s;let u,d;const{minContains:f,maxContains:m}=a;c.opts.next?(u=f===void 0?1:f,d=m):u=1;const b=i.const("len",(0,e._)`${l}.length`);if(s.setParams({min:u,max:d}),d===void 0&&u===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&u>d){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,t.alwaysValidSchema)(c,o)){let y=(0,e._)`${b} >= ${u}`;d!==void 0&&(y=(0,e._)`${y} && ${b} <= ${d}`),s.pass(y);return}c.items=!0;const g=i.name("valid");d===void 0&&u===1?w(g,()=>i.if(g,()=>i.break())):u===0?(i.let(g,!0),d!==void 0&&i.if((0,e._)`${l}.length > 0`,p)):(i.let(g,!1),p()),s.result(g,()=>s.reset());function p(){const y=i.name("_valid"),k=i.let("count",0);w(y,()=>i.if(y,()=>h(k)))}function w(y,k){i.forRange("i",0,b,v=>{s.subschema({keyword:"contains",dataProp:v,dataPropType:t.Type.Num,compositeRule:!0},y),k()})}function h(y){i.code((0,e._)`${y}++`),d===void 0?i.if((0,e._)`${y} >= ${u}`,()=>i.assign(g,!0).break()):(i.if((0,e._)`${y} > ${d}`,()=>i.assign(g,!1).break()),u===1?i.assign(g,!0):i.if((0,e._)`${y} >= ${u}`,()=>i.assign(g,!0)))}}};return Ti.default=r,Ti}var Oa={},Vd;function By(){return Vd||(Vd=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ge(),n=ve(),r=Tt();e.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,t.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,u]=i(l);o(l,c),a(l,u)}};function i({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?c:u;f[d]=l[d]}return[c,u]}function o(l,c=l.schema){const{gen:u,data:d,it:f}=l;if(Object.keys(c).length===0)return;const m=u.let("missing");for(const b in c){const g=c[b];if(g.length===0)continue;const p=(0,r.propertyInData)(u,d,b,f.opts.ownProperties);l.setParams({property:b,depsCount:g.length,deps:g.join(", ")}),f.allErrors?u.if(p,()=>{for(const w of g)(0,r.checkReportMissingProp)(l,w)}):(u.if((0,t._)`${p} && (${(0,r.checkMissingProp)(l,g,m)})`),(0,r.reportMissingProp)(l,m),u.else())}}e.validatePropertyDeps=o;function a(l,c=l.schema){const{gen:u,data:d,keyword:f,it:m}=l,b=u.name("valid");for(const g in c)(0,n.alwaysValidSchema)(m,c[g])||(u.if((0,r.propertyInData)(u,d,g,m.opts.ownProperties),()=>{const p=l.subschema({keyword:f,schemaProp:g},b);l.mergeValidEvaluated(p,b)},()=>u.var(b,!0)),l.ok(b))}e.validateSchemaDeps=a,e.default=s})(Oa)),Oa}var Ci={},Hd;function Fy(){if(Hd)return Ci;Hd=1,Object.defineProperty(Ci,"__esModule",{value:!0});const e=ge(),t=ve(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,e._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:i,schema:o,data:a,it:l}=s;if((0,t.alwaysValidSchema)(l,o))return;const c=i.name("valid");i.forIn("key",a,u=>{s.setParams({propertyName:u}),s.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},c),i.if((0,e.not)(c),()=>{s.error(!0),l.allErrors||i.break()})}),s.ok(c)}};return Ci.default=r,Ci}var Ni={},Gd;function Wd(){if(Gd)return Ni;Gd=1,Object.defineProperty(Ni,"__esModule",{value:!0});const e=Tt(),t=ge(),n=un(),r=ve(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:l,parentSchema:c,data:u,errsCount:d,it:f}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:m,opts:b}=f;if(f.props=!0,b.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const g=(0,e.allSchemaProperties)(c.properties),p=(0,e.allSchemaProperties)(c.patternProperties);w(),o.ok((0,t._)`${d} === ${n.default.errors}`);function w(){a.forIn("key",u,x=>{!g.length&&!p.length?k(x):a.if(h(x),()=>k(x))})}function h(x){let S;if(g.length>8){const E=(0,r.schemaRefOrVal)(f,c.properties,"properties");S=(0,e.isOwnProperty)(a,E,x)}else g.length?S=(0,t.or)(...g.map(E=>(0,t._)`${x} === ${E}`)):S=t.nil;return p.length&&(S=(0,t.or)(S,...p.map(E=>(0,t._)`${(0,e.usePattern)(o,E)}.test(${x})`))),(0,t.not)(S)}function y(x){a.code((0,t._)`delete ${u}[${x}]`)}function k(x){if(b.removeAdditional==="all"||b.removeAdditional&&l===!1){y(x);return}if(l===!1){o.setParams({additionalProperty:x}),o.error(),m||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const S=a.name("valid");b.removeAdditional==="failing"?(v(x,S,!1),a.if((0,t.not)(S),()=>{o.reset(),y(x)})):(v(x,S),m||a.if((0,t.not)(S),()=>a.break()))}}function v(x,S,E){const C={keyword:"additionalProperties",dataProp:x,dataPropType:r.Type.Str};E===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(C,S)}}};return Ni.default=i,Ni}var Oi={},Jd;function qy(){if(Jd)return Oi;Jd=1,Object.defineProperty(Oi,"__esModule",{value:!0});const e=si(),t=Tt(),n=ve(),r=Wd(),s={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:o,schema:a,parentSchema:l,data:c,it:u}=i;u.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(u,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const p of d)u.definedProperties.add(p);u.opts.unevaluated&&d.length&&u.props!==!0&&(u.props=n.mergeEvaluated.props(o,(0,n.toHash)(d),u.props));const f=d.filter(p=>!(0,n.alwaysValidSchema)(u,a[p]));if(f.length===0)return;const m=o.name("valid");for(const p of f)b(p)?g(p):(o.if((0,t.propertyInData)(o,c,p,u.opts.ownProperties)),g(p),u.allErrors||o.else().var(m,!0),o.endIf()),i.it.definedProperties.add(p),i.ok(m);function b(p){return u.opts.useDefaults&&!u.compositeRule&&a[p].default!==void 0}function g(p){i.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};return Oi.default=s,Oi}var Ii={},Yd;function Uy(){if(Yd)return Ii;Yd=1,Object.defineProperty(Ii,"__esModule",{value:!0});const e=Tt(),t=ge(),n=ve(),r=ve(),s={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:o,schema:a,data:l,parentSchema:c,it:u}=i,{opts:d}=u,f=(0,e.allSchemaProperties)(a),m=f.filter(k=>(0,n.alwaysValidSchema)(u,a[k]));if(f.length===0||m.length===f.length&&(!u.opts.unevaluated||u.props===!0))return;const b=d.strictSchema&&!d.allowMatchingProperties&&c.properties,g=o.name("valid");u.props!==!0&&!(u.props instanceof t.Name)&&(u.props=(0,r.evaluatedPropsToName)(o,u.props));const{props:p}=u;w();function w(){for(const k of f)b&&h(k),u.allErrors?y(k):(o.var(g,!0),y(k),o.if(g))}function h(k){for(const v in b)new RegExp(k).test(v)&&(0,n.checkStrictMode)(u,`property ${v} matches pattern ${k} (use allowMatchingProperties)`)}function y(k){o.forIn("key",l,v=>{o.if((0,t._)`${(0,e.usePattern)(i,k)}.test(${v})`,()=>{const x=m.includes(k);x||i.subschema({keyword:"patternProperties",schemaProp:k,dataProp:v,dataPropType:r.Type.Str},g),u.opts.unevaluated&&p!==!0?o.assign((0,t._)`${p}[${v}]`,!0):!x&&!u.allErrors&&o.if((0,t.not)(g),()=>o.break())})})}}};return Ii.default=s,Ii}var Pi={},Qd;function Ky(){if(Qd)return Pi;Qd=1,Object.defineProperty(Pi,"__esModule",{value:!0});const e=ve(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:s,it:i}=n;if((0,e.alwaysValidSchema)(i,s)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return Pi.default=t,Pi}var Li={},Xd;function zy(){if(Xd)return Li;Xd=1,Object.defineProperty(Li,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Tt().validateUnion,error:{message:"must match a schema in anyOf"}};return Li.default=t,Li}var Ri={},Zd;function Vy(){if(Zd)return Ri;Zd=1,Object.defineProperty(Ri,"__esModule",{value:!0});const e=ge(),t=ve(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,e._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:i,schema:o,parentSchema:a,it:l}=s;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const c=o,u=i.let("valid",!1),d=i.let("passing",null),f=i.name("_valid");s.setParams({passing:d}),i.block(m),s.result(u,()=>s.reset(),()=>s.error(!0));function m(){c.forEach((b,g)=>{let p;(0,t.alwaysValidSchema)(l,b)?i.var(f,!0):p=s.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},f),g>0&&i.if((0,e._)`${f} && ${u}`).assign(u,!1).assign(d,(0,e._)`[${d}, ${g}]`).else(),i.if(f,()=>{i.assign(u,!0),i.assign(d,g),p&&s.mergeEvaluated(p,e.Name)})})}}};return Ri.default=r,Ri}var Di={},ef;function Hy(){if(ef)return Di;ef=1,Object.defineProperty(Di,"__esModule",{value:!0});const e=ve(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:s,it:i}=n;if(!Array.isArray(s))throw new Error("ajv implementation error");const o=r.name("valid");s.forEach((a,l)=>{if((0,e.alwaysValidSchema)(i,a))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return Di.default=t,Di}var Mi={},tf;function Gy(){if(tf)return Mi;tf=1,Object.defineProperty(Mi,"__esModule",{value:!0});const e=ge(),t=ve(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:o,parentSchema:a,it:l}=i;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=s(l,"then"),u=s(l,"else");if(!c&&!u)return;const d=o.let("valid",!0),f=o.name("_valid");if(m(),i.reset(),c&&u){const g=o.let("ifClause");i.setParams({ifClause:g}),o.if(f,b("then",g),b("else",g))}else c?o.if(f,b("then")):o.if((0,e.not)(f),b("else"));i.pass(d,()=>i.error(!0));function m(){const g=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);i.mergeEvaluated(g)}function b(g,p){return()=>{const w=i.subschema({keyword:g},f);o.assign(d,f),i.mergeValidEvaluated(w,d),p?o.assign(p,(0,e._)`${g}`):i.setParams({ifClause:g})}}}};function s(i,o){const a=i.schema[o];return a!==void 0&&!(0,t.alwaysValidSchema)(i,a)}return Mi.default=r,Mi}var ji={},nf;function Wy(){if(nf)return ji;nf=1,Object.defineProperty(ji,"__esModule",{value:!0});const e=ve(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:s}){r.if===void 0&&(0,e.checkStrictMode)(s,`"${n}" without "if" is ignored`)}};return ji.default=t,ji}var rf;function Jy(){if(rf)return _i;rf=1,Object.defineProperty(_i,"__esModule",{value:!0});const e=Bd(),t=Dy(),n=qd(),r=My(),s=jy(),i=By(),o=Fy(),a=Wd(),l=qy(),c=Uy(),u=Ky(),d=zy(),f=Vy(),m=Hy(),b=Gy(),g=Wy();function p(w=!1){const h=[u.default,d.default,f.default,m.default,b.default,g.default,o.default,a.default,i.default,l.default,c.default];return w?h.push(t.default,r.default):h.push(e.default,n.default),h.push(s.default),h}return _i.default=p,_i}var Bi={},Fi={},sf;function Yy(){if(sf)return Fi;sf=1,Object.defineProperty(Fi,"__esModule",{value:!0});const e=ge(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,s){const{gen:i,data:o,$data:a,schema:l,schemaCode:c,it:u}=r,{opts:d,errSchemaPath:f,schemaEnv:m,self:b}=u;if(!d.validateFormats)return;a?g():p();function g(){const w=i.scopeValue("formats",{ref:b.formats,code:d.code.formats}),h=i.const("fDef",(0,e._)`${w}[${c}]`),y=i.let("fType"),k=i.let("format");i.if((0,e._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>i.assign(y,(0,e._)`${h}.type || "string"`).assign(k,(0,e._)`${h}.validate`),()=>i.assign(y,(0,e._)`"string"`).assign(k,h)),r.fail$data((0,e.or)(v(),x()));function v(){return d.strictSchema===!1?e.nil:(0,e._)`${c} && !${k}`}function x(){const S=m.$async?(0,e._)`(${h}.async ? await ${k}(${o}) : ${k}(${o}))`:(0,e._)`${k}(${o})`,E=(0,e._)`(typeof ${k} == "function" ? ${S} : ${k}.test(${o}))`;return(0,e._)`${k} && ${k} !== true && ${y} === ${s} && !${E}`}}function p(){const w=b.formats[l];if(!w){v();return}if(w===!0)return;const[h,y,k]=x(w);h===s&&r.pass(S());function v(){if(d.strictSchema===!1){b.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function x(E){const C=E instanceof RegExp?(0,e.regexpCode)(E):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,M=i.scopeValue("formats",{key:l,ref:E,code:C});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,e._)`${M}.validate`]:["string",E,M]}function S(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!m.$async)throw new Error("async format in sync schema");return(0,e._)`await ${k}(${o})`}return typeof y=="function"?(0,e._)`${k}(${o})`:(0,e._)`${k}.test(${o})`}}}};return Fi.default=n,Fi}var of;function Qy(){if(of)return Bi;of=1,Object.defineProperty(Bi,"__esModule",{value:!0});const t=[Yy().default];return Bi.default=t,Bi}var En={},af;function Xy(){return af||(af=1,Object.defineProperty(En,"__esModule",{value:!0}),En.contentVocabulary=En.metadataVocabulary=void 0,En.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],En.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),En}var lf;function Zy(){if(lf)return ci;lf=1,Object.defineProperty(ci,"__esModule",{value:!0});const e=Sy(),t=Ry(),n=Jy(),r=Qy(),s=Xy(),i=[e.default,t.default,(0,n.default)(),r.default,s.metadataVocabulary,s.contentVocabulary];return ci.default=i,ci}var qi={},Kr={},cf;function eb(){if(cf)return Kr;cf=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(Kr.DiscrError=e={})),Kr}var uf;function tb(){if(uf)return qi;uf=1,Object.defineProperty(qi,"__esModule",{value:!0});const e=ge(),t=eb(),n=Aa(),r=ai(),s=ve(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:c}})=>(0,e._)`{error: ${a}, tag: ${c}, tagValue: ${l}}`},code(a){const{gen:l,data:c,schema:u,parentSchema:d,it:f}=a,{oneOf:m}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=u.propertyName;if(typeof b!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const g=l.let("valid",!1),p=l.const("tag",(0,e._)`${c}${(0,e.getProperty)(b)}`);l.if((0,e._)`typeof ${p} == "string"`,()=>w(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:p,tagName:b})),a.ok(g);function w(){const k=y();l.if(!1);for(const v in k)l.elseIf((0,e._)`${p} === ${v}`),l.assign(g,h(k[v]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:p,tagName:b}),l.endIf()}function h(k){const v=l.name("valid"),x=a.subschema({keyword:"oneOf",schemaProp:k},v);return a.mergeEvaluated(x,e.Name),v}function y(){var k;const v={},x=E(d);let S=!0;for(let j=0;j<m.length;j++){let D=m[j];if(D?.$ref&&!(0,s.schemaHasRulesButRef)(D,f.self.RULES)){const H=D.$ref;if(D=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,H),D instanceof n.SchemaEnv&&(D=D.schema),D===void 0)throw new r.default(f.opts.uriResolver,f.baseId,H)}const z=(k=D?.properties)===null||k===void 0?void 0:k[b];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);S=S&&(x||E(D)),C(z,j)}if(!S)throw new Error(`discriminator: "${b}" must be required`);return v;function E({required:j}){return Array.isArray(j)&&j.includes(b)}function C(j,D){if(j.const)M(j.const,D);else if(j.enum)for(const z of j.enum)M(z,D);else throw new Error(`discriminator: "properties/${b}" must have "const" or "enum"`)}function M(j,D){if(typeof j!="string"||j in v)throw new Error(`discriminator: "${b}" values must be unique strings`);v[j]=D}}}};return qi.default=o,qi}const nb={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var df;function rb(){return df||(df=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=wy(),r=Zy(),s=tb(),i=nb,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(b,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=si();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=ge();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=$a();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=ai();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(Xs,Xs.exports)),Xs.exports}var sb=rb();const ib=uy(sb);let Ia=null;function ob(){return Ia||(Ia=new ib({allErrors:!0,strict:!1,validateFormats:!0})),Ia}function ab(e){const t=e.instancePath||"/",n=e.keyword,r=e.params;let s=e.message||"Invalid value";switch(n){case"type":s=`must be ${r.type}`;break;case"minLength":s=`must be at least ${r.limit} characters`;break;case"maxLength":s=`must be at most ${r.limit} characters`;break;case"minimum":s=`must be >= ${r.limit}`;break;case"maximum":s=`must be <= ${r.limit}`;break;case"exclusiveMinimum":s=`must be > ${r.limit}`;break;case"exclusiveMaximum":s=`must be < ${r.limit}`;break;case"multipleOf":s=`must be a multiple of ${r.multipleOf}`;break;case"pattern":s=`must match pattern ${r.pattern}`;break;case"enum":s=`must be one of: ${r.allowedValues.join(", ")}`;break;case"const":s=`must be equal to ${JSON.stringify(r.allowedValue)}`;break;case"minItems":s=`must have at least ${r.limit} items`;break;case"maxItems":s=`must have at most ${r.limit} items`;break;case"uniqueItems":s="must have unique items";break;case"required":s=`missing required property: ${r.missingProperty}`;break;case"format":s=`must be a valid ${r.format}`;break}return{path:t,message:s,keyword:n,params:r}}function lb(e,t){const r=ob().compile(t);return r(e)?{valid:!0,errors:[]}:{valid:!1,errors:(r.errors||[]).map(ab)}}function cb(e,t){if(e==="")return;switch(t.type||"string"){case"number":return Number(e);case"integer":return Number.parseInt(e,10);case"boolean":return e==="true";case"array":try{return JSON.parse(e)}catch{return e}case"object":try{return JSON.parse(e)}catch{return e}case"null":return null;default:return e}}function ub(e,t,n){if(e===""||e===void 0||e===null)return n?{valid:!1,errors:[{path:"/",message:"this field is required",keyword:"required",params:{}}]}:{valid:!0,errors:[]};const r=cb(e,t);return(t.type==="number"||t.type==="integer")&&Number.isNaN(r)?{valid:!1,errors:[{path:"/",message:"must be a valid number",keyword:"type",params:{type:t.type}}]}:lb(r,t)}function db(){return()=>document.documentElement.classList.contains("dark")||document.querySelector(".dark")!==null}const fb=500,hb=20,pb="by-timestamp";function mb(){return`${Date.now()}-${Math.random().toString(36).slice(2,11)}`}class gb{storage;storeName;maxEntries;pageSize;timestampIndex;validateEntry;state;subscribers;constructor(t){this.storage=t.storage,this.storeName=t.storeName,this.maxEntries=t.maxEntries??fb,this.pageSize=t.pageSize??hb,this.timestampIndex=t.timestampIndex??pb,this.validateEntry=t.validateEntry,this.state={entries:[],totalCount:0,hasMore:!0,loading:!1,initialized:!1},this.subscribers=new Set}subscribe(t){return this.subscribers.add(t),t(this.state),()=>{this.subscribers.delete(t)}}getState(){return{...this.state}}notifySubscribers(){const t=this.getState();for(const n of this.subscribers)n(t)}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}async init(){if(!this.state.initialized){this.updateState({loading:!0});try{const t=await this.storage.count(this.storeName),n=await this.storage.getPage(this.storeName,{limit:this.pageSize,index:this.timestampIndex,direction:"prev"});this.updateState({entries:n,totalCount:t,hasMore:n.length>=this.pageSize&&n.length<t,loading:!1,initialized:!0})}catch(t){console.warn("Failed to load history from storage:",t),this.updateState({loading:!1,initialized:!0})}}}async add(t){const n=mb(),r={...t,id:n,timestamp:Date.now()};return await this.storage.set(this.storeName,n,r),this.updateState({entries:[r,...this.state.entries],totalCount:this.state.totalCount+1}),await this.pruneOldEntries(),n}async update(t,n){const r=this.state.entries.findIndex(s=>s.id===t);if(r!==-1){const s={...this.state.entries[r],...n},i=[...this.state.entries];i[r]=s,this.updateState({entries:i}),await this.storage.set(this.storeName,t,s)}else{const s=await this.storage.get(this.storeName,t);if(s){const i={...s,...n};await this.storage.set(this.storeName,t,i)}}}async remove(t){this.updateState({entries:this.state.entries.filter(n=>n.id!==t),totalCount:Math.max(0,this.state.totalCount-1)}),await this.storage.remove(this.storeName,t)}async clear(){this.updateState({entries:[],totalCount:0,hasMore:!1}),await this.storage.clear(this.storeName)}get(t){return this.state.entries.find(n=>n.id===t)}async loadMore(){if(!(this.state.loading||!this.state.hasMore)){this.updateState({loading:!0});try{const t=this.state.entries.length,n=await this.storage.getPage(this.storeName,{limit:this.pageSize,offset:t,index:this.timestampIndex,direction:"prev"});if(n.length>0){const r=await this.storage.count(this.storeName);this.updateState({entries:[...this.state.entries,...n],totalCount:r,hasMore:this.state.entries.length+n.length<r,loading:!1})}else this.updateState({hasMore:!1,loading:!1})}catch(t){console.warn("Failed to load more history:",t),this.updateState({loading:!1})}}}async exportAll(){const t=await this.storage.getAll(this.storeName);return t.sort((n,r)=>r.timestamp-n.timestamp),JSON.stringify(t,null,2)}async importFromJson(t){try{const n=JSON.parse(t);if(!Array.isArray(n)||!n.every(s=>{const i=typeof s.id=="string"&&typeof s.timestamp=="number";return this.validateEntry?this.validateEntry(s):i}))return!1;await this.storage.clear(this.storeName);const r=n.slice(0,this.maxEntries);for(const s of r)await this.storage.set(this.storeName,s.id,s);return this.state={entries:[],totalCount:0,hasMore:!0,loading:!1,initialized:!1},await this.init(),!0}catch{return!1}}async pruneOldEntries(){const t=await this.storage.count(this.storeName);if(t>this.maxEntries){const n=await this.storage.getPage(this.storeName,{limit:t-this.maxEntries,index:this.timestampIndex,direction:"next"});for(const r of n)await this.storage.remove(this.storeName,r.id);this.updateState({totalCount:this.maxEntries})}}}const Pa=(e,t)=>t.some(n=>e instanceof n);let ff,hf;function yb(){return ff||(ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bb(){return hf||(hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const La=new WeakMap,Ra=new WeakMap,Ui=new WeakMap;function vb(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(_n(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return Ui.set(t,e),t}function wb(e){if(La.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});La.set(e,t)}let Da={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return La.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pf(e){Da=e(Da)}function kb(e){return bb().includes(e)?function(...t){return e.apply(Ma(this),t),_n(this.request)}:function(...t){return _n(e.apply(Ma(this),t))}}function xb(e){return typeof e=="function"?kb(e):(e instanceof IDBTransaction&&wb(e),Pa(e,yb())?new Proxy(e,Da):e)}function _n(e){if(e instanceof IDBRequest)return vb(e);if(Ra.has(e))return Ra.get(e);const t=xb(e);return t!==e&&(Ra.set(e,t),Ui.set(t,e)),t}const Ma=e=>Ui.get(e);function Sb(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=_n(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_n(o.result),l.oldVersion,l.newVersion,_n(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Eb=["get","getKey","getAll","getAllKeys","count"],_b=["put","add","delete","clear"],ja=new Map;function mf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ja.get(t))return ja.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=_b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Eb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ja.set(t,i),i}pf(e=>({...e,get:(t,n,r)=>mf(t,n)||e.get(t,n,r),has:(t,n)=>!!mf(t,n)||e.has(t,n)}));const $b=["continue","continuePrimaryKey","advance"],gf={},Ba=new WeakMap,yf=new WeakMap,Ab={get(e,t){if(!$b.includes(t))return e[t];let n=gf[t];return n||(n=gf[t]=function(...r){Ba.set(this,yf.get(this)[t](...r))}),n}};async function*Tb(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Ab);for(yf.set(n,t),Ui.set(n,Ma(t));t;)yield n,t=await(Ba.get(n)||t.continue()),Ba.delete(n)}function bf(e,t){return t===Symbol.asyncIterator&&Pa(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Pa(e,[IDBIndex,IDBObjectStore])}pf(e=>({...e,get(t,n,r){return bf(t,n)?Tb:e.get(t,n,r)},has(t,n){return bf(t,n)||e.has(t,n)}}));const Cb=typeof window<"u"&&typeof indexedDB<"u",vf=new Set;function $n(e,t,n){const r=`${e}:${t}`;vf.has(r)||(console.warn(`[History Storage] IndexedDB ${t} failed for "${e}". App will continue without persistence.`,n),vf.add(r))}function Nb(e){const{dbName:t,dbVersion:n,stores:r}=e;let s=null;async function i(){return Sb(t,n,{upgrade(a){for(const[l,c]of Object.entries(r))if(!a.objectStoreNames.contains(l)){const u=a.createObjectStore(l,{keyPath:c.keyPath});if(c.indexes)for(const d of c.indexes)u.createIndex(d.name,d.keyPath,d.options)}}})}function o(){return Cb?(s||(s=i().catch(a=>{throw s=null,a})),s):Promise.reject(new Error("IndexedDB is not available"))}return{async get(a,l){try{return await(await o()).get(a,l)??null}catch(c){return $n(t,"get",c),null}},async set(a,l,c){try{const u=await o(),d={...c,id:l};await u.put(a,d)}catch(u){$n(t,"set",u)}},async remove(a,l){try{await(await o()).delete(a,l)}catch(c){$n(t,"remove",c)}},async clear(a){try{await(await o()).clear(a)}catch(l){$n(t,"clear",l)}},async getPage(a,l){try{const c=await o(),{limit:u,offset:d=0,index:f,direction:m="prev"}=l,b=c.transaction(a,"readonly"),g=b.objectStore(a),p=f?g.index(f):g,w=[];let h=0,y=await p.openCursor(null,m);for(;y&&w.length<u;)h<d?h++:w.push(y.value),y=await y.continue();return await b.done,w}catch(c){return $n(t,"getPage",c),[]}},async count(a){try{return(await o()).count(a)}catch(l){return $n(t,"count",l),0}},async getAll(a){try{return await(await o()).getAll(a)}catch(l){return $n(t,"getAll",l),[]}}}}const wf=typeof window<"u"&&typeof localStorage<"u";function Fa(e,t){if(!wf)return t;try{const n=localStorage.getItem(e);return n===null?t:JSON.parse(n)}catch{return t}}function qa(e,t){if(!wf)return!1;try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch{return!1}}const Ob={common:{send:"Send",cancel:"Cancel",copy:"Copy",copied:"Copied!",copyLink:"Copy link",linkCopied:"Link copied!",close:"Close",search:"Search...",loading:"Loading...",error:"Error",noResults:"No results found",required:"required",optional:"optional",deprecated:"deprecated",tryIt:"Try it out",clear:"Clear"},operations:{parameters:"Parameters",requestBody:"Request Body",responses:"Responses",headers:"Header",query:"Query",path:"Path",cookie:"Cookie",noParameters:"No parameters",noRequestBody:"No request body",jsonMode:"JSON",formMode:"Form"},response:{status:"Status",time:"Time",size:"Size",body:"Body",headers:"Headers",noResponse:'No response yet. Click "Send" to execute the request.'},auth:{title:"Authorization",apiKey:"API Key",bearer:"Bearer Token",basic:"Basic Auth",oauth2:"OAuth 2.0",openid:"OpenID",username:"Username",password:"Password",token:"Token",authorize:"Authorize",logout:"Logout",configured:"Configured",notConfigured:"Not configured",issuerUrl:"Issuer URL",clientId:"Client ID",clientSecret:"Client Secret",clientSecretPlaceholder:"Optional - for confidential clients",scopes:"Scopes",accessToken:"Access Token",accessTokenPlaceholder:"Paste access token from OIDC flow",idToken:"ID Token",idTokenPlaceholder:"Paste ID token from OIDC flow",configure:"Configure",setTokens:"Set Tokens",editConfig:"Edit",openidConfigured:"OpenID Connect configured",openidTokenHint:"Paste tokens obtained from your identity provider after completing the OIDC flow",tokensSet:"Tokens are configured and will be used for requests",refreshToken:"Refresh Token",refreshTokenPlaceholder:"Paste refresh token for auto-refresh",refreshTokenHint:"Optional - enables automatic token refresh",expiresIn:"Expires In (seconds)",expiresInHint:"Token lifetime in seconds from now",tokenExpired:"Token has expired",tokenExpiringSoon:"Token expires in {minutes} minutes",tokenExpiresIn:"Token expires in {minutes} minutes",tokenExpiresInHours:"Token expires in {hours} hours",refreshNow:"Refresh Now",refreshing:"Refreshing...",loginWithOpenId:"Login with OpenID",loggingIn:"Redirecting...",loggedIn:"Logged in",loggedInAs:"Logged in as {username}",missingConfig:"Issuer URL and Client ID are required",refreshFailed:"Token refresh failed",availableScopes:"Available scopes",loadingDiscovery:"Loading OIDC discovery..."},codegen:{title:"Code Snippets",curl:"cURL",curlPreview:"cURL Preview",javascript:"JavaScript",python:"Python",go:"Go"},history:{title:"Request History",empty:"No requests yet",clearAll:"Clear all",confirmClear:"Confirm?",replay:"Replay",delete:"Delete",success:"Success",failed:"Failed",export:"Export",import:"Import",navigate:"Navigate",justNow:"Just now",minutesAgo:"{minutes}m ago",hoursAgo:"{hours}h ago",daysAgo:"{days}d ago"},sidebar:{allOperations:"All Operations",servers:"Servers",serverVariables:"Server Variables",toggleThemeLight:"Switch to light mode",toggleThemeDark:"Switch to dark mode"},specLoader:{title:"Load API Specification",subtitle:"Load an OpenAPI or gRPC specification to explore and test",uploadFile:"Upload a file",loadFromUrl:"Load from URL",load:"Load",loading:"Loading...",or:"or",clickToUpload:"Click to upload",orDragDrop:"or drag and drop",supportedFormats:"JSON or YAML files (.json, .yaml, .yml)",urlRequired:"Please enter a URL",loadFailed:"Failed to load specification",invalidFileType:"Invalid file type. Please upload a JSON or YAML file.",jsonOnly:"Only JSON and YAML files are supported",tryExample:"Try an example:",specType:"Type",openapi:"OpenAPI",grpc:"gRPC",grpcPlaceholder:"http://localhost:8080 (gRPC-Web endpoint)"},commandPalette:{placeholder:"Search operations...",noResults:"No operations found",navigate:"to navigate",select:"to select"},validation:{required:"This field is required",type:"Must be {type}",minLength:"Must be at least {limit} characters",maxLength:"Must be at most {limit} characters",minimum:"Must be >= {limit}",maximum:"Must be <= {limit}",exclusiveMinimum:"Must be > {limit}",exclusiveMaximum:"Must be < {limit}",multipleOf:"Must be a multiple of {value}",pattern:"Must match pattern: {pattern}",enum:"Must be one of: {values}",const:"Must be equal to {value}",minItems:"Must have at least {limit} items",maxItems:"Must have at most {limit} items",uniqueItems:"Must have unique items",missingProperty:"Missing required property: {property}",format:"Must be a valid {format}",invalidNumber:"Must be a valid number"}},Ib={common:{send:"Envoyer",cancel:"Annuler",copy:"Copier",copied:"Copie!",copyLink:"Copier le lien",linkCopied:"Lien copie!",close:"Fermer",search:"Rechercher...",loading:"Chargement...",error:"Erreur",noResults:"Aucun resultat",required:"requis",optional:"optionnel",deprecated:"obsolete",tryIt:"Essayer",clear:"Effacer"},operations:{parameters:"Parametres",requestBody:"Corps de la requete",responses:"Reponses",headers:"En-tete",query:"Requete",path:"Chemin",cookie:"Cookie",noParameters:"Aucun parametre",noRequestBody:"Pas de corps de requete",jsonMode:"JSON",formMode:"Formulaire"},response:{status:"Statut",time:"Temps",size:"Taille",body:"Corps",headers:"En-tetes",noResponse:'Pas encore de reponse. Cliquez sur "Envoyer" pour executer la requete.'},auth:{title:"Autorisation",apiKey:"Cle API",bearer:"Jeton Bearer",basic:"Auth Basique",oauth2:"OAuth 2.0",openid:"OpenID",username:"Nom d'utilisateur",password:"Mot de passe",token:"Jeton",authorize:"Autoriser",logout:"Deconnexion",configured:"Configure",notConfigured:"Non configure",issuerUrl:"URL Emetteur",clientId:"ID Client",clientSecret:"Secret Client",clientSecretPlaceholder:"Optionnel - pour clients confidentiels",scopes:"Portees",accessToken:"Jeton d'acces",accessTokenPlaceholder:"Collez le jeton d'acces du flux OIDC",idToken:"Jeton d'identite",idTokenPlaceholder:"Collez le jeton d'identite du flux OIDC",configure:"Configurer",setTokens:"Definir les jetons",editConfig:"Modifier",openidConfigured:"OpenID Connect configure",openidTokenHint:"Collez les jetons obtenus de votre fournisseur d'identite apres avoir complete le flux OIDC",tokensSet:"Les jetons sont configures et seront utilises pour les requetes",refreshToken:"Jeton de rafraichissement",refreshTokenPlaceholder:"Collez le jeton de rafraichissement",refreshTokenHint:"Optionnel - permet le rafraichissement automatique",expiresIn:"Expire dans (secondes)",expiresInHint:"Duree de vie du jeton en secondes",tokenExpired:"Le jeton a expire",tokenExpiringSoon:"Le jeton expire dans {minutes} minutes",tokenExpiresIn:"Le jeton expire dans {minutes} minutes",tokenExpiresInHours:"Le jeton expire dans {hours} heures",refreshNow:"Rafraichir maintenant",refreshing:"Rafraichissement...",loginWithOpenId:"Se connecter avec OpenID",loggingIn:"Redirection...",loggedIn:"Connecte",loggedInAs:"Connecte en tant que {username}",missingConfig:"L'URL de l'emetteur et l'ID client sont requis",refreshFailed:"Echec du rafraichissement du jeton",availableScopes:"Portees disponibles",loadingDiscovery:"Chargement de la decouverte OIDC..."},codegen:{title:"Extraits de code",curl:"cURL",curlPreview:"Aperu cURL",javascript:"JavaScript",python:"Python",go:"Go"},history:{title:"Historique des requetes",empty:"Aucune requete",clearAll:"Tout effacer",confirmClear:"Confirmer?",replay:"Rejouer",delete:"Supprimer",success:"Succes",failed:"Echec",export:"Exporter",import:"Importer",navigate:"Naviguer",justNow:"A l'instant",minutesAgo:"Il y a {minutes}m",hoursAgo:"Il y a {hours}h",daysAgo:"Il y a {days}j"},sidebar:{allOperations:"Toutes les operations",servers:"Serveurs",serverVariables:"Variables du serveur",toggleThemeLight:"Passer au mode clair",toggleThemeDark:"Passer au mode sombre"},specLoader:{title:"Charger une specification API",subtitle:"Chargez une specification OpenAPI ou gRPC pour explorer et tester",uploadFile:"Importer un fichier",loadFromUrl:"Charger depuis une URL",load:"Charger",loading:"Chargement...",or:"ou",clickToUpload:"Cliquez pour importer",orDragDrop:"ou glissez-deposez",supportedFormats:"Fichiers JSON ou YAML (.json, .yaml, .yml)",urlRequired:"Veuillez entrer une URL",loadFailed:"Echec du chargement de la specification",invalidFileType:"Type de fichier invalide. Veuillez importer un fichier JSON ou YAML.",jsonOnly:"Seuls les fichiers JSON et YAML sont pris en charge",tryExample:"Essayez un exemple:",specType:"Type",openapi:"OpenAPI",grpc:"gRPC",grpcPlaceholder:"http://localhost:8080 (endpoint gRPC-Web)"},commandPalette:{placeholder:"Rechercher des operations...",noResults:"Aucune operation trouvee",navigate:"pour naviguer",select:"pour selectionner"},validation:{required:"Ce champ est requis",type:"Doit etre de type {type}",minLength:"Doit contenir au moins {limit} caracteres",maxLength:"Doit contenir au plus {limit} caracteres",minimum:"Doit etre >= {limit}",maximum:"Doit etre <= {limit}",exclusiveMinimum:"Doit etre > {limit}",exclusiveMaximum:"Doit etre < {limit}",multipleOf:"Doit etre un multiple de {value}",pattern:"Doit correspondre au motif : {pattern}",enum:"Doit etre parmi : {values}",const:"Doit etre egal a {value}",minItems:"Doit contenir au moins {limit} elements",maxItems:"Doit contenir au plus {limit} elements",uniqueItems:"Les elements doivent etre uniques",missingProperty:"Propriete requise manquante : {property}",format:"Doit etre un {format} valide",invalidNumber:"Doit etre un nombre valide"}},kf="wti:locale",xf={en:Ob,fr:Ib},Ki=["en","fr"];function Pb(){if(typeof navigator>"u")return"en";const e=navigator.language.split("-")[0];return Ki.includes(e)?e:"en"}function Lb(e){if(e)return e;const t=Fa(kf,null);return t&&Ki.includes(t)?t:Pb()}function Rb(e,t){return t.split(".").reduce((n,r)=>n&&typeof n=="object"&&r in n?n[r]:t,e)}function Db(e,t){return t?e.replace(/\{(\w+)\}/g,(n,r)=>r in t?String(t[r]):`{${r}}`):e}const Sf=uc();function Mb(e){const[t,n]=X(Lb(e.locale)),r={t:(s,i)=>{const o=xf[t()]||xf.en,a=Rb(o,s);return Db(a,i)},locale:t,setLocale:s=>{Ki.includes(s)&&(n(s),qa(kf,s))},supportedLocales:Ki};return A(Sf.Provider,{value:r,get children(){return e.children}})}function Re(){const e=dc(Sf);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}function Yt(e){return Array.isArray?Array.isArray(e):$f(e)==="[object Array]"}function jb(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Bb(e){return e==null?"":jb(e)}function jt(e){return typeof e=="string"}function Ef(e){return typeof e=="number"}function Fb(e){return e===!0||e===!1||qb(e)&&$f(e)=="[object Boolean]"}function _f(e){return typeof e=="object"}function qb(e){return _f(e)&&e!==null}function ht(e){return e!=null}function Ua(e){return!e.trim().length}function $f(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ub="Incorrect 'index' type",Kb=e=>`Invalid value for key ${e}`,zb=e=>`Pattern length exceeds max of ${e}.`,Vb=e=>`Missing ${e} property in key`,Hb=e=>`Property 'weight' in key '${e}' must be a positive integer`,Af=Object.prototype.hasOwnProperty;class Gb{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=Tf(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Tf(e){let t=null,n=null,r=null,s=1,i=null;if(jt(e)||Yt(e))r=e,t=Cf(e),n=Ka(e);else{if(!Af.call(e,"name"))throw new Error(Vb("name"));const o=e.name;if(r=o,Af.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(Hb(o));t=Cf(o),n=Ka(o),i=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:i}}function Cf(e){return Yt(e)?e:e.split(".")}function Ka(e){return Yt(e)?e.join("."):e}function Wb(e,t){let n=[],r=!1;const s=(i,o,a)=>{if(ht(i))if(!o[a])n.push(i);else{let l=o[a];const c=i[l];if(!ht(c))return;if(a===o.length-1&&(jt(c)||Ef(c)||Fb(c)))n.push(Bb(c));else if(Yt(c)){r=!0;for(let u=0,d=c.length;u<d;u+=1)s(c[u],o,a+1)}else o.length&&s(c,o,a+1)}};return s(e,jt(t)?t.split("."):t,0),r?n:n[0]}var oe={...{isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:Wb,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Jb=/[^ ]+/g;function Yb(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const i=s.match(Jb).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}class za{constructor({getFn:t=oe.getFn,fieldNormWeight:n=oe.fieldNormWeight}={}){this.norm=Yb(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,jt(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();jt(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!ht(t)||Ua(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(t):this.getFn(t,s.path);if(ht(o)){if(Yt(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(ht(u))if(jt(u)&&!Ua(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else Yt(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}r.$[i]=a}else if(jt(o)&&!Ua(o)){let a={v:o,n:this.norm.get(o)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Nf(e,t,{getFn:n=oe.getFn,fieldNormWeight:r=oe.fieldNormWeight}={}){const s=new za({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(Tf)),s.setSources(t),s.create(),s}function Qb(e,{getFn:t=oe.getFn,fieldNormWeight:n=oe.fieldNormWeight}={}){const{keys:r,records:s}=e,i=new za({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}function zi(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=oe.distance,ignoreLocation:i=oe.ignoreLocation}={}){const o=t/e.length;if(i)return o;const a=Math.abs(r-n);return s?o+a/s:a?1:o}function Xb(e=[],t=oe.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let o=e.length;i<o;i+=1){let a=e[i];a&&r===-1?r=i:!a&&r!==-1&&(s=i-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const An=32;function Zb(e,t,n,{location:r=oe.location,distance:s=oe.distance,threshold:i=oe.threshold,findAllMatches:o=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,includeMatches:l=oe.includeMatches,ignoreLocation:c=oe.ignoreLocation}={}){if(t.length>An)throw new Error(zb(An));const u=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let m=i,b=f;const g=a>1||l,p=g?Array(d):[];let w;for(;(w=e.indexOf(t,b))>-1;){let S=zi(t,{currentLocation:w,expectedLocation:f,distance:s,ignoreLocation:c});if(m=Math.min(S,m),b=w+u,g){let E=0;for(;E<u;)p[w+E]=1,E+=1}}b=-1;let h=[],y=1,k=u+d;const v=1<<u-1;for(let S=0;S<u;S+=1){let E=0,C=k;for(;E<C;)zi(t,{errors:S,currentLocation:f+C,expectedLocation:f,distance:s,ignoreLocation:c})<=m?E=C:k=C,C=Math.floor((k-E)/2+E);k=C;let M=Math.max(1,f-C+1),j=o?d:Math.min(f+C,d)+u,D=Array(j+2);D[j+1]=(1<<S)-1;for(let z=j;z>=M;z-=1){let H=z-1,W=n[e.charAt(H)];if(g&&(p[H]=+!!W),D[z]=(D[z+1]<<1|1)&W,S&&(D[z]|=(h[z+1]|h[z])<<1|1|h[z+1]),D[z]&v&&(y=zi(t,{errors:S,currentLocation:H,expectedLocation:f,distance:s,ignoreLocation:c}),y<=m)){if(m=y,b=H,b<=f)break;M=Math.max(1,2*f-b)}}if(zi(t,{errors:S+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:c})>m)break;h=D}const x={isMatch:b>=0,score:Math.max(.001,y)};if(g){const S=Xb(p,a);S.length?l&&(x.indices=S):x.isMatch=!1}return x}function ev(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}const Vi=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class Of{constructor(t,{location:n=oe.location,threshold:r=oe.threshold,distance:s=oe.distance,includeMatches:i=oe.includeMatches,findAllMatches:o=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,isCaseSensitive:l=oe.isCaseSensitive,ignoreDiacritics:c=oe.ignoreDiacritics,ignoreLocation:u=oe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u},t=l?t:t.toLowerCase(),t=c?Vi(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const d=(m,b)=>{this.chunks.push({pattern:m,alphabet:ev(m),startIndex:b})},f=this.pattern.length;if(f>An){let m=0;const b=f%An,g=f-b;for(;m<g;)d(this.pattern.substr(m,An),m),m+=An;if(b){const p=f-An;d(this.pattern.substr(p),p)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=r?Vi(t):t,this.pattern===t){let g={isMatch:!0,score:0};return s&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:u}=this.options;let d=[],f=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:p,startIndex:w})=>{const{isMatch:h,score:y,indices:k}=Zb(t,g,p,{location:i+w,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:s,ignoreLocation:u});h&&(m=!0),f+=y,h&&k&&(d=[...d,...k])});let b={isMatch:m,score:m?f/this.chunks.length:1};return m&&s&&(b.indices=d),b}}class fn{constructor(t){this.pattern=t}static isMultiMatch(t){return If(t,this.multiRegex)}static isSingleMatch(t){return If(t,this.singleRegex)}search(){}}function If(e,t){const n=e.match(t);return n?n[1]:null}class tv extends fn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class nv extends fn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class rv extends fn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class sv extends fn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class iv extends fn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ov extends fn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Pf extends fn{constructor(t,{location:n=oe.location,threshold:r=oe.threshold,distance:s=oe.distance,includeMatches:i=oe.includeMatches,findAllMatches:o=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,isCaseSensitive:l=oe.isCaseSensitive,ignoreDiacritics:c=oe.ignoreDiacritics,ignoreLocation:u=oe.ignoreLocation}={}){super(t),this._bitapSearch=new Of(t,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Lf extends fn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Va=[tv,Lf,rv,sv,ov,iv,nv,Pf],Rf=Va.length,av=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lv="|";function cv(e,t={}){return e.split(lv).map(n=>{let r=n.trim().split(av).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=r.length;i<o;i+=1){const a=r[i];let l=!1,c=-1;for(;!l&&++c<Rf;){const u=Va[c];let d=u.isMultiMatch(a);d&&(s.push(new u(d,t)),l=!0)}if(!l)for(c=-1;++c<Rf;){const u=Va[c];let d=u.isSingleMatch(a);if(d){s.push(new u(d,t));break}}}return s})}const uv=new Set([Pf.type,Lf.type]);class dv{constructor(t,{isCaseSensitive:n=oe.isCaseSensitive,ignoreDiacritics:r=oe.ignoreDiacritics,includeMatches:s=oe.includeMatches,minMatchCharLength:i=oe.minMatchCharLength,ignoreLocation:o=oe.ignoreLocation,findAllMatches:a=oe.findAllMatches,location:l=oe.location,threshold:c=oe.threshold,distance:u=oe.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:l,threshold:c,distance:u},t=n?t:t.toLowerCase(),t=r?Vi(t):t,this.pattern=t,this.query=cv(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:i}=this.options;t=s?t:t.toLowerCase(),t=i?Vi(t):t;let o=0,a=[],l=0;for(let c=0,u=n.length;c<u;c+=1){const d=n[c];a.length=0,o=0;for(let f=0,m=d.length;f<m;f+=1){const b=d[f],{isMatch:g,indices:p,score:w}=b.search(t);if(g){if(o+=1,l+=w,r){const h=b.constructor.type;uv.has(h)?a=[...a,...p]:a.push(p)}}else{l=0,o=0,a.length=0;break}}if(o){let f={isMatch:!0,score:l/o};return r&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Ha=[];function fv(...e){Ha.push(...e)}function Ga(e,t){for(let n=0,r=Ha.length;n<r;n+=1){let s=Ha[n];if(s.condition(e,t))return new s(e,t)}return new Of(e,t)}const Hi={AND:"$and",OR:"$or"},Wa={PATH:"$path",PATTERN:"$val"},Ja=e=>!!(e[Hi.AND]||e[Hi.OR]),hv=e=>!!e[Wa.PATH],pv=e=>!Yt(e)&&_f(e)&&!Ja(e),Df=e=>({[Hi.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Mf(e,t,{auto:n=!0}={}){const r=s=>{let i=Object.keys(s);const o=hv(s);if(!o&&i.length>1&&!Ja(s))return r(Df(s));if(pv(s)){const l=o?s[Wa.PATH]:i[0],c=o?s[Wa.PATTERN]:s[l];if(!jt(c))throw new Error(Kb(l));const u={keyId:Ka(l),pattern:c};return n&&(u.searcher=Ga(c,t)),u}let a={children:[],operator:i[0]};return i.forEach(l=>{const c=s[l];Yt(c)&&c.forEach(u=>{a.children.push(r(u))})}),a};return Ja(e)||(e=Df(e)),r(e)}function mv(e,{ignoreFieldNorm:t=oe.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:o})=>{const a=s?s.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:i))}),n.score=r})}function gv(e,t){const n=e.matches;t.matches=[],ht(n)&&n.forEach(r=>{if(!ht(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let o={indices:s,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function yv(e,t){t.score=e.score}function bv(e,t,{includeMatches:n=oe.includeMatches,includeScore:r=oe.includeScore}={}){const s=[];return n&&s.push(gv),r&&s.push(yv),e.map(i=>{const{idx:o}=i,a={item:t[o],refIndex:o};return s.length&&s.forEach(l=>{l(i,a)}),a})}class ir{constructor(t,n={},r){this.options={...oe,...n},this.options.useExtendedSearch,this._keyStore=new Gb(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof za))throw new Error(Ub);this._myIndex=n||Nf(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){ht(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let l=jt(t)?jt(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return mv(l,{ignoreFieldNorm:a}),i&&l.sort(o),Ef(n)&&n>-1&&(l=l.slice(0,n)),bv(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=Ga(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:o,n:a})=>{if(!ht(i))return;const{isMatch:l,score:c,indices:u}=n.searchIn(i);l&&s.push({item:i,idx:o,matches:[{score:c,value:i,norm:a,indices:u}]})}),s}_searchLogical(t){const n=Mf(t,this.options),r=(a,l,c)=>{if(!a.children){const{keyId:d,searcher:f}=a,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return m&&m.length?[{idx:c,item:l,matches:m}]:[]}const u=[];for(let d=0,f=a.children.length;d<f;d+=1){const m=a.children[d],b=r(m,l,c);if(b.length)u.push(...b);else if(a.operator===Hi.AND)return[]}return u},s=this._myIndex.records,i={},o=[];return s.forEach(({$:a,i:l})=>{if(ht(a)){let c=r(n,a,l);c.length&&(i[l]||(i[l]={idx:l,item:a,matches:[]},o.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),o}_searchObjectList(t){const n=Ga(t,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:a})=>{if(!ht(o))return;let l=[];r.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:n}))}),l.length&&i.push({idx:a,item:o,matches:l})}),i}_findMatches({key:t,value:n,searcher:r}){if(!ht(n))return[];let s=[];if(Yt(n))n.forEach(({v:i,i:o,n:a})=>{if(!ht(i))return;const{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&s.push({score:c,key:t,value:i,idx:o,norm:a,indices:u})});else{const{v:i,n:o}=n,{isMatch:a,score:l,indices:c}=r.searchIn(i);a&&s.push({score:l,key:t,value:i,norm:o,indices:c})}return s}}ir.version="7.1.0",ir.createIndex=Nf,ir.parseIndex=Qb,ir.config=oe,ir.parseQuery=Mf,fv(dv);const vv={keys:[{name:"path",weight:2},{name:"id",weight:2},{name:"summary",weight:1},{name:"method",weight:.5},{name:"tags",weight:.5}],threshold:.4,includeScore:!0,includeMatches:!0,ignoreLocation:!0};function jf(e){return new ir(e,vv)}function Bf(e,t,n=50){return e.search(t).slice(0,n).map(r=>({operation:r.item,matches:r.matches,score:r.score}))}var wv=L('<span class="text-accent-500 font-semibold">'),kv=L('<svg class="w-3.5 h-3.5 text-gray-400 flex-shrink-0"fill=none viewBox="0 0 24 24"stroke=currentColor role=img aria-label="Recently used"><title>Recently used</title><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">'),xv=L('<button type=button style="width:calc(100% - 8px)"><span></span><div class="flex-1 min-w-0 overflow-hidden"><span>'),Sv=L('<span class="block text-[0.6875rem] text-gray-600 dark:text-gray-400 truncate mt-0.5">');const Ff=e=>{const t=()=>{const n=e.matches?.find(i=>i.key===e.fieldKey);if(!n?.indices?.length)return[{text:e.text,highlight:!1}];const r=[];let s=0;for(const[i,o]of n.indices)i>s&&r.push({text:e.text.slice(s,i),highlight:!1}),r.push({text:e.text.slice(i,o+1),highlight:!0}),s=o+1;return s<e.text.length&&r.push({text:e.text.slice(s),highlight:!1}),r};return A(Te,{get each(){return t()},children:n=>A(K,{get when(){return n.highlight},get fallback(){return n.text},get children(){var r=wv();return $(r,()=>n.text),r}})})},Ev={get:{bg:"bg-gradient-to-r from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/20"},post:{bg:"bg-gradient-to-r from-blue-500 to-blue-600",shadow:"shadow-blue-500/20"},put:{bg:"bg-gradient-to-r from-amber-500 to-amber-600",shadow:"shadow-amber-500/20"},patch:{bg:"bg-gradient-to-r from-violet-500 to-violet-600",shadow:"shadow-violet-500/20"},delete:{bg:"bg-gradient-to-r from-rose-500 to-rose-600",shadow:"shadow-rose-500/20"},head:{bg:"bg-gradient-to-r from-cyan-500 to-cyan-600",shadow:"shadow-cyan-500/20"},options:{bg:"bg-gradient-to-r from-gray-500 to-gray-600",shadow:"shadow-gray-500/20"},grpc:{bg:"bg-gradient-to-r from-indigo-500 to-purple-600",shadow:"shadow-indigo-500/20"}},_v={bg:"bg-gradient-to-r from-gray-500 to-gray-600",shadow:"shadow-gray-500/20"},$v=e=>{const t=()=>Ev[e.operation.method.toLowerCase()]||_v;return(()=>{var n=xv(),r=n.firstChild,s=r.nextSibling,i=s.firstChild;return ut(n,"mouseenter",e.onMouseEnter),ut(n,"click",e.onClick,!0),$(n,A(K,{get when(){return e.isRecent},get children(){return kv()}}),r),$(r,()=>e.operation.method),$(i,A(Ff,{get text(){return e.operation.path},get matches(){return e.matches},fieldKey:"path"})),$(s,A(K,{get when(){return e.operation.summary},keyed:!0,children:o=>(()=>{var a=Sv();return $(a,A(Ff,{text:o,get matches(){return e.matches},fieldKey:"summary"})),a})()}),null),ee(o=>{var a=`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-all duration-150 rounded-lg mx-1 my-0.5 ${e.selected?"bg-accent-500/15 dark:bg-accent-500/20":"hover:bg-black/5 dark:hover:bg-white/5"}`,l=`${t().bg} text-white text-[0.625rem] font-bold uppercase w-12 py-1 rounded-md shadow-sm ${t().shadow} flex-shrink-0 text-center`,c=`block font-mono text-xs truncate text-gray-700 dark:text-gray-200 ${e.operation.deprecated?"line-through opacity-50":""}`;return a!==o.e&&se(n,o.e=a),l!==o.t&&se(r,o.t=l),c!==o.a&&se(i,o.a=c),o},{e:void 0,t:void 0,a:void 0}),n})()};he(["click"]);var Av=L('<div><div class="w-full max-w-xl mx-4 glass-thick rounded-2xl shadow-2xl overflow-hidden animate-in fade-in duration-200"><div class="flex items-center gap-3 px-4 py-3 border-b border-black/5 dark:border-white/5"><svg class="w-5 h-5 text-gray-400"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input type=text class="flex-1 bg-transparent text-gray-900 dark:text-white placeholder-gray-400 outline-none text-sm"><kbd class="hidden sm:inline-flex px-2 py-1 text-[0.625rem] font-mono text-gray-400 glass-button rounded">esc</kbd></div><div class="max-h-[50vh] overflow-y-auto scrollbar-thin py-1"></div><div class="px-4 py-2 border-t border-black/5 dark:border-white/5 flex items-center gap-4 text-xs text-gray-400"><span class="flex items-center gap-1"><kbd class="px-1.5 py-0.5 glass-button rounded text-[0.625rem]"><span class=font-mono></span></kbd></span><span class="flex items-center gap-1"><kbd class="px-1.5 py-0.5 glass-button rounded text-[0.625rem]"><span class=font-mono>'),Tv=L('<div class="px-4 py-8 text-center text-gray-500 dark:text-gray-400 text-sm">');const qf="wti:recent-operations",Cv=8,Ya=e=>`${e.method}:${e.path}`,Gi=()=>Fa(qf,[]),Nv=e=>{qa(qf,e.slice(0,Cv))},Ov=e=>{const t=Ya(e),n=Gi().filter(r=>r!==t);Nv([t,...n])},Iv=e=>{const{t}=Re(),n=db(),[r,s]=X(!1),[i,o]=X(""),[a,l]=X(0),[c,u]=X(Gi()),[d,f]=X(!1);let m,b;const g={open:()=>s(!0),close:()=>s(!1),toggle:()=>s(S=>!S),isOpen:r};an(()=>{e.ref?.(g)}),an(()=>{if(e.disableShortcut)return;const S=e.shortcutKey??"p",E=C=>{(C.metaKey||C.ctrlKey)&&C.key.toLowerCase()===S.toLowerCase()&&(C.preventDefault(),e.operations.length>0&&s(M=>!M))};window.addEventListener("keydown",E),He(()=>window.removeEventListener("keydown",E))});const p=ye(()=>{const S=new Map;for(const E of e.operations)S.set(Ya(E),E);return S}),w=ye(()=>e.searchFn||e.operations.length===0?null:jf(e.operations)),h=ye(()=>{const S=i().trim();if(!S){const C=c(),M=p(),j=[],D=new Set;for(const H of C){const W=M.get(H);W&&(j.push({operation:W,isRecent:!0}),D.add(H))}const z=e.operations.filter(H=>!D.has(Ya(H))).slice(0,50-j.length).map(H=>({operation:H}));return[...j,...z]}if(e.searchFn)return e.searchFn(S);const E=w();return E?Bf(E,S):[]});Qe(()=>{h(),l(0)}),Qe(()=>{r()&&(o(""),l(0),f(!1),u(Gi()),requestAnimationFrame(()=>{m?.focus()}))}),Qe(()=>{const S=a();b&&r()&&b.children[S]?.scrollIntoView({block:"nearest"})});const y=()=>s(!1),k=S=>{Ov(S.operation),u(Gi()),e.onSelectOperation(S.operation),y()},v=S=>{switch(S.key){case"ArrowDown":S.preventDefault(),l(E=>Math.min(E+1,h().length-1));break;case"ArrowUp":S.preventDefault(),l(E=>Math.max(E-1,0));break;case"Enter":{S.preventDefault();const E=h()[a()];E&&k(E);break}case"Escape":S.preventDefault(),y();break}},x=S=>{S.target===S.currentTarget&&y()};return A(K,{get when(){return r()},get children(){return A(Ec,{get children(){var S=Av(),E=S.firstChild,C=E.firstChild,M=C.firstChild,j=M.nextSibling,D=C.nextSibling,z=D.nextSibling,H=z.firstChild;H.firstChild;var W=H.nextSibling;W.firstChild,S.$$click=x,E.$$click=G=>G.stopPropagation(),j.$$keydown=v,j.$$input=G=>o(G.currentTarget.value);var re=m;typeof re=="function"?Bn(re,j):m=j,D.$$mousemove=()=>f(!0);var le=b;return typeof le=="function"?Bn(le,D):b=D,$(D,A(K,{get when(){return h().length>0},get fallback(){return(()=>{var G=Tv();return $(G,()=>t("commandPalette.noResults")),G})()},get children(){return A(Te,{get each(){return h()},children:(G,ne)=>A($v,{get operation(){return G.operation},get selected(){return ne()===a()},get matches(){return G.matches},get isRecent(){return G.isRecent},onClick:()=>k(G),onMouseEnter:()=>d()&&l(ne())})})}})),$(H,()=>t("commandPalette.navigate"),null),$(W,()=>t("commandPalette.select"),null),ee(G=>{var ne=`fixed inset-0 z-50 flex items-start justify-center pt-[15vh] bg-black/20 dark:bg-black/40 backdrop-blur-md animate-in fade-in duration-200 ${n()?"dark":""}`,q=t("commandPalette.placeholder");return ne!==G.e&&se(S,G.e=ne),q!==G.t&&ae(j,"placeholder",G.t=q),G},{e:void 0,t:void 0}),ee(()=>j.value=i()),S}})}})};he(["click","input","keydown","mousemove"]);function Pv(){const e=window.location.hash.slice(1);if(!e)return{};const t=new URLSearchParams(e),n=t.get("op")||void 0,r=t.get("server"),s=r?Number.parseInt(r,10):void 0;return{operationId:n,serverIndex:Number.isNaN(s)?void 0:s}}function Uf(e){const t=new URLSearchParams;e.operationId&&t.set("op",e.operationId),e.serverIndex!==void 0&&e.serverIndex>0&&t.set("server",e.serverIndex.toString());const n=t.toString(),r=n?`${window.location.pathname}${window.location.search}#${n}`:window.location.pathname+window.location.search;window.history.replaceState(null,"",r)}function Lv(){const e=window.location.pathname+window.location.search;window.history.replaceState(null,"",e)}function Rv(e,t){const n=new URL(window.location.href);n.hash="";const r=new URLSearchParams;return r.set("op",e),n.hash=r.toString(),n.toString()}async function Dv(e,t){const n=Rv(e);try{return await navigator.clipboard.writeText(n),!0}catch{return!1}}function Kf(e){if(e)try{return JSON.parse(e)}catch{return}}function Mv(e){return e>=200&&e<300?{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-700 dark:text-emerald-300"}:e>=400&&e<500?{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-300"}:{bg:"bg-rose-100 dark:bg-rose-900/30",text:"text-rose-700 dark:text-rose-300"}}function jv(e,t){return t?"bg-rose-500":e===void 0?"bg-gray-400":e>=200&&e<300?"bg-emerald-500":e>=400&&e<500?"bg-amber-500":e>=500?"bg-rose-500":"bg-gray-400"}function Bv(e){return e>=400?"text-rose-500":"text-emerald-500"}var Fv=Object.defineProperty,qv=(e,t,n)=>t in e?Fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>qv(e,typeof t!="symbol"?t+"":t,n),Uv=L('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"aria-hidden=true><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');const Kv={sm:"h-3.5 w-3.5",md:"h-[1.125rem] w-[1.125rem]",lg:"h-5 w-5"},zv=e=>{const t=()=>e.size??"md";return(()=>{var n=Uv();return ee(()=>ae(n,"class",`animate-spin ${Kv[t()]} ${e.class??""}`)),n})()};var Vv=L("<button>");const Hv={primary:"btn-primary",secondary:"btn-secondary",tertiary:"btn-tertiary"},Gv={sm:"px-2.5 py-1.5 text-xs gap-1.5",md:"gap-2.5",lg:"px-6 py-3 text-base gap-2.5"},Tn=e=>{const t=()=>e.variant??"primary",n=()=>e.size??"md";return(()=>{var r=Vv();return ut(r,"click",e.onClick,!0),$(r,A(K,{get when(){return e.loading},get children(){return A(zv,{get size(){return n()}})}}),null),$(r,A(K,{get when(){return Oe(()=>!e.loading)()&&e.leftIcon},get children(){return e.leftIcon}}),null),$(r,()=>e.children,null),$(r,A(K,{get when(){return e.rightIcon},get children(){return e.rightIcon}}),null),ee(s=>{var i=e.type??"button",o=`${Hv[t()]} ${Gv[n()]} inline-flex items-center justify-center focus:outline-none focus-ring ${e.fullWidth?"w-full":""} ${e.class??""}`,a=e.disabled||e.loading;return i!==s.e&&ae(r,"type",s.e=i),o!==s.t&&se(r,s.t=o),a!==s.a&&(r.disabled=s.a=a),s},{e:void 0,t:void 0,a:void 0}),r})()};he(["click"]);var Wv=L("<input>");const Jv=e=>{switch(e){case"sm":return"px-2.5 py-1.5 text-xs";case"lg":return"px-4 py-3 text-base";default:return"px-3 sm:px-4 py-2 sm:py-2.5 text-sm"}},Ct=e=>{const t=()=>Jv(e.size??"md");return(()=>{var n=Wv();return ut(n,"keydown",e.onKeyDown,!0),n.$$input=r=>e.onInput(r.currentTarget.value),ee(r=>{var s=e.type??"text",i=e.id,o=e.name,a=`w-full glass-input text-surface-900 dark:text-surface-100 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${t()} ${e.class??""}`,l=e.placeholder,c=e.disabled,u=e.readonly,d=e.required,f=e.autocomplete;return s!==r.e&&ae(n,"type",r.e=s),i!==r.t&&ae(n,"id",r.t=i),o!==r.a&&ae(n,"name",r.a=o),a!==r.o&&se(n,r.o=a),l!==r.i&&ae(n,"placeholder",r.i=l),c!==r.n&&(n.disabled=r.n=c),u!==r.s&&(n.readOnly=r.s=u),d!==r.h&&(n.required=r.h=d),f!==r.r&&ae(n,"autocomplete",r.r=f),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),ee(()=>n.value=e.value),n})()};he(["input","keydown"]);var Yv=L("<textarea>");const Qv=e=>{switch(e){case"sm":return"px-2.5 py-1.5 text-xs";case"lg":return"px-4 py-3 text-base";default:return"px-3 py-2 text-sm"}},Qa=e=>{const t=()=>Qv(e.size??"md");return(()=>{var n=Yv();return n.$$input=r=>e.onInput(r.currentTarget.value),ee(r=>{var s=e.id,i=e.name,o=`w-full glass-input text-surface-800 dark:text-surface-200 resize-y focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${t()} ${e.class??""}`,a=e.placeholder,l=e.rows,c=e.disabled,u=e.readonly,d=e.required;return s!==r.e&&ae(n,"id",r.e=s),i!==r.t&&ae(n,"name",r.t=i),o!==r.a&&se(n,r.a=o),a!==r.o&&ae(n,"placeholder",r.o=a),l!==r.i&&ae(n,"rows",r.i=l),c!==r.n&&(n.disabled=r.n=c),u!==r.s&&(n.readOnly=r.s=u),d!==r.h&&(n.required=r.h=d),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),ee(()=>n.value=e.value),n})()};he(["input"]);var Xv=L('<div class="relative overflow-hidden"><select style=text-overflow:ellipsis></select><div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M19 9l-7 7-7-7">');const zr=e=>(()=>{var t=Xv(),n=t.firstChild;return n.addEventListener("change",r=>e.onChange(r.currentTarget.value)),$(n,()=>e.children),ee(r=>{var s=e.id,i=e.name,o=`w-full px-3 py-2 sm:py-2.5 glass-input text-sm text-surface-800 dark:text-surface-200 font-medium focus:outline-none cursor-pointer appearance-none pr-9 disabled:opacity-50 disabled:cursor-not-allowed truncate ${e.class??""}`,a=e.disabled,l=e.required;return s!==r.e&&ae(n,"id",r.e=s),i!==r.t&&ae(n,"name",r.t=i),o!==r.a&&se(n,r.a=o),a!==r.o&&(n.disabled=r.o=a),l!==r.i&&(n.required=r.i=l),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ee(()=>n.value=e.value),t})();var Zv=L('<span class="text-sm text-gray-700 dark:text-gray-300">'),ew=L('<label><div><input type=checkbox class=sr-only><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=3 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">');const zf=e=>(()=>{var t=ew(),n=t.firstChild,r=n.firstChild,s=r.nextSibling;return r.addEventListener("change",i=>e.onChange(i.currentTarget.checked)),$(t,A(K,{get when(){return e.label},get children(){var i=Zv();return $(i,()=>e.label),i}}),null),ee(i=>{var o=`inline-flex items-center gap-3 cursor-pointer ${e.disabled?"opacity-50 cursor-not-allowed":""} ${e.class??""}`,a=`w-5 h-5 flex items-center justify-center ${e.checked?"glass-checkbox-checked":"glass-checkbox"}`,l=e.id,c=e.name,u=e.disabled,d=e.required,f=`w-3 h-3 text-white transition-all duration-200 ${e.checked?"opacity-100 scale-100":"opacity-0 scale-75"}`;return o!==i.e&&se(t,i.e=o),a!==i.t&&se(n,i.t=a),l!==i.a&&ae(r,"id",i.a=l),c!==i.o&&ae(r,"name",i.o=c),u!==i.i&&(r.disabled=i.i=u),d!==i.n&&(r.required=i.n=d),f!==i.s&&ae(s,"class",i.s=f),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),ee(()=>r.checked=e.checked),t})();he(["click"]),he(["click","keydown"]),he(["click"]);function tw(e){const{open:t,onClose:n,closeOnEscape:r,closeOnBackdrop:s}=e,i=()=>r?.()??!0,o=()=>s?.()??!0;return Qe(()=>{if(!t()||!i())return;const a=l=>{l.key==="Escape"&&n()};document.addEventListener("keydown",a),He(()=>document.removeEventListener("keydown",a))}),Qe(()=>{t()?document.body.style.overflow="hidden":document.body.style.overflow="",He(()=>{document.body.style.overflow=""})}),{shouldCloseOnBackdrop:o,handleBackdropClick:(a,l=c=>c.target===c.currentTarget)=>{o()&&l(a)&&n()}}}function nw(){return()=>document.documentElement.classList.contains("dark")||document.querySelector(".dark")!==null}function Vf(e=2e3){const[t,n]=X(!1);let r;return{copied:t,copy:async s=>{try{return await navigator.clipboard.writeText(s),n(!0),r&&clearTimeout(r),r=setTimeout(()=>{n(!1),r=void 0},e),!0}catch{return!1}}}}var rw=L('<h2 id=drawer-title class="text-lg font-semibold text-gray-900 dark:text-white">'),sw=L('<button type=button class="ml-auto p-2 rounded-xl text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-black/5 dark:hover:bg-white/5 transition-colors"aria-label=Close><svg class="w-5 h-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M6 18L18 6M6 6l12 12">'),iw=L('<div class="flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-white/5">'),ow=L('<div class="flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 dark:border-white/5">'),aw=L('<div aria-modal=true><div><div class="flex flex-col h-full overflow-hidden"><div>');const lw={sm:"max-w-xs",md:"max-w-sm",lg:"max-w-md",xl:"max-w-lg"},cw={left:{panel:"left-0",enter:"animate-in slide-in-from-left",exit:"animate-out slide-out-to-left"},right:{panel:"right-0",enter:"animate-in slide-in-from-right",exit:"animate-out slide-out-to-right"}},uw=200,Hf=e=>{const t=()=>e.position??"right",n=()=>e.size??"md",r=()=>e.showClose??!0,[s,i]=X(!1),[o,a]=X(!1),{handleBackdropClick:l}=tw({open:s,onClose:e.onClose,closeOnEscape:()=>e.closeOnEscape??!0,closeOnBackdrop:()=>e.closeOnBackdrop??!0});Qe(()=>{if(e.open)a(!1),i(!0);else if(s()){a(!0);const m=setTimeout(()=>{i(!1),a(!1)},uw);He(()=>clearTimeout(m))}});const c=()=>cw[t()],u=nw(),d=()=>o()?"animate-out fade-out duration-200":"animate-in fade-in duration-200",f=()=>o()?`${c().exit} duration-200`:`${c().enter} duration-300`;return A(K,{get when(){return s()},get children(){return A(Ec,{get children(){var m=aw(),b=m.firstChild,g=b.firstChild,p=g.firstChild;return m.$$click=w=>l(w),$(g,A(K,{get when(){return e.title||r()},get children(){var w=iw();return $(w,A(K,{get when(){return e.title},get children(){var h=rw();return $(h,()=>e.title),h}}),null),$(w,A(K,{get when(){return r()},get children(){var h=sw();return ut(h,"click",e.onClose,!0),h}}),null),w}}),p),$(p,()=>e.children),$(g,A(K,{get when(){return e.footer},get children(){var w=ow();return $(w,()=>e.footer),w}}),null),ee(w=>{var h=`fixed inset-0 z-50 bg-black/50 backdrop-blur-sm ${d()} ${u()?"dark":""}`,y=e.title?"drawer-title":void 0,k=`absolute inset-y-0 ${c().panel} w-full ${lw[n()]} glass-thick shadow-2xl overflow-hidden ${f()}`,v=`flex-1 min-h-0 overflow-y-auto overflow-x-hidden flex flex-col scrollbar-thin ${e.noPadding?"":"p-6"}`;return h!==w.e&&se(m,w.e=h),y!==w.t&&ae(m,"aria-labelledby",w.t=y),k!==w.a&&se(b,w.a=k),v!==w.o&&se(p,w.o=v),w},{e:void 0,t:void 0,a:void 0,o:void 0}),m}})}})};he(["click"]),Ts({toasts:[]}),he(["click"]),he(["click"]);var dw=L('<div role=tooltip><div class="px-3 py-1.5 text-xs font-medium glass-tooltip rounded-lg whitespace-nowrap"></div><div aria-hidden=true>'),fw=L("<div>");const hw={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"},pw={top:"top-full left-1/2 -translate-x-1/2 border-t-surface-900 dark:border-t-surface-800 border-x-transparent border-b-transparent",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-surface-900 dark:border-b-surface-800 border-x-transparent border-t-transparent",left:"left-full top-1/2 -translate-y-1/2 border-l-surface-900 dark:border-l-surface-800 border-y-transparent border-r-transparent",right:"right-full top-1/2 -translate-y-1/2 border-r-surface-900 dark:border-r-surface-800 border-y-transparent border-l-transparent"},mw=e=>{const[t,n]=X(!1);let r;const s=()=>e.position??"top",i=()=>e.delay??200,o=()=>{r=setTimeout(()=>n(!0),i())},a=()=>{r&&(clearTimeout(r),r=void 0),n(!1)};return He(()=>{r&&clearTimeout(r)}),(()=>{var l=fw();return l.$$focusout=a,l.$$focusin=o,l.addEventListener("mouseleave",a),l.addEventListener("mouseenter",o),$(l,()=>e.children,null),$(l,A(K,{get when(){return t()},get children(){var c=dw(),u=c.firstChild,d=u.nextSibling;return $(u,()=>e.content),ee(f=>{var m=`absolute z-50 ${hw[s()]} animate-in fade-in zoom-in-95 duration-150`,b=`absolute w-0 h-0 border-4 ${pw[s()]}`;return m!==f.e&&se(c,f.e=m),b!==f.t&&se(d,f.t=b),f},{e:void 0,t:void 0}),c}}),null),ee(()=>se(l,`relative inline-flex ${e.class??""}`)),l})()};he(["focusin","focusout"]);var gw=L('<div><div class="flex items-center gap-1 p-1 rounded-xl glass-input overflow-x-auto scrollbar-thin"></div><div class=mt-4>'),Gf=L("<span>"),yw=L("<button type=button role=tab>"),bw=L('<div role=tabpanel class="animate-in fade-in slide-in-from-bottom-2 duration-200">');const vw=e=>{var t;const[n,r]=X(e.defaultTab||((t=e.items[0])==null?void 0:t.id)),s=ye(()=>e.activeTab!==void 0),i=ye(()=>s()?e.activeTab:n()),o=a=>{var l;s()||r(a),(l=e.onTabChange)==null||l.call(e,a)};return(()=>{var a=gw(),l=a.firstChild,c=l.nextSibling;return $(l,A(Te,{get each(){return e.items},children:u=>(()=>{var d=yw();return d.$$click=()=>o(u.id),$(d,A(K,{get when(){return u.icon},get children(){var f=Gf();return $(f,()=>u.icon),ee(()=>se(f,i()===u.id?"text-accent-500 dark:text-accent-500":"")),f}}),null),$(d,()=>u.label,null),$(d,A(K,{get when(){return u.badge},get children(){var f=Gf();return $(f,()=>u.badge),ee(()=>se(f,`ml-1 px-1.5 py-0.5 text-[0.625rem] rounded-md ${i()===u.id?"glass-button text-gray-700 dark:text-gray-200":"glass-button text-gray-500 dark:text-gray-400"}`)),f}}),null),ee(f=>{var m=`flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-lg transition-all duration-200 whitespace-nowrap outline-none focus-ring ${i()===u.id?"glass-active text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-black/[0.03] dark:hover:bg-white/[0.03]"}`,b=i()===u.id;return m!==f.e&&se(d,f.e=m),b!==f.t&&ae(d,"aria-selected",f.t=b),f},{e:void 0,t:void 0}),d})()})),$(c,A(Te,{get each(){return e.items},children:u=>A(K,{get when(){return i()===u.id},get children(){var d=bw();return $(d,()=>u.content),d}})})),ee(()=>se(a,`w-full ${e.class??""}`)),a})()};he(["click"]),he(["click"]),he(["click"]);var ww=L("<div role=group>"),kw=L("<button type=button>");function Xa(e){const t=()=>e.size==="sm"?"px-2 py-1 text-[0.625rem]":"px-3 py-1.5 text-xs";return(()=>{var n=ww();return $(n,A(Te,{get each(){return e.options},children:r=>(()=>{var s=kw();return s.$$click=()=>!r.disabled&&e.onChange(r.value),$(s,()=>r.label),ee(i=>{var o=r.disabled,a=`${t()} font-bold rounded-lg transition-all ${e.value===r.value?"bg-white dark:bg-surface-600 text-surface-900 dark:text-white shadow-sm":"text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-white"} ${r.disabled?"opacity-50 cursor-not-allowed":""}`;return o!==i.e&&(s.disabled=i.e=o),a!==i.t&&se(s,i.t=a),i},{e:void 0,t:void 0}),s})()})),ee(r=>{var s=e["aria-label"],i=`flex items-center gap-1 p-1 bg-surface-200/80 dark:bg-surface-800/80 rounded-xl w-fit ${e.class??""}`;return s!==r.e&&ae(n,"aria-label",r.e=s),i!==r.t&&se(n,r.t=i),r},{e:void 0,t:void 0}),n})()}he(["click"]);const{entries:Wf,setPrototypeOf:Jf,isFrozen:xw,getPrototypeOf:Sw,getOwnPropertyDescriptor:Ew}=Object;let{freeze:nt,seal:bt,create:Za}=Object,{apply:el,construct:tl}=typeof Reflect<"u"&&Reflect;nt||(nt=function(e){return e}),bt||(bt=function(e){return e}),el||(el=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e.apply(t,r)}),tl||(tl=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const Wi=st(Array.prototype.forEach),_w=st(Array.prototype.lastIndexOf),Yf=st(Array.prototype.pop),Vr=st(Array.prototype.push),$w=st(Array.prototype.splice),Ji=st(String.prototype.toLowerCase),nl=st(String.prototype.toString),rl=st(String.prototype.match),Hr=st(String.prototype.replace),Aw=st(String.prototype.indexOf),Tw=st(String.prototype.trim),Nt=st(Object.prototype.hasOwnProperty),rt=st(RegExp.prototype.test),Gr=Cw(TypeError);function st(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return el(e,t,r)}}function Cw(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tl(e,n)}}function me(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ji;Jf&&Jf(e,null);let r=t.length;for(;r--;){let s=t[r];if(typeof s=="string"){const i=n(s);i!==s&&(xw(t)||(t[r]=i),s=i)}e[s]=!0}return e}function Nw(e){for(let t=0;t<e.length;t++)Nt(e,t)||(e[t]=null);return e}function Bt(e){const t=Za(null);for(const[n,r]of Wf(e))Nt(e,n)&&(Array.isArray(r)?t[n]=Nw(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Bt(r):t[n]=r);return t}function Wr(e,t){for(;e!==null;){const r=Ew(e,t);if(r){if(r.get)return st(r.get);if(typeof r.value=="function")return st(r.value)}e=Sw(e)}function n(){return null}return n}const Qf=nt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sl=nt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),il=nt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ow=nt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ol=nt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Iw=nt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xf=nt(["#text"]),Zf=nt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),al=nt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eh=nt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yi=nt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pw=bt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Lw=bt(/<%[\w\W]*|[\w\W]*%>/gm),Rw=bt(/\$\{[\w\W]*/gm),Dw=bt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Mw=bt(/^aria-[\-\w]+$/),th=bt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jw=bt(/^(?:\w+script|data):/i),Bw=bt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nh=bt(/^html$/i),Fw=bt(/^[a-z][.\w]*(-[.\w]+)+$/i);var rh=Object.freeze({__proto__:null,ARIA_ATTR:Mw,ATTR_WHITESPACE:Bw,CUSTOM_ELEMENT:Fw,DATA_ATTR:Dw,DOCTYPE_NAME:nh,ERB_EXPR:Lw,IS_ALLOWED_URI:th,IS_SCRIPT_OR_DATA:jw,MUSTACHE_EXPR:Pw,TMPLIT_EXPR:Rw});const Jr={element:1,text:3,progressingInstruction:7,comment:8,document:9},qw=function(){return typeof window>"u"?null:window},Uw=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},sh=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ih(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qw();const t=N=>ih(N);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Jr.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:m}=e,b=l.prototype,g=Wr(b,"cloneNode"),p=Wr(b,"remove"),w=Wr(b,"nextSibling"),h=Wr(b,"childNodes"),y=Wr(b,"parentNode");if(typeof o=="function"){const N=n.createElement("template");N.content&&N.content.ownerDocument&&(n=N.content.ownerDocument)}let k,v="";const{implementation:x,createNodeIterator:S,createDocumentFragment:E,getElementsByTagName:C}=n,{importNode:M}=r;let j=sh();t.isSupported=typeof Wf=="function"&&typeof y=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:z,TMPLIT_EXPR:H,DATA_ATTR:W,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:le,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:ne}=rh;let{IS_ALLOWED_URI:q}=rh,O=null;const F=me({},[...Qf,...sl,...il,...ol,...Xf]);let P=null;const _=me({},[...Zf,...al,...eh,...Yi]);let T=Object.seal(Za(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,V=null;const Y=Object.seal(Za(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ce=!0,ie=!0,I=!1,R=!0,U=!1,J=!0,te=!1,fe=!1,Be=!1,Ve=!1,Ue=!1,Ke=!1,qe=!0,tn=!1;const lt="user-content-";let Dn=!0,nn=!1,xt={},ct=null;const vr=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ps=null;const To=me({},["audio","video","img","source","image","track"]);let ec=null;const Qp=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Co="http://www.w3.org/1998/Math/MathML",No="http://www.w3.org/2000/svg",rn="http://www.w3.org/1999/xhtml";let wr=rn,tc=!1,nc=null;const W_=me({},[Co,No,rn],nl);let Oo=me({},["mi","mo","mn","ms","mtext"]),Io=me({},["annotation-xml"]);const J_=me({},["title","style","font","a","script"]);let ms=null;const Y_=["application/xhtml+xml","text/html"],Q_="text/html";let ze=null,kr=null;const X_=n.createElement("form"),Xp=function(N){return N instanceof RegExp||N instanceof Function},rc=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(kr&&kr===N)){if((!N||typeof N!="object")&&(N={}),N=Bt(N),ms=Y_.indexOf(N.PARSER_MEDIA_TYPE)===-1?Q_:N.PARSER_MEDIA_TYPE,ze=ms==="application/xhtml+xml"?nl:Ji,O=Nt(N,"ALLOWED_TAGS")?me({},N.ALLOWED_TAGS,ze):F,P=Nt(N,"ALLOWED_ATTR")?me({},N.ALLOWED_ATTR,ze):_,nc=Nt(N,"ALLOWED_NAMESPACES")?me({},N.ALLOWED_NAMESPACES,nl):W_,ec=Nt(N,"ADD_URI_SAFE_ATTR")?me(Bt(Qp),N.ADD_URI_SAFE_ATTR,ze):Qp,ps=Nt(N,"ADD_DATA_URI_TAGS")?me(Bt(To),N.ADD_DATA_URI_TAGS,ze):To,ct=Nt(N,"FORBID_CONTENTS")?me({},N.FORBID_CONTENTS,ze):vr,B=Nt(N,"FORBID_TAGS")?me({},N.FORBID_TAGS,ze):Bt({}),V=Nt(N,"FORBID_ATTR")?me({},N.FORBID_ATTR,ze):Bt({}),xt=Nt(N,"USE_PROFILES")?N.USE_PROFILES:!1,ce=N.ALLOW_ARIA_ATTR!==!1,ie=N.ALLOW_DATA_ATTR!==!1,I=N.ALLOW_UNKNOWN_PROTOCOLS||!1,R=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,U=N.SAFE_FOR_TEMPLATES||!1,J=N.SAFE_FOR_XML!==!1,te=N.WHOLE_DOCUMENT||!1,Ve=N.RETURN_DOM||!1,Ue=N.RETURN_DOM_FRAGMENT||!1,Ke=N.RETURN_TRUSTED_TYPE||!1,Be=N.FORCE_BODY||!1,qe=N.SANITIZE_DOM!==!1,tn=N.SANITIZE_NAMED_PROPS||!1,Dn=N.KEEP_CONTENT!==!1,nn=N.IN_PLACE||!1,q=N.ALLOWED_URI_REGEXP||th,wr=N.NAMESPACE||rn,Oo=N.MATHML_TEXT_INTEGRATION_POINTS||Oo,Io=N.HTML_INTEGRATION_POINTS||Io,T=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Xp(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(T.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Xp(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(T.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(T.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),U&&(ie=!1),Ue&&(Ve=!0),xt&&(O=me({},Xf),P=[],xt.html===!0&&(me(O,Qf),me(P,Zf)),xt.svg===!0&&(me(O,sl),me(P,al),me(P,Yi)),xt.svgFilters===!0&&(me(O,il),me(P,al),me(P,Yi)),xt.mathMl===!0&&(me(O,ol),me(P,eh),me(P,Yi))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?Y.tagCheck=N.ADD_TAGS:(O===F&&(O=Bt(O)),me(O,N.ADD_TAGS,ze))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?Y.attributeCheck=N.ADD_ATTR:(P===_&&(P=Bt(P)),me(P,N.ADD_ATTR,ze))),N.ADD_URI_SAFE_ATTR&&me(ec,N.ADD_URI_SAFE_ATTR,ze),N.FORBID_CONTENTS&&(ct===vr&&(ct=Bt(ct)),me(ct,N.FORBID_CONTENTS,ze)),N.ADD_FORBID_CONTENTS&&(ct===vr&&(ct=Bt(ct)),me(ct,N.ADD_FORBID_CONTENTS,ze)),Dn&&(O["#text"]=!0),te&&me(O,["html","head","body"]),O.table&&(me(O,["tbody"]),delete B.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw Gr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Gr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=N.TRUSTED_TYPES_POLICY,v=k.createHTML("")}else k===void 0&&(k=Uw(m,s)),k!==null&&typeof v=="string"&&(v=k.createHTML(""));nt&&nt(N),kr=N}},Zp=me({},[...sl,...il,...Ow]),em=me({},[...ol,...Iw]),Z_=function(N){let Z=y(N);(!Z||!Z.tagName)&&(Z={namespaceURI:wr,tagName:"template"});const Q=Ji(N.tagName),Se=Ji(Z.tagName);return nc[N.namespaceURI]?N.namespaceURI===No?Z.namespaceURI===rn?Q==="svg":Z.namespaceURI===Co?Q==="svg"&&(Se==="annotation-xml"||Oo[Se]):!!Zp[Q]:N.namespaceURI===Co?Z.namespaceURI===rn?Q==="math":Z.namespaceURI===No?Q==="math"&&Io[Se]:!!em[Q]:N.namespaceURI===rn?Z.namespaceURI===No&&!Io[Se]||Z.namespaceURI===Co&&!Oo[Se]?!1:!em[Q]&&(J_[Q]||!Zp[Q]):!!(ms==="application/xhtml+xml"&&nc[N.namespaceURI]):!1},Mn=function(N){Vr(t.removed,{element:N});try{y(N).removeChild(N)}catch{p(N)}},jn=function(N,Z){try{Vr(t.removed,{attribute:Z.getAttributeNode(N),from:Z})}catch{Vr(t.removed,{attribute:null,from:Z})}if(Z.removeAttribute(N),N==="is")if(Ve||Ue)try{Mn(Z)}catch{}else try{Z.setAttribute(N,"")}catch{}},tm=function(N){let Z=null,Q=null;if(Be)N="<remove></remove>"+N;else{const Ne=rl(N,/^[\r\n\t ]+/);Q=Ne&&Ne[0]}ms==="application/xhtml+xml"&&wr===rn&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Se=k?k.createHTML(N):N;if(wr===rn)try{Z=new f().parseFromString(Se,ms)}catch{}if(!Z||!Z.documentElement){Z=x.createDocument(wr,"template",null);try{Z.documentElement.innerHTML=tc?v:Se}catch{}}const We=Z.body||Z.documentElement;return N&&Q&&We.insertBefore(n.createTextNode(Q),We.childNodes[0]||null),wr===rn?C.call(Z,te?"html":"body")[0]:te?Z.documentElement:We},nm=function(N){return S.call(N.ownerDocument||N,N,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},sc=function(N){return N instanceof d&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof u)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},rm=function(N){return typeof a=="function"&&N instanceof a};function sn(N,Z,Q){Wi(N,Se=>{Se.call(t,Z,Q,kr)})}const sm=function(N){let Z=null;if(sn(j.beforeSanitizeElements,N,null),sc(N))return Mn(N),!0;const Q=ze(N.nodeName);if(sn(j.uponSanitizeElement,N,{tagName:Q,allowedTags:O}),J&&N.hasChildNodes()&&!rm(N.firstElementChild)&&rt(/<[/\w!]/g,N.innerHTML)&&rt(/<[/\w!]/g,N.textContent)||N.nodeType===Jr.progressingInstruction||J&&N.nodeType===Jr.comment&&rt(/<[/\w]/g,N.data))return Mn(N),!0;if(!(Y.tagCheck instanceof Function&&Y.tagCheck(Q))&&(!O[Q]||B[Q])){if(!B[Q]&&om(Q)&&(T.tagNameCheck instanceof RegExp&&rt(T.tagNameCheck,Q)||T.tagNameCheck instanceof Function&&T.tagNameCheck(Q)))return!1;if(Dn&&!ct[Q]){const Se=y(N)||N.parentNode,We=h(N)||N.childNodes;if(We&&Se){const Ne=We.length;for(let on=Ne-1;on>=0;--on){const Pt=g(We[on],!0);Pt.__removalCount=(N.__removalCount||0)+1,Se.insertBefore(Pt,w(N))}}}return Mn(N),!0}return N instanceof l&&!Z_(N)||(Q==="noscript"||Q==="noembed"||Q==="noframes")&&rt(/<\/no(script|embed|frames)/i,N.innerHTML)?(Mn(N),!0):(U&&N.nodeType===Jr.text&&(Z=N.textContent,Wi([D,z,H],Se=>{Z=Hr(Z,Se," ")}),N.textContent!==Z&&(Vr(t.removed,{element:N.cloneNode()}),N.textContent=Z)),sn(j.afterSanitizeElements,N,null),!1)},im=function(N,Z,Q){if(qe&&(Z==="id"||Z==="name")&&(Q in n||Q in X_))return!1;if(!(ie&&!V[Z]&&rt(W,Z))&&!(ce&&rt(re,Z))&&!(Y.attributeCheck instanceof Function&&Y.attributeCheck(Z,N))){if(!P[Z]||V[Z]){if(!(om(N)&&(T.tagNameCheck instanceof RegExp&&rt(T.tagNameCheck,N)||T.tagNameCheck instanceof Function&&T.tagNameCheck(N))&&(T.attributeNameCheck instanceof RegExp&&rt(T.attributeNameCheck,Z)||T.attributeNameCheck instanceof Function&&T.attributeNameCheck(Z,N))||Z==="is"&&T.allowCustomizedBuiltInElements&&(T.tagNameCheck instanceof RegExp&&rt(T.tagNameCheck,Q)||T.tagNameCheck instanceof Function&&T.tagNameCheck(Q))))return!1}else if(!ec[Z]&&!rt(q,Hr(Q,G,""))&&!((Z==="src"||Z==="xlink:href"||Z==="href")&&N!=="script"&&Aw(Q,"data:")===0&&ps[N])&&!(I&&!rt(le,Hr(Q,G,"")))&&Q)return!1}return!0},om=function(N){return N!=="annotation-xml"&&rl(N,ne)},am=function(N){sn(j.beforeSanitizeAttributes,N,null);const{attributes:Z}=N;if(!Z||sc(N))return;const Q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let Se=Z.length;for(;Se--;){const We=Z[Se],{name:Ne,namespaceURI:on,value:Pt}=We,Lt=ze(Ne),ic=Pt;let Je=Ne==="value"?ic:Tw(ic);if(Q.attrName=Lt,Q.attrValue=Je,Q.keepAttr=!0,Q.forceKeepAttr=void 0,sn(j.uponSanitizeAttribute,N,Q),Je=Q.attrValue,tn&&(Lt==="id"||Lt==="name")&&(jn(Ne,N),Je=lt+Je),J&&rt(/((--!?|])>)|<\/(style|title|textarea)/i,Je)){jn(Ne,N);continue}if(Lt==="attributename"&&rl(Je,"href")){jn(Ne,N);continue}if(Q.forceKeepAttr)continue;if(!Q.keepAttr){jn(Ne,N);continue}if(!R&&rt(/\/>/i,Je)){jn(Ne,N);continue}U&&Wi([D,z,H],t$=>{Je=Hr(Je,t$," ")});const lm=ze(N.nodeName);if(!im(lm,Lt,Je)){jn(Ne,N);continue}if(k&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!on)switch(m.getAttributeType(lm,Lt)){case"TrustedHTML":{Je=k.createHTML(Je);break}case"TrustedScriptURL":{Je=k.createScriptURL(Je);break}}if(Je!==ic)try{on?N.setAttributeNS(on,Ne,Je):N.setAttribute(Ne,Je),sc(N)?Mn(N):Yf(t.removed)}catch{jn(Ne,N)}}sn(j.afterSanitizeAttributes,N,null)},e$=function N(Z){let Q=null;const Se=nm(Z);for(sn(j.beforeSanitizeShadowDOM,Z,null);Q=Se.nextNode();)sn(j.uponSanitizeShadowNode,Q,null),sm(Q),am(Q),Q.content instanceof i&&N(Q.content);sn(j.afterSanitizeShadowDOM,Z,null)};return t.sanitize=function(N){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=null,Se=null,We=null,Ne=null;if(tc=!N,tc&&(N="<!-->"),typeof N!="string"&&!rm(N))if(typeof N.toString=="function"){if(N=N.toString(),typeof N!="string")throw Gr("dirty is not a string, aborting")}else throw Gr("toString is not a function");if(!t.isSupported)return N;if(fe||rc(Z),t.removed=[],typeof N=="string"&&(nn=!1),nn){if(N.nodeName){const Lt=ze(N.nodeName);if(!O[Lt]||B[Lt])throw Gr("root node is forbidden and cannot be sanitized in-place")}}else if(N instanceof a)Q=tm("<!---->"),Se=Q.ownerDocument.importNode(N,!0),Se.nodeType===Jr.element&&Se.nodeName==="BODY"||Se.nodeName==="HTML"?Q=Se:Q.appendChild(Se);else{if(!Ve&&!U&&!te&&N.indexOf("<")===-1)return k&&Ke?k.createHTML(N):N;if(Q=tm(N),!Q)return Ve?null:Ke?v:""}Q&&Be&&Mn(Q.firstChild);const on=nm(nn?N:Q);for(;We=on.nextNode();)sm(We),am(We),We.content instanceof i&&e$(We.content);if(nn)return N;if(Ve){if(Ue)for(Ne=E.call(Q.ownerDocument);Q.firstChild;)Ne.appendChild(Q.firstChild);else Ne=Q;return(P.shadowroot||P.shadowrootmode)&&(Ne=M.call(r,Ne,!0)),Ne}let Pt=te?Q.outerHTML:Q.innerHTML;return te&&O["!doctype"]&&Q.ownerDocument&&Q.ownerDocument.doctype&&Q.ownerDocument.doctype.name&&rt(nh,Q.ownerDocument.doctype.name)&&(Pt="<!DOCTYPE "+Q.ownerDocument.doctype.name+`>
`+Pt),U&&Wi([D,z,H],Lt=>{Pt=Hr(Pt,Lt," ")}),k&&Ke?k.createHTML(Pt):Pt},t.setConfig=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rc(N),fe=!0},t.clearConfig=function(){kr=null,fe=!1},t.isValidAttribute=function(N,Z,Q){kr||rc({});const Se=ze(N),We=ze(Z);return im(Se,We,Q)},t.addHook=function(N,Z){typeof Z=="function"&&Vr(j[N],Z)},t.removeHook=function(N,Z){if(Z!==void 0){const Q=_w(j[N],Z);return Q===-1?void 0:$w(j[N],Q,1)[0]}return Yf(j[N])},t.removeHooks=function(N){j[N]=[]},t.removeAllHooks=function(){j=sh()},t}var ll=ih(),oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},lh;function zw(){return lh||(lh=1,(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},n=(function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function h(y){return y instanceof l?new l(y.type,h(y.content),y.alias):Array.isArray(y)?y.map(h):y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(h){return Object.prototype.toString.call(h).slice(8,-1)},objId:function(h){return h.__id||Object.defineProperty(h,"__id",{value:++i}),h.__id},clone:function h(y,k){k=k||{};var v,x;switch(a.util.type(y)){case"Object":if(x=a.util.objId(y),k[x])return k[x];v={},k[x]=v;for(var S in y)y.hasOwnProperty(S)&&(v[S]=h(y[S],k));return v;case"Array":return x=a.util.objId(y),k[x]?k[x]:(v=[],k[x]=v,y.forEach(function(E,C){v[C]=h(E,k)}),v);default:return y}},getLanguage:function(h){for(;h;){var y=s.exec(h.className);if(y)return y[1].toLowerCase();h=h.parentElement}return"none"},setLanguage:function(h,y){h.className=h.className.replace(RegExp(s,"gi"),""),h.classList.add("language-"+y)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(v){var h=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(h){var y=document.getElementsByTagName("script");for(var k in y)if(y[k].src==h)return y[k]}return null}},isActive:function(h,y,k){for(var v="no-"+y;h;){var x=h.classList;if(x.contains(y))return!0;if(x.contains(v))return!1;h=h.parentElement}return!!k}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(h,y){var k=a.util.clone(a.languages[h]);for(var v in y)k[v]=y[v];return k},insertBefore:function(h,y,k,v){v=v||a.languages;var x=v[h],S={};for(var E in x)if(x.hasOwnProperty(E)){if(E==y)for(var C in k)k.hasOwnProperty(C)&&(S[C]=k[C]);k.hasOwnProperty(E)||(S[E]=x[E])}var M=v[h];return v[h]=S,a.languages.DFS(a.languages,function(j,D){D===M&&j!=h&&(this[j]=S)}),S},DFS:function h(y,k,v,x){x=x||{};var S=a.util.objId;for(var E in y)if(y.hasOwnProperty(E)){k.call(y,E,y[E],v||E);var C=y[E],M=a.util.type(C);M==="Object"&&!x[S(C)]?(x[S(C)]=!0,h(C,k,null,x)):M==="Array"&&!x[S(C)]&&(x[S(C)]=!0,h(C,k,E,x))}}},plugins:{},highlightAll:function(h,y){a.highlightAllUnder(document,h,y)},highlightAllUnder:function(h,y,k){var v={callback:k,container:h,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),a.hooks.run("before-all-elements-highlight",v);for(var x=0,S;S=v.elements[x++];)a.highlightElement(S,y===!0,v.callback)},highlightElement:function(h,y,k){var v=a.util.getLanguage(h),x=a.languages[v];a.util.setLanguage(h,v);var S=h.parentElement;S&&S.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(S,v);var E=h.textContent,C={element:h,language:v,grammar:x,code:E};function M(D){C.highlightedCode=D,a.hooks.run("before-insert",C),C.element.innerHTML=C.highlightedCode,a.hooks.run("after-highlight",C),a.hooks.run("complete",C),k&&k.call(C.element)}if(a.hooks.run("before-sanity-check",C),S=C.element.parentElement,S&&S.nodeName.toLowerCase()==="pre"&&!S.hasAttribute("tabindex")&&S.setAttribute("tabindex","0"),!C.code){a.hooks.run("complete",C),k&&k.call(C.element);return}if(a.hooks.run("before-highlight",C),!C.grammar){M(a.util.encode(C.code));return}if(y&&r.Worker){var j=new Worker(a.filename);j.onmessage=function(D){M(D.data)},j.postMessage(JSON.stringify({language:C.language,code:C.code,immediateClose:!0}))}else M(a.highlight(C.code,C.grammar,C.language))},highlight:function(h,y,k){var v={code:h,grammar:y,language:k};if(a.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=a.tokenize(v.code,v.grammar),a.hooks.run("after-tokenize",v),l.stringify(a.util.encode(v.tokens),v.language)},tokenize:function(h,y){var k=y.rest;if(k){for(var v in k)y[v]=k[v];delete y.rest}var x=new d;return f(x,x.head,h),u(h,x,y,x.head,0),b(x)},hooks:{all:{},add:function(h,y){var k=a.hooks.all;k[h]=k[h]||[],k[h].push(y)},run:function(h,y){var k=a.hooks.all[h];if(!(!k||!k.length))for(var v=0,x;x=k[v++];)x(y)}},Token:l};r.Prism=a;function l(h,y,k,v){this.type=h,this.content=y,this.alias=k,this.length=(v||"").length|0}l.stringify=function h(y,k){if(typeof y=="string")return y;if(Array.isArray(y)){var v="";return y.forEach(function(M){v+=h(M,k)}),v}var x={type:y.type,content:h(y.content,k),tag:"span",classes:["token",y.type],attributes:{},language:k},S=y.alias;S&&(Array.isArray(S)?Array.prototype.push.apply(x.classes,S):x.classes.push(S)),a.hooks.run("wrap",x);var E="";for(var C in x.attributes)E+=" "+C+'="'+(x.attributes[C]||"").replace(/"/g,"&quot;")+'"';return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+E+">"+x.content+"</"+x.tag+">"};function c(h,y,k,v){h.lastIndex=y;var x=h.exec(k);if(x&&v&&x[1]){var S=x[1].length;x.index+=S,x[0]=x[0].slice(S)}return x}function u(h,y,k,v,x,S){for(var E in k)if(!(!k.hasOwnProperty(E)||!k[E])){var C=k[E];C=Array.isArray(C)?C:[C];for(var M=0;M<C.length;++M){if(S&&S.cause==E+","+M)return;var j=C[M],D=j.inside,z=!!j.lookbehind,H=!!j.greedy,W=j.alias;if(H&&!j.pattern.global){var re=j.pattern.toString().match(/[imsuy]*$/)[0];j.pattern=RegExp(j.pattern.source,re+"g")}for(var le=j.pattern||j,G=v.next,ne=x;G!==y.tail&&!(S&&ne>=S.reach);ne+=G.value.length,G=G.next){var q=G.value;if(y.length>h.length)return;if(!(q instanceof l)){var O=1,F;if(H){if(F=c(le,ne,h,z),!F||F.index>=h.length)break;var B=F.index,P=F.index+F[0].length,_=ne;for(_+=G.value.length;B>=_;)G=G.next,_+=G.value.length;if(_-=G.value.length,ne=_,G.value instanceof l)continue;for(var T=G;T!==y.tail&&(_<P||typeof T.value=="string");T=T.next)O++,_+=T.value.length;O--,q=h.slice(ne,_),F.index-=ne}else if(F=c(le,0,q,z),!F)continue;var B=F.index,V=F[0],Y=q.slice(0,B),ce=q.slice(B+V.length),ie=ne+q.length;S&&ie>S.reach&&(S.reach=ie);var I=G.prev;Y&&(I=f(y,I,Y),ne+=Y.length),m(y,I,O);var R=new l(E,D?a.tokenize(V,D):V,W,V);if(G=f(y,I,R),ce&&f(y,G,ce),O>1){var U={cause:E+","+M,reach:ie};u(h,y,k,G.prev,ne,U),S&&U.reach>S.reach&&(S.reach=U.reach)}}}}}}function d(){var h={value:null,prev:null,next:null},y={value:null,prev:h,next:null};h.next=y,this.head=h,this.tail=y,this.length=0}function f(h,y,k){var v=y.next,x={value:k,prev:y,next:v};return y.next=x,v.prev=x,h.length++,x}function m(h,y,k){for(var v=y.next,x=0;x<k&&v!==h.tail;x++)v=v.next;y.next=v,v.prev=y,h.length-=x}function b(h){for(var y=[],k=h.head.next;k!==h.tail;)y.push(k.value),k=k.next;return y}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(h){var y=JSON.parse(h.data),k=y.language,v=y.code,x=y.immediateClose;r.postMessage(a.highlight(v,a.languages[k],k)),x&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function p(){a.manual||a.highlightAll()}if(!a.manual){var w=document.readyState;w==="loading"||w==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return a})(t);e.exports&&(e.exports=n),typeof oh<"u"&&(oh.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(r,s){var i={};i["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};o["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var a={};a[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:o},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,(function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,(function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",s=function(g,p){return" Error "+g+" while fetching file: "+p},i=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",u="failed",d="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function f(g,p,w){var h=new XMLHttpRequest;h.open("GET",g,!0),h.onreadystatechange=function(){h.readyState==4&&(h.status<400&&h.responseText?p(h.responseText):h.status>=400?w(s(h.status,h.statusText)):w(i))},h.send(null)}function m(g){var p=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(g||"");if(p){var w=Number(p[1]),h=p[2],y=p[3];return h?y?[w,Number(y)]:[w,void 0]:[w,w]}}n.hooks.add("before-highlightall",function(g){g.selector+=", "+d}),n.hooks.add("before-sanity-check",function(g){var p=g.element;if(p.matches(d)){g.code="",p.setAttribute(a,l);var w=p.appendChild(document.createElement("CODE"));w.textContent=r;var h=p.getAttribute("data-src"),y=g.language;if(y==="none"){var k=(/\.(\w+)$/.exec(h)||[,"none"])[1];y=o[k]||k}n.util.setLanguage(w,y),n.util.setLanguage(p,y);var v=n.plugins.autoloader;v&&v.loadLanguages(y),f(h,function(x){p.setAttribute(a,c);var S=m(p.getAttribute("data-range"));if(S){var E=x.split(/\r\n?|\n/g),C=S[0],M=S[1]==null?E.length:S[1];C<0&&(C+=E.length),C=Math.max(0,Math.min(C-1,E.length)),M<0&&(M+=E.length),M=Math.max(0,Math.min(M,E.length)),x=E.slice(C,M).join(`
`),p.hasAttribute("data-start")||p.setAttribute("data-start",String(C+1))}w.textContent=x,n.highlightElement(w)},function(x){p.setAttribute(a,u),w.textContent=x})}}),n.plugins.fileHighlight={highlight:function(g){for(var p=(g||document).querySelectorAll(d),w=0,h;h=p[w++];)n.highlightElement(h)}};var b=!1;n.fileHighlight=function(){b||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),b=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(ah)),ah.exports}var Vw=zw();const ch=Kw(Vw);(function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=r.variable[1].inside,o=0;o<s.length;o++)i[s[o]]=e.languages.bash[s[o]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(Prism),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;var Hw=L('<svg class="w-4 h-4 sm:w-3.5 sm:h-3.5 text-emerald-500"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">'),Gw=L('<span class="hidden sm:inline text-emerald-500 dark:text-emerald-400">'),Ww=L('<button type=button class="absolute top-2 right-2 sm:top-3 sm:right-3 z-10 flex items-center gap-1.5 p-2 sm:px-3 sm:py-1.5 text-xs font-medium text-surface-400 dark:text-surface-500 hover:text-surface-600 dark:hover:text-surface-300 glass-button rounded-lg transition-all">'),Jw=L('<div><div class="absolute top-3 left-3 z-10"><span class="text-[0.625rem] font-semibold text-surface-400 dark:text-surface-500 uppercase tracking-wider"></span></div><pre><code>'),Yw=L('<svg class="w-4 h-4 sm:w-3.5 sm:h-3.5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),Qw=L('<span class="hidden sm:inline">');function Xw(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,n=>t[n])}const uh=e=>{const{copied:t,copy:n}=Vf();let r;const s=()=>e.language||"json",i=()=>e.maxHeight||"31.25rem",o=()=>e.copyLabel??"Copy",a=()=>e.copiedLabel??"Copied",l=ye(()=>{const c=e.code,u=s(),d=ch.languages[u];return d?ll.sanitize(ch.highlight(c,d,u),{ALLOWED_TAGS:["span"],ALLOWED_ATTR:["class"]}):Xw(c)});return(()=>{var c=Jw(),u=c.firstChild,d=u.firstChild,f=u.nextSibling,m=f.firstChild;$(c,A(K,{get when(){return!e.hideCopyButton},get children(){var g=Ww();return g.$$click=()=>n(e.code),$(g,A(K,{get when(){return t()},get fallback(){return[Yw(),(()=>{var p=Qw();return $(p,o),p})()]},get children(){return[Hw(),(()=>{var p=Gw();return $(p,a),p})()]}})),ee(()=>ae(g,"aria-label",t()?a():o())),g}}),u),$(d,s);var b=r;return typeof b=="function"?Bn(b,m):r=m,ee(g=>{var p=`relative group rounded-xl overflow-hidden ${e.class??""}`,w=`p-6 pt-10 text-sm font-mono overflow-auto scrollbar-thin glass-thin ${e.wrap?"whitespace-pre-wrap break-all":""}`,h=i(),y=`language-${s()}`,k=l();return p!==g.e&&se(c,g.e=p),w!==g.t&&se(f,g.t=w),h!==g.a&&xc(f,"max-height",g.a=h),y!==g.o&&se(m,g.o=y),k!==g.i&&(m.innerHTML=g.i=k),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c})()};he(["click"]);var Zw=L('<span>"<!>"'),ek=L("<span>null"),dh=L("<span>"),tk=L('<button type=button class="w-4 h-5 flex items-center justify-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 flex-shrink-0 -ml-4"><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M9 5l7 7-7 7">'),nk=L('<span class="w-4 flex-shrink-0">'),rk=L('<span class="text-violet-600 dark:text-violet-400">"<!>"'),sk=L('<span class="text-gray-500 dark:text-gray-400 mx-1">:'),ik=L('<span class="text-gray-500 dark:text-gray-400">'),ok=L('<div class="ml-4 border-l border-gray-200 dark:border-gray-700 pl-2">'),cl=L('<span class="text-gray-500 dark:text-gray-400">,'),ak=L('<div class="flex items-center"><span class="w-4 flex-shrink-0"></span><span class="text-gray-500 dark:text-gray-400">'),lk=L('<div class="font-mono text-sm leading-relaxed"><div class="flex items-start">'),ck=L('<button type=button class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"><span class="mx-1 px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs"> '),uk=L('<svg class="w-3.5 h-3.5 text-emerald-500"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">'),dk=L('<span class="text-emerald-600 dark:text-emerald-400">'),fk=L('<div><div class="absolute top-3 right-3 z-10 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"><button type=button class="px-2 py-1 text-xs font-medium text-surface-400 dark:text-surface-500 hover:text-surface-600 dark:hover:text-surface-300 bg-surface-100/80 dark:bg-surface-800/80 hover:bg-surface-200/80 dark:hover:bg-surface-700/80 backdrop-blur-sm rounded-lg transition-all"><svg class="w-3.5 h-3.5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg></button><button type=button class="px-2 py-1 text-xs font-medium text-surface-400 dark:text-surface-500 hover:text-surface-600 dark:hover:text-surface-300 bg-surface-100/80 dark:bg-surface-800/80 hover:bg-surface-200/80 dark:hover:bg-surface-700/80 backdrop-blur-sm rounded-lg transition-all"><svg class="w-3.5 h-3.5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"></path></svg></button><button type=button class="flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-surface-400 dark:text-surface-500 hover:text-surface-600 dark:hover:text-surface-300 bg-surface-100/80 dark:bg-surface-800/80 hover:bg-surface-200/80 dark:hover:bg-surface-700/80 backdrop-blur-sm rounded-lg transition-all"></button></div><div class="p-6 pt-10 overflow-auto scrollbar-thin bg-surface-50/50 dark:bg-surface-900/50">'),hk=L('<svg class="w-3.5 h-3.5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),pk=L("<div class=pl-4>");function mk(e,t=2){try{return JSON.stringify(e,null,t)}catch{return String(e)}}const gk=e=>e===null?"null":Array.isArray(e)?"array":typeof e,yk=e=>{switch(e){case"string":return"text-emerald-600 dark:text-emerald-400";case"number":return"text-blue-600 dark:text-blue-400";case"boolean":return"text-amber-600 dark:text-amber-400";case"null":return"text-gray-500 dark:text-gray-500";default:return"text-gray-800 dark:text-gray-200"}},fh=e=>{const t=()=>gk(e.value),n=()=>t()==="object"||t()==="array",[r,s]=X(e.depth<e.initialExpandDepth),i=ye(()=>t()==="array"?e.value.map((c,u)=>[String(u),c]):t()==="object"&&e.value!==null?Object.entries(e.value):[]),o=()=>i().length,a=()=>t()==="array"?["[","]"]:["{","}"],l=()=>{const c=t(),u=yk(c);return c==="string"?(()=>{var d=Zw(),f=d.firstChild,m=f.nextSibling;return m.nextSibling,se(d,u),$(d,()=>String(e.value),m),d})():c==="null"?(()=>{var d=ek();return se(d,u),d})():c==="boolean"?(()=>{var d=dh();return se(d,u),$(d,()=>e.value?"true":"false"),d})():(()=>{var d=dh();return se(d,u),$(d,()=>String(e.value)),d})()};return(()=>{var c=lk(),u=c.firstChild;return $(u,A(K,{get when(){return n()},get children(){var d=tk(),f=d.firstChild;return d.$$click=()=>s(!r()),ee(m=>{var b=r()?"Collapse":"Expand",g=`w-3 h-3 transition-transform duration-150 ${r()?"rotate-90":""}`;return b!==m.e&&ae(d,"aria-label",m.e=b),g!==m.t&&ae(f,"class",m.t=g),m},{e:void 0,t:void 0}),d}}),null),$(u,A(K,{get when(){return!n()},get children(){return nk()}}),null),$(u,A(K,{get when(){return e.keyName!==void 0},get children(){return[(()=>{var d=rk(),f=d.firstChild,m=f.nextSibling;return m.nextSibling,$(d,()=>e.keyName,m),d})(),sk()]}}),null),$(u,A(K,{get when(){return n()},get fallback(){return[Oe(l),A(K,{get when(){return!e.isLast},get children(){return cl()}})]},get children(){return A(K,{get when(){return r()},get fallback(){return[(()=>{var d=ck(),f=d.firstChild,m=f.firstChild;return d.$$click=()=>s(!0),$(d,()=>a()[0],f),$(f,o,m),$(f,()=>o()===1?"item":"items",null),$(d,()=>a()[1],null),d})(),A(K,{get when(){return!e.isLast},get children(){return cl()}})]},get children(){var d=ik();return $(d,()=>a()[0]),d}})}}),null),$(c,A(K,{get when(){return Oe(()=>!!n())()&&r()},get children(){return[(()=>{var d=ok();return $(d,A(Te,{get each(){return i()},children:([f,m],b)=>A(fh,{get keyName(){return t()==="object"?f:void 0},value:m,get depth(){return e.depth+1},get initialExpandDepth(){return e.initialExpandDepth},get isLast(){return b()===o()-1}})})),d})(),(()=>{var d=ak(),f=d.firstChild,m=f.nextSibling;return $(m,()=>a()[1]),$(d,A(K,{get when(){return!e.isLast},get children(){return cl()}}),null),d})()]}}),null),c})()},bk=e=>{const{copied:t,copy:n}=Vf(),r=()=>e.maxHeight??"31.25rem",s=()=>e.initialExpandDepth??2,i=()=>e.copyLabel??"Copy",o=()=>e.copiedLabel??"Copied",a=()=>e.expandAllLabel??"Expand all",l=()=>e.collapseAllLabel??"Collapse all",c=ye(()=>mk(e.data)),[u,d]=X(!1),[f,m]=X(0),b=()=>{d(!0),m(p=>p+1)},g=()=>{d(!1),m(p=>p+1)};return(()=>{var p=fk(),w=p.firstChild,h=w.firstChild,y=h.nextSibling,k=y.nextSibling,v=w.nextSibling;return h.$$click=b,y.$$click=g,k.$$click=()=>n(c()),$(k,A(K,{get when(){return t()},get fallback(){return[hk(),Oe(i)]},get children(){return[uk(),(()=>{var x=dk();return $(x,o),x})()]}})),$(v,A(K,{get when(){return f()>=0},keyed:!0,children:x=>(()=>{var S=pk();return $(S,A(fh,{get value(){return e.data},depth:0,get initialExpandDepth(){return Oe(()=>!!u())()?100:s()},isLast:!0})),S})()})),ee(x=>{var S=`relative group rounded-xl overflow-hidden ${e.class??""}`,E=a(),C=l(),M=r();return S!==x.e&&se(p,x.e=S),E!==x.t&&ae(h,"title",x.t=E),C!==x.a&&ae(y,"title",x.a=C),M!==x.o&&xc(v,"max-height",x.o=M),x},{e:void 0,t:void 0,a:void 0,o:void 0}),p})()};he(["click"]);function ul(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Cn=ul();function hh(e){Cn=e}var Yr={exec:()=>null};function we(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(it.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,t)};return r}var it={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},vk=/^(?:[ \t]*(?:\n|$))+/,wk=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,kk=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xk=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,dl=/(?:[*+-]|\d{1,9}[.)])/,ph=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,mh=we(ph).replace(/bull/g,dl).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Sk=we(ph).replace(/bull/g,dl).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),fl=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ek=/^[^\n]+/,hl=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_k=we(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hl).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$k=we(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,dl).getRegex(),Qi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pl=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ak=we("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",pl).replace("tag",Qi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),gh=we(fl).replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qi).getRegex(),Tk=we(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",gh).getRegex(),ml={blockquote:Tk,code:wk,def:_k,fences:kk,heading:xk,hr:Qr,html:Ak,lheading:mh,list:$k,newline:vk,paragraph:gh,table:Yr,text:Ek},yh=we("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qi).getRegex(),Ck={...ml,lheading:Sk,table:yh,paragraph:we(fl).replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qi).getRegex()},Nk={...ml,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pl).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Yr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we(fl).replace("hr",Qr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ok=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ik=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bh=/^( {2,}|\\)\n(?!\s*$)/,Pk=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Xi=/[\p{P}\p{S}]/u,gl=/[\s\p{P}\p{S}]/u,vh=/[^\s\p{P}\p{S}]/u,Lk=we(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,gl).getRegex(),wh=/(?!~)[\p{P}\p{S}]/u,Rk=/(?!~)[\s\p{P}\p{S}]/u,Dk=/(?:[^\s\p{P}\p{S}]|~)/u,Mk=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,kh=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,jk=we(kh,"u").replace(/punct/g,Xi).getRegex(),Bk=we(kh,"u").replace(/punct/g,wh).getRegex(),xh="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Fk=we(xh,"gu").replace(/notPunctSpace/g,vh).replace(/punctSpace/g,gl).replace(/punct/g,Xi).getRegex(),qk=we(xh,"gu").replace(/notPunctSpace/g,Dk).replace(/punctSpace/g,Rk).replace(/punct/g,wh).getRegex(),Uk=we("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vh).replace(/punctSpace/g,gl).replace(/punct/g,Xi).getRegex(),Kk=we(/\\(punct)/,"gu").replace(/punct/g,Xi).getRegex(),zk=we(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Vk=we(pl).replace("(?:-->|$)","-->").getRegex(),Hk=we("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Vk).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Gk=we(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Zi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Sh=we(/^!?\[(label)\]\[(ref)\]/).replace("label",Zi).replace("ref",hl).getRegex(),Eh=we(/^!?\[(ref)\](?:\[\])?/).replace("ref",hl).getRegex(),Wk=we("reflink|nolink(?!\\()","g").replace("reflink",Sh).replace("nolink",Eh).getRegex(),yl={_backpedal:Yr,anyPunctuation:Kk,autolink:zk,blockSkip:Mk,br:bh,code:Ik,del:Yr,emStrongLDelim:jk,emStrongRDelimAst:Fk,emStrongRDelimUnd:Uk,escape:Ok,link:Gk,nolink:Eh,punctuation:Lk,reflink:Sh,reflinkSearch:Wk,tag:Hk,text:Pk,url:Yr},Jk={...yl,link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",Zi).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zi).getRegex()},bl={...yl,emStrongRDelimAst:qk,emStrongLDelim:Bk,url:we(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Yk={...bl,br:we(bh).replace("{2,}","*").getRegex(),text:we(bl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},eo={normal:ml,gfm:Ck,pedantic:Nk},Xr={normal:yl,gfm:bl,breaks:Yk,pedantic:Jk},Qk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_h=e=>Qk[e];function Ft(e,t){if(t){if(it.escapeTest.test(e))return e.replace(it.escapeReplace,_h)}else if(it.escapeTestNoEncode.test(e))return e.replace(it.escapeReplaceNoEncode,_h);return e}function $h(e){try{e=encodeURI(e).replace(it.percentDecode,"%")}catch{return null}return e}function Ah(e,t){var n;const r=e.replace(it.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),s=r.split(it.splitPipe);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!((n=s.at(-1))!=null&&n.trim())&&s.pop(),t)if(s.length>t)s.splice(t);else for(;s.length<t;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(it.slashPipe,"|");return s}function Zr(e,t,n){const r=e.length;if(r===0)return"";let s=0;for(;s<r&&e.charAt(r-s-1)===t;)s++;return e.slice(0,r-s)}function Xk(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Th(e,t,n,r,s){const i=t.href,o=t.title||null,a=e[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;const l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function Zk(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const s=r[1];return t.split(`
`).map(i=>{const o=i.match(n.other.beginningSpace);if(o===null)return i;const[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var to=class{constructor(e){$e(this,"options"),$e(this,"rules"),$e(this,"lexer"),this.options=e||Cn}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Zr(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Zk(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=Zr(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Zr(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Zr(t[0],`
`).split(`
`),r="",s="";const i=[];for(;n.length>0;){let o=!1;const a=[];let l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);const c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${u}`:u;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=d,n.length===0)break;const f=i.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){const m=f,b=m.raw+`
`+n.join(`
`),g=this.blockquote(b);i[i.length-1]=g,r=r.substring(0,r.length-m.raw.length)+g.raw,s=s.substring(0,s.length-m.text.length)+g.text;break}else if(f?.type==="list"){const m=f,b=m.raw+`
`+n.join(`
`),g=this.list(b);i[i.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,s=s.substring(0,s.length-m.raw.length)+g.raw,n=b.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let l=!1,c="",u="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),f=e.split(`
`,1)[0],m=!d.trim(),b=0;if(this.options.pedantic?(b=2,u=d.trimStart()):m?b=t[1].length+1:(b=t[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,u=d.slice(b),b+=t[1].length),m&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,e=e.substring(f.length+1),l=!0),!l){const w=this.rules.other.nextBulletRegex(b),h=this.rules.other.hrRegex(b),y=this.rules.other.fencesBeginRegex(b),k=this.rules.other.headingBeginRegex(b),v=this.rules.other.htmlBeginRegex(b);for(;e;){const x=e.split(`
`,1)[0];let S;if(f=x,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),S=f):S=f.replace(this.rules.other.tabCharGlobal,"    "),y.test(f)||k.test(f)||v.test(f)||w.test(f)||h.test(f))break;if(S.search(this.rules.other.nonSpaceChar)>=b||!f.trim())u+=`
`+S.slice(b);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(d)||k.test(d)||h.test(d))break;u+=`
`+f}!m&&!f.trim()&&(m=!0),c+=x+`
`,e=e.substring(x.length+1),d=S.slice(b)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let g=null,p;this.options.gfm&&(g=this.rules.other.listIsTask.exec(u),g&&(p=g[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!g,checked:p,loose:!1,text:u,tokens:[]}),s.raw+=c}const a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const c=s.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=u}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){var t;const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const r=Ah(n[1]),s=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(t=n[3])!=null&&t.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const a of s)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(const a of i)o.rows.push(Ah(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const i=Zr(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{const i=Xk(t[2],"()");if(i===-2)return;if(i>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Th(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[r.toLowerCase()];if(!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Th(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){const s=[...r[0]].length-1;let i,o,a=s,l=0;const c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);const u=[...r[0]][0].length,d=e.slice(0,s+r.index+u+o);if(Math.min(s,o)%2){const m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}const f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var t;let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=n[0],s="mailto:"+r;else{let i;do i=n[0],n[0]=((t=this.rules.inline._backpedal.exec(n[0]))==null?void 0:t[0])??"";while(i!==n[0]);r=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Qt=class oc{constructor(t){$e(this,"tokens"),$e(this,"options"),$e(this,"state"),$e(this,"tokenizer"),$e(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Cn,this.options.tokenizer=this.options.tokenizer||new to,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:it,block:eo.normal,inline:Xr.normal};this.options.pedantic?(n.block=eo.pedantic,n.inline=Xr.pedantic):this.options.gfm&&(n.block=eo.gfm,this.options.breaks?n.inline=Xr.breaks:n.inline=Xr.gfm),this.tokenizer.rules=n}static get rules(){return{block:eo,inline:Xr}}static lex(t,n){return new oc(n).lex(t)}static lexInline(t,n){return new oc(n).inlineTokens(t)}lex(t){t=t.replace(it.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var s,i,o;for(this.options.pedantic&&(t=t.replace(it.tabCharGlobal,"    ").replace(it.spaceLine,""));t;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(c=>(a=c.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);const c=n.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);const c=n.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);const c=n.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0;const u=t.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){const c=n.at(-1);r&&c?.type==="paragraph"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a),r=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);const c=n.at(-1);c?.type==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var r,s,i;let o=t,a=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,c="";for(;t;){l||(c=""),l=!1;let u;if((s=(r=this.options.extensions)==null?void 0:r.inline)!=null&&s.some(f=>(u=f.call({lexer:this},t,n))?(t=t.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const f=n.at(-1);u.type==="text"&&f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(t,o,c)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),n.push(u);continue}let d=t;if((i=this.options.extensions)!=null&&i.startInline){let f=1/0;const m=t.slice(1);let b;this.options.extensions.startInline.forEach(g=>{b=g.call({lexer:this},m),typeof b=="number"&&b>=0&&(f=Math.min(f,b))}),f<1/0&&f>=0&&(d=t.substring(0,f+1))}if(u=this.tokenizer.inlineText(d)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(c=u.raw.slice(-1)),l=!0;const f=n.at(-1);f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},no=class{constructor(e){$e(this,"options"),$e(this,"parser"),this.options=e||Cn}space(e){return""}code({text:e,lang:t,escaped:n}){var r;const s=(r=(t||"").match(it.notSpaceStart))==null?void 0:r[0],i=e.replace(it.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Ft(s)+'">'+(n?i:Ft(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Ft(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let o=0;o<e.items.length;o++){const a=e.items[o];r+=this.listitem(a)}const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(e){var t;let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((t=e.tokens[0])==null?void 0:t.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Ft(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let r="";for(let s=0;s<e.rows.length;s++){const i=e.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ft(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),s=$h(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+Ft(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const s=$h(e);if(s===null)return Ft(n);e=s;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${Ft(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ft(e.text)}},vl=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Xt=class ac{constructor(t){$e(this,"options"),$e(this,"renderer"),$e(this,"textRenderer"),this.options=t||Cn,this.options.renderer=this.options.renderer||new no,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new vl}static parse(t,n){return new ac(n).parse(t)}static parseInline(t,n){return new ac(n).parseInline(t)}parse(t,n=!0){var r,s;let i="";for(let o=0;o<t.length;o++){const a=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){const c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){i+=u||"";continue}}const l=a;switch(l.type){case"space":{i+=this.renderer.space(l);continue}case"hr":{i+=this.renderer.hr(l);continue}case"heading":{i+=this.renderer.heading(l);continue}case"code":{i+=this.renderer.code(l);continue}case"table":{i+=this.renderer.table(l);continue}case"blockquote":{i+=this.renderer.blockquote(l);continue}case"list":{i+=this.renderer.list(l);continue}case"html":{i+=this.renderer.html(l);continue}case"paragraph":{i+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<t.length&&t[o+1].type==="text";)c=t[++o],u+=`
`+this.renderer.text(c);n?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}parseInline(t,n=this.renderer){var r,s;let i="";for(let o=0;o<t.length;o++){const a=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=c||"";continue}}const l=a;switch(l.type){case"escape":{i+=n.text(l);break}case"html":{i+=n.html(l);break}case"link":{i+=n.link(l);break}case"image":{i+=n.image(l);break}case"strong":{i+=n.strong(l);break}case"em":{i+=n.em(l);break}case"codespan":{i+=n.codespan(l);break}case"br":{i+=n.br(l);break}case"del":{i+=n.del(l);break}case"text":{i+=n.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}},wl,ro=(wl=class{constructor(e){$e(this,"options"),$e(this,"block"),this.options=e||Cn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qt.lex:Qt.lexInline}provideParser(){return this.block?Xt.parse:Xt.parseInline}},$e(wl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),wl),ex=class{constructor(...e){$e(this,"defaults",ul()),$e(this,"options",this.setOptions),$e(this,"parse",this.parseMarkdown(!0)),$e(this,"parseInline",this.parseMarkdown(!1)),$e(this,"Parser",Xt),$e(this,"Renderer",no),$e(this,"TextRenderer",vl),$e(this,"Lexer",Qt),$e(this,"Tokenizer",to),$e(this,"Hooks",ro),this.use(...e)}walkTokens(e,t){var n,r;let s=[];for(const i of e)switch(s=s.concat(t.call(this,i)),i.type){case"table":{const o=i;for(const a of o.header)s=s.concat(this.walkTokens(a.tokens,t));for(const a of o.rows)for(const l of a)s=s.concat(this.walkTokens(l.tokens,t));break}case"list":{const o=i;s=s.concat(this.walkTokens(o.items,t));break}default:{const o=i;(r=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&r[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{const l=o[a].flat(1/0);s=s.concat(this.walkTokens(l,t))}):o.tokens&&(s=s.concat(this.walkTokens(o.tokens,t)))}}return s}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=t.renderers[s.name];i?t.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[s.level];i?i.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){const s=this.defaults.renderer||new no(this.defaults);for(const i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,a=n.renderer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u||""}}r.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new to(this.defaults);for(const i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,a=n.tokenizer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new ro;for(const i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,a=n.hooks[o],l=s[o];ro.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(d=>l.call(s,d));const u=a.call(s,c);return l.call(s,u)}:s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Qt.lex(e,t??this.defaults)}parser(e,t){return Xt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const o=s.hooks?s.hooks.provideLexer():e?Qt.lex:Qt.lexInline,a=s.hooks?s.hooks.provideParser():e?Xt.parse:Xt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(i);try{s.hooks&&(t=s.hooks.preprocess(t));let l=o(t,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=a(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Ft(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Nn=new ex;function ke(e,t){return Nn.parse(e,t)}ke.options=ke.setOptions=function(e){return Nn.setOptions(e),ke.defaults=Nn.defaults,hh(ke.defaults),ke},ke.getDefaults=ul,ke.defaults=Cn,ke.use=function(...e){return Nn.use(...e),ke.defaults=Nn.defaults,hh(ke.defaults),ke},ke.walkTokens=function(e,t){return Nn.walkTokens(e,t)},ke.parseInline=Nn.parseInline,ke.Parser=Xt,ke.parser=Xt.parse,ke.Renderer=no,ke.TextRenderer=vl,ke.Lexer=Qt,ke.lexer=Qt.lex,ke.Tokenizer=to,ke.Hooks=ro,ke.parse=ke,ke.options,ke.setOptions,ke.use,ke.walkTokens,ke.parseInline,Xt.parse,Qt.lex;var tx=L("<div>");ke.setOptions({breaks:!0,gfm:!0});const Ch=e=>{const t=ye(()=>{if(!e.content)return"";try{const n=ke.parse(e.content,{async:!1});return ll.sanitize(n)}catch{return ll.sanitize(e.content)}});return A(K,{get when(){return e.content},get children(){var n=tx();return ee(r=>{var s=`markdown-content prose prose-sm max-w-none
          prose-headings:text-gray-900 dark:prose-headings:text-white
          prose-headings:font-semibold prose-headings:leading-tight
          prose-h1:text-xl prose-h1:mt-6 prose-h1:mb-3
          prose-h2:text-lg prose-h2:mt-5 prose-h2:mb-2
          prose-h3:text-base prose-h3:mt-4 prose-h3:mb-2
          prose-p:text-gray-600 dark:prose-p:text-gray-400
          prose-p:leading-relaxed prose-p:my-2
          prose-a:text-blue-600 dark:prose-a:text-blue-400
          prose-a:no-underline hover:prose-a:underline
          prose-strong:text-gray-800 dark:prose-strong:text-gray-200
          prose-strong:font-semibold
          prose-code:text-sm prose-code:font-mono
          prose-code:bg-gray-100 dark:prose-code:bg-gray-800
          prose-code:text-gray-800 dark:prose-code:text-gray-200
          prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded-md
          prose-code:before:content-none prose-code:after:content-none
          prose-pre:bg-gray-900 dark:prose-pre:bg-gray-950
          prose-pre:text-gray-100 prose-pre:rounded-xl
          prose-pre:p-4 prose-pre:my-3 prose-pre:overflow-x-auto
          prose-ul:my-2 prose-ul:pl-5 prose-ul:list-disc
          prose-ol:my-2 prose-ol:pl-5 prose-ol:list-decimal
          prose-li:text-gray-600 dark:prose-li:text-gray-400
          prose-li:my-0.5
          prose-blockquote:border-l-4 prose-blockquote:border-gray-300
          dark:prose-blockquote:border-gray-600
          prose-blockquote:pl-4 prose-blockquote:my-3
          prose-blockquote:text-gray-600 dark:prose-blockquote:text-gray-400
          prose-blockquote:italic
          prose-hr:border-gray-200 dark:prose-hr:border-gray-700
          prose-hr:my-4
          prose-table:my-3
          prose-th:text-left prose-th:text-gray-800 dark:prose-th:text-gray-200
          prose-th:font-semibold prose-th:p-2
          prose-th:border-b prose-th:border-gray-200 dark:prose-th:border-gray-700
          prose-td:p-2 prose-td:text-gray-600 dark:prose-td:text-gray-400
          prose-td:border-b prose-td:border-gray-100 dark:prose-td:border-gray-800
          ${e.class??""}`,i=t();return s!==r.e&&se(n,r.e=s),i!==r.t&&(n.innerHTML=r.t=i),r},{e:void 0,t:void 0}),n}})};var nx=L('<div><h3 class="text-xs font-bold text-surface-700 dark:text-surface-400 uppercase tracking-wider mb-2 md:mb-3 px-1"></h3><div class="space-y-2 md:space-y-3">');const Nh=e=>(()=>{var t=nx(),n=t.firstChild,r=n.nextSibling;return $(n,()=>e.title),$(r,()=>e.children),ee(()=>se(t,`mt-4 md:mt-6 first:mt-1 first:md:mt-2 ${e.class??""}`)),t})();var rx=L('<div><div class="flex items-start gap-3"><div class="flex-shrink-0 w-9 h-9 rounded-xl bg-red-500/15 dark:bg-red-500/20 flex items-center justify-center"><svg class="w-5 h-5 text-red-600 dark:text-red-400"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></div><div><h4 class="text-base font-bold text-red-800 dark:text-red-200"></h4><p class="text-sm text-red-600 dark:text-red-400 mt-1 leading-relaxed">');const sx=e=>(()=>{var t=rx(),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.firstChild,o=i.nextSibling;return $(i,()=>e.title??"Request Failed"),$(o,()=>e.message),ee(()=>se(t,`mt-4 md:mt-6 p-3 md:p-4 glass-card rounded-xl border-red-200/30 dark:border-red-800/20 shadow-lg shadow-red-500/5 ${e.class??""}`)),t})();function kl(e){return e==null?"":String(e)}function ix(e,t=2){return e==null?"":typeof e=="object"?JSON.stringify(e,null,t):String(e)}function Oh(e){if(e.default!==void 0)return e.default;switch(e.type||"string"){case"string":return"";case"number":case"integer":return 0;case"boolean":return!1;case"array":return[];case"object":if(e.properties){const t={},n=e.required||[];for(const[r,s]of Object.entries(e.properties))n.includes(r)&&(t[r]=Oh(s));return t}return{};default:return}}const xl=e=>{const t=()=>kl(e.value),n=()=>e.schema.format==="textarea"||e.schema.maxLength&&e.schema.maxLength>200;return A(K,{get when(){return n()},get fallback(){return A(Ct,{get value(){return t()},onInput:r=>e.onChange(r||void 0),get placeholder(){var r;return((r=e.schema.default)==null?void 0:r.toString())||""}})},get children(){return A(Qa,{get value(){return t()},onInput:r=>e.onChange(r||void 0),get placeholder(){var r;return((r=e.schema.default)==null?void 0:r.toString())||""},class:"h-24"})}})},Ih=e=>{const t=()=>kl(e.value);return A(Ct,{type:"number",get value(){return t()},onInput:n=>{if(n===""){e.onChange(void 0);return}const r=Number(n);Number.isNaN(r)||e.onChange(r)},get placeholder(){var n;return((n=e.schema.default)==null?void 0:n.toString())||"0"}})},Ph=e=>A(zf,{get checked(){return e.value===!0},onChange:t=>e.onChange(t),get label(){return e.value===!0?"true":"false"}});var ox=L("<option value>-- Select --"),ax=L("<option>");const Lh=e=>{const t=()=>kl(e.value);return A(zr,{get value(){return t()},onChange:n=>{if(n===""){e.onChange(void 0);return}const r=(e.schema.enum||[]).find(s=>String(s)===n);e.onChange(r!==void 0?r:n)},get children(){return[ox(),A(Te,{get each(){return e.schema.enum},children:n=>(()=>{var r=ax();return $(r,()=>String(n)),ee(()=>r.value=String(n)),r})()})]}})},lx=e=>{const t=()=>ix(e.value);return A(Qa,{get value(){return t()},onInput:n=>{if(n===""){e.onChange(void 0);return}try{e.onChange(JSON.parse(n))}catch{e.onChange(n)}},placeholder:"{}",class:"h-24 font-mono text-sm"})};var cx=L('<span class="text-rose-500 text-xs font-semibold">required'),ux=L('<span class="text-xs text-gray-400 dark:text-gray-500">(<!>)'),dx=L('<p class="text-xs text-gray-400 dark:text-gray-500">'),fx=L('<div class=space-y-2><div class="flex items-center gap-2"><span class="font-mono text-sm font-medium text-gray-900 dark:text-white"></span><span class="text-xs text-gray-400 dark:text-gray-500">'),hx=L("<div class=sm:max-w-xs>");const Rh=e=>{const t=()=>e.schema.type||"string",n=()=>t()==="object"||t()==="array";return(()=>{var r=fx(),s=r.firstChild,i=s.firstChild,o=i.nextSibling;return $(i,()=>e.name),$(s,A(K,{get when(){return e.required},get children(){return cx()}}),o),$(o,t),$(s,A(K,{get when(){return e.schema.format},get children(){var a=ux(),l=a.firstChild,c=l.nextSibling;return c.nextSibling,$(a,()=>e.schema.format,c),a}}),null),$(r,A(K,{get when(){return e.schema.description},get children(){var a=dx();return $(a,()=>e.schema.description),a}}),null),$(r,A(K,{get when(){return n()},get fallback(){return(()=>{var a=hx();return $(a,A(so,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange},get path(){return e.path}})),a})()},get children(){return A(so,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange},get path(){return e.path}})}}),null),r})()};var px=L("<div class=space-y-4>"),mx=L('<div class="glass-card rounded-xl p-3 sm:p-4 space-y-3 sm:space-y-4">');const gx=e=>{const t=()=>e.value||{},n=()=>e.schema.properties||{},r=()=>e.schema.required||[],s=(o,a)=>{const l={...t()};a===void 0?delete l[o]:l[o]=a,e.onChange(Object.keys(l).length>0?l:void 0)},i=()=>e.path.length===0;return A(K,{get when(){return i()},get fallback(){return(()=>{var o=mx();return $(o,A(Te,{get each(){return Object.entries(n())},children:([a,l])=>A(Rh,{name:a,schema:l,get value(){return t()[a]},get required(){return r().includes(a)},onChange:c=>s(a,c),get path(){return[...e.path,a]}})})),o})()},get children(){var o=px();return $(o,A(Te,{get each(){return Object.entries(n())},children:([a,l])=>A(Rh,{name:a,schema:l,get value(){return t()[a]},get required(){return r().includes(a)},onChange:c=>s(a,c),get path(){return[...e.path,a]}})})),o}})};var yx=L('<div class="text-xs text-gray-400 dark:text-gray-500">'),bx=L('<div class=space-y-3><button type=button class="w-full py-2.5 px-4 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors flex items-center justify-center gap-2"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M12 4v16m8-8H4"></path></svg>Add item'),vx=L('<span class="text-xs text-gray-400 dark:text-gray-500">(<!>)'),wx=L('<div class="glass-card rounded-xl p-3 sm:p-4"><div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3"><div class="flex items-center gap-2"><span class="text-xs font-medium text-gray-500 dark:text-gray-400">Item </span></div><div class="flex items-center gap-1 self-end sm:self-auto"><button type=button class=glass-icon-btn title="Move up"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M5 15l7-7 7 7"></path></svg></button><button type=button class=glass-icon-btn title="Move down"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M19 9l-7 7-7-7"></path></svg></button><button type=button class="p-1.5 rounded-lg text-rose-400 hover:text-rose-600 dark:hover:text-rose-300 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-colors"title="Remove item"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">');const kx=e=>{const t=()=>e.schema.type||"string";return A(wc,{get fallback(){return A(xl,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})},get children(){return[A(Rt,{get when(){return Oe(()=>!!e.schema.enum)()&&e.schema.enum.length>0},get children(){return A(Lh,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="boolean"},get children(){return A(Ph,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="number"||t()==="integer"},get children(){return A(Ih,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}})]}})},xx=e=>{const t=()=>e.value||[],n=()=>e.schema.items||{type:"string"},r=()=>{const l=Oh(n());e.onChange([...t(),l])},s=l=>{const c=t().filter((u,d)=>d!==l);e.onChange(c.length>0?c:void 0)},i=(l,c)=>{const u=[...t()];u[l]=c,e.onChange(u)},o=(l,c)=>{if(c<0||c>=t().length)return;const u=[...t()],[d]=u.splice(l,1);u.splice(c,0,d),e.onChange(u)},a=()=>{const l=n().type;return l==="string"||l==="number"||l==="integer"||l==="boolean"};return(()=>{var l=bx(),c=l.firstChild;return $(l,A(Te,{get each(){return t()},children:(u,d)=>(()=>{var f=wx(),m=f.firstChild,b=m.firstChild,g=b.firstChild;g.firstChild;var p=b.nextSibling,w=p.firstChild,h=w.nextSibling,y=h.nextSibling;return $(g,()=>d()+1,null),$(b,A(K,{get when(){return n().type},get children(){var k=vx(),v=k.firstChild,x=v.nextSibling;return x.nextSibling,$(k,()=>n().type,x),k}}),null),w.$$click=()=>o(d(),d()-1),h.$$click=()=>o(d(),d()+1),y.$$click=()=>s(d()),$(f,A(K,{get when(){return a()},get fallback(){return A(so,{get schema(){return n()},value:u,onChange:k=>i(d(),k),get path(){return[...e.path,String(d())]}})},get children(){return A(kx,{get schema(){return n()},value:u,onChange:k=>i(d(),k)})}}),null),ee(k=>{var v=d()===0,x=d()===t().length-1;return v!==k.e&&(w.disabled=k.e=v),x!==k.t&&(h.disabled=k.t=x),k},{e:void 0,t:void 0}),f})()}),c),c.$$click=r,$(l,A(K,{get when(){return e.schema.minItems!==void 0||e.schema.maxItems!==void 0},get children(){var u=yx();return $(u,A(K,{get when(){return e.schema.minItems!==void 0},get children(){return["Min items: ",Oe(()=>e.schema.minItems)]}}),null),$(u,A(K,{get when(){return Oe(()=>e.schema.minItems!==void 0)()&&e.schema.maxItems!==void 0},children:" | "}),null),$(u,A(K,{get when(){return e.schema.maxItems!==void 0},get children(){return["Max items: ",Oe(()=>e.schema.maxItems)]}}),null),u}}),null),l})()};he(["click"]);const so=e=>{const t=ye(()=>{const n=e.schema;return n.enum&&n.enum.length>0?"enum":n.oneOf&&n.oneOf.length>0?"oneOf":n.anyOf&&n.anyOf.length>0?"anyOf":n.type||"string"});return A(wc,{get fallback(){return A(xl,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})},get children(){return[A(Rt,{get when(){return t()==="object"},get children(){return A(gx,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange},get path(){return e.path||[]}})}}),A(Rt,{get when(){return t()==="array"},get children(){return A(xx,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange},get path(){return e.path||[]}})}}),A(Rt,{get when(){return t()==="enum"},get children(){return A(Lh,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="boolean"},get children(){return A(Ph,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="number"||t()==="integer"},get children(){return A(Ih,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="string"},get children(){return A(xl,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}}),A(Rt,{get when(){return t()==="oneOf"||t()==="anyOf"},get children(){return A(lx,{get schema(){return e.schema},get value(){return e.value},get onChange(){return e.onChange}})}})]}})};he(["click","keydown"]),he(["click","keydown"]),he(["click"]),he(["click"]),he(["click","keydown"]),he(["click"]);var Sx=L('<div class="divide-y divide-black/5 dark:divide-white/5">'),Ex=L('<div class="px-4 py-2 border-t border-black/5 dark:border-white/5 bg-black/5 dark:bg-white/5"><div class="flex items-center justify-center gap-4 text-xs text-gray-400 dark:text-gray-500"><span class="flex items-center gap-1"><kbd class="px-1.5 py-0.5 rounded bg-black/10 dark:bg-white/10 font-mono"></kbd><span></span></span><span class="flex items-center gap-1"><kbd class="px-1.5 py-0.5 rounded bg-black/10 dark:bg-white/10 font-mono"></kbd><span></span></span><span class="flex items-center gap-1"><kbd class="px-1.5 py-0.5 rounded bg-black/10 dark:bg-white/10 font-mono"></kbd><span>'),_x=L('<div class="flex flex-col h-full"><div class="flex items-center justify-between px-4 py-3 border-b border-black/5 dark:border-white/5 bg-black/5 dark:bg-white/5"><div class="flex items-center gap-2"><button type=button class="px-3 py-1.5 text-xs font-bold glass-button rounded-lg text-surface-700 dark:text-surface-400 hover:text-surface-950 dark:hover:text-white"></button><button type=button class="px-3 py-1.5 text-xs font-bold glass-button rounded-lg text-surface-700 dark:text-surface-400 hover:text-surface-950 dark:hover:text-white"></button></div><button type=button></button></div><div class="flex-1 overflow-y-auto scrollbar-thin">'),$x=L('<div class="flex flex-col items-center justify-center h-48 text-gray-400 dark:text-gray-500"><svg class="w-12 h-12 mb-3 opacity-50"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class=text-sm>'),Ax=L('<p class="text-xs text-rose-500 dark:text-rose-400 mt-1 truncate">'),Tx=L('<button type=button class="p-1.5 text-gray-400 hover:text-blue-500 transition-colors rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">'),Cx=L('<div><div class="flex items-start gap-3"><div></div><span></span><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><p class="text-sm font-mono font-bold text-surface-800 dark:text-surface-300 truncate"></p></div><div class="flex items-center gap-2 text-xs text-surface-600 dark:text-surface-500 font-bold"><span></span></div></div><div class="flex items-center gap-1 flex-shrink-0"><button type=button class="p-1.5 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Dh=L("<span>"),Nx=L("<span>"),Ox=L("<span>ms");const Ix=e=>{const{t}=Re(),[n,r]=X(!1),[s,i]=X(0),[o,a]=X(!1);let l,c;He(()=>{c&&clearTimeout(c)}),Qe(()=>{e.open&&(i(0),a(!1))}),an(()=>{const y=k=>{(k.metaKey||k.ctrlKey)&&k.key.toLowerCase()==="h"&&(k.preventDefault(),e.open?e.onClose():e.onOpen())};window.addEventListener("keydown",y),He(()=>window.removeEventListener("keydown",y))});const u=y=>{if(!e.open)return;const k=e.store.state.entries;if(k.length!==0)switch(y.key){case"ArrowDown":y.preventDefault(),a(!0),i(v=>Math.min(v+1,k.length-1)),d();break;case"ArrowUp":y.preventDefault(),a(!0),i(v=>Math.max(v-1,0)),d();break;case"Enter":{y.preventDefault();const v=k[s()];v&&e.onReplay&&e.onReplay(v);break}case"Backspace":case"Delete":{y.preventDefault();const v=k[s()];v&&(e.store.actions.removeEntry(v.id),s()>=k.length-1&&i(x=>Math.max(x-1,0)));break}}};Qe(()=>{e.open?window.addEventListener("keydown",u):window.removeEventListener("keydown",u),He(()=>window.removeEventListener("keydown",u))});const d=()=>{requestAnimationFrame(()=>{l?.querySelector('[data-selected="true"]')?.scrollIntoView({block:"nearest",behavior:"smooth"})})},f=()=>{a(!1)},m=y=>{const k=new Date(y),v=new Date().getTime()-k.getTime(),x=Math.floor(v/6e4),S=Math.floor(v/36e5),E=Math.floor(v/864e5);return x<1?t("history.justNow"):x<60?t("history.minutesAgo",{minutes:x}):S<24?t("history.hoursAgo",{hours:S}):E<7?t("history.daysAgo",{days:E}):k.toLocaleDateString()},b=y=>jv(y.response?.status,!!y.error),g=y=>({get:{bg:"bg-gradient-to-r from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/20"},post:{bg:"bg-gradient-to-r from-blue-500 to-blue-600",shadow:"shadow-blue-500/20"},put:{bg:"bg-gradient-to-r from-amber-500 to-amber-600",shadow:"shadow-amber-500/20"},patch:{bg:"bg-gradient-to-r from-violet-500 to-violet-600",shadow:"shadow-violet-500/20"},delete:{bg:"bg-gradient-to-r from-rose-500 to-rose-600",shadow:"shadow-rose-500/20"},grpc:{bg:"bg-gradient-to-r from-indigo-500 to-purple-600",shadow:"shadow-indigo-500/20"}})[y.toLowerCase()]||{bg:"bg-gradient-to-r from-gray-500 to-gray-600",shadow:"shadow-gray-500/20"},p=async()=>{n()?(await e.store.actions.clearHistory(),r(!1),i(0),c&&(clearTimeout(c),c=void 0)):(r(!0),c&&clearTimeout(c),c=setTimeout(()=>{r(!1),c=void 0},3e3))},w=async()=>{const y=await e.store.actions.exportHistory(),k=new Blob([y],{type:"application/json"}),v=URL.createObjectURL(k),x=document.createElement("a");x.href=v,x.download=`wti-history-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(v)},h=()=>{const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=async k=>{const v=k.target;if(!(v instanceof HTMLInputElement))return;const x=v.files?.[0];if(x){const S=await x.text();e.store.actions.importHistory(S)}},y.click()};return A(Hf,{get open(){return e.open},get onClose(){return e.onClose},get title(){return t("history.title")},position:"right",size:"lg",noPadding:!0,get children(){var y=_x(),k=y.firstChild,v=k.firstChild,x=v.firstChild,S=x.nextSibling,E=v.nextSibling,C=k.nextSibling;x.$$click=w,$(x,()=>t("history.export")),S.$$click=h,$(S,()=>t("history.import")),E.$$click=p,$(E,(()=>{var j=Oe(()=>!!n());return()=>j()?t("history.confirmClear"):t("history.clearAll")})()),C.$$mousemove=f;var M=l;return typeof M=="function"?Bn(M,C):l=C,$(C,A(K,{get when(){return e.store.state.entries.length>0},get fallback(){return(()=>{var j=$x(),D=j.firstChild,z=D.nextSibling;return $(z,()=>t("history.empty")),j})()},get children(){var j=Sx();return $(j,A(Te,{get each(){return e.store.state.entries},children:(D,z)=>{const H=g(D.operationMethod),W=()=>o()&&s()===z();return(()=>{var re=Cx(),le=re.firstChild,G=le.firstChild,ne=G.nextSibling,q=ne.nextSibling,O=q.firstChild,F=O.firstChild,P=O.nextSibling,_=P.firstChild,T=q.nextSibling,B=T.firstChild;return re.addEventListener("mouseenter",()=>{o()||i(z())}),$(ne,()=>D.operationMethod.toUpperCase()),$(F,()=>D.operationPath),$(_,()=>m(D.timestamp)),$(P,A(K,{get when(){return D.response},keyed:!0,children:V=>[Dh(),(()=>{var Y=Nx();return $(Y,()=>V.status),ee(()=>se(Y,`font-bold ${Bv(V.status)}`)),Y})(),Dh(),(()=>{var Y=Ox(),ce=Y.firstChild;return $(Y,()=>Math.round(V.timing.duration),ce),Y})()]}),null),$(q,A(K,{get when(){return D.error},get children(){var V=Ax();return $(V,()=>D.error),V}}),null),$(T,A(K,{get when(){return e.onReplay},get children(){var V=Tx();return V.$$click=Y=>{Y.stopPropagation(),e.onReplay?.(D)},ee(()=>ae(V,"title",t("history.replay"))),V}}),B),B.$$click=V=>{V.stopPropagation(),e.store.actions.removeEntry(D.id)},ee(V=>{var Y=W(),ce=`px-4 py-3 transition-all duration-200 ${W()?"glass-active scale-[1.01]":"hover:bg-white/40 dark:hover:bg-white/5 hover:shadow-sm"}`,ie=`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${b(D)}`,I=`${H.bg} text-white text-[0.625rem] font-bold uppercase w-12 py-1 rounded-md shadow-sm ${H.shadow} flex-shrink-0 text-center`,R=t("history.delete");return Y!==V.e&&ae(re,"data-selected",V.e=Y),ce!==V.t&&se(re,V.t=ce),ie!==V.a&&se(G,V.a=ie),I!==V.o&&se(ne,V.o=I),R!==V.i&&ae(B,"title",V.i=R),V},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),re})()}})),j}})),$(y,A(K,{get when(){return e.store.state.entries.length>0},get children(){var j=Ex(),D=j.firstChild,z=D.firstChild,H=z.firstChild,W=H.nextSibling,re=z.nextSibling,le=re.firstChild,G=le.nextSibling,ne=re.nextSibling,q=ne.firstChild,O=q.nextSibling;return $(W,()=>t("history.navigate")),$(G,()=>t("history.replay")),$(O,()=>t("history.delete")),j}}),null),ee(()=>se(E,`px-3 py-1.5 text-xs font-bold rounded-lg transition-colors ${n()?"bg-red-500 text-white":"glass-button text-surface-700 dark:text-surface-400 hover:text-red-600 dark:hover:text-red-400"}`)),y}})};he(["click","mousemove"]);function Px(e=2e3){const[t,n]=X(!1);let r;return{copied:t,copy:async s=>{try{return await navigator.clipboard.writeText(s),n(!0),r&&clearTimeout(r),r=setTimeout(()=>{n(!1),r=void 0},e),!0}catch{return!1}}}}function es(e,t){return()=>{const n=e.actions.getAuthByType(t);return n?.type===t?n:void 0}}function Sl(e){if(!e.type)return{};switch(e.type){case"object":if(e.properties){const t={};for(const[n,r]of Object.entries(e.properties))t[n]=Sl(r);return t}return{};case"array":return e.items?[Sl(e.items)]:[];case"string":return"string";case"number":case"integer":return 0;case"boolean":return!0;default:return null}}function Lx(e){const{operation:t,initialValues:n,onInitialValuesConsumed:r}=e,[s,i]=X({}),[o,a]=X({}),[l,c]=X({}),[u,d]=X(""),[f,m]=X("form"),[b,g]=X({}),p=ye(()=>$0(t())),w=ye(()=>{const E=t().requestBody;return!!E&&Object.keys(E.content).length>0}),h=ye(()=>{const E=p(),C=t();return!E||!C.requestBody?.content[E]?.schema?null:C.requestBody.content[E].schema}),y=ye(()=>{const E=h();return E?!!(E.properties&&Object.keys(E.properties).length>0||E.type==="object"||E.type==="array"&&E.items):!1}),k=()=>f()==="form"?b():Kf(u()),v=()=>({path:s(),query:o(),headers:l(),body:k(),contentType:p()}),x=()=>{f()==="form"&&d(JSON.stringify(b(),null,2)),m("json")},S=()=>{if(f()==="json"){const E=Kf(u());g(E??{})}m("form")};return(E=>{const C=t();if(E){if(E.path&&i(E.path),E.query&&a(E.query),E.headers&&c(E.headers),E.body!==void 0){const D=E.body;typeof D=="object"&&D!==null?(d(JSON.stringify(D,null,2)),g(D)):typeof D=="string"&&d(D)}return}const M=E0(C);M.path&&i(M.path),M.query&&a(M.query),M.headers&&c(M.headers);const j=p();if(w()&&j){const D=C.requestBody?.content[j];let z=null;D?.example?z=D.example:D?.schema&&(z=Sl(D.schema)),z&&(d(JSON.stringify(z,null,2)),typeof z=="object"&&z!==null&&g(z))}})(n),n&&r?.(),{pathParams:s,queryParams:o,headerParams:l,body:u,bodyMode:f,bodyFormData:b,setPathParams:i,setQueryParams:a,setHeaderParams:c,setBody:d,setBodyFormData:g,contentType:p,bodySchema:h,canUseFormMode:y,hasRequestBody:w,getRequestValues:v,switchToJsonMode:x,switchToFormMode:S}}var Rx=L('<svg class="w-4 h-4 text-emerald-500"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),Dx=L('<div class="glass-card rounded-2xl overflow-hidden"><div class="flex items-center justify-between p-4 border-b border-surface-200/50 dark:border-surface-700/50"><button type=button class="flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-surface-50 glass-button rounded-lg transition-all">'),Mx=L('<svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),jx=L('<div class="p-4 text-surface-500">Failed to generate code');const Bx=ly(),Fx=e=>{switch(e){case"curl":return"bash";case"javascript":return"javascript";case"python":return"python";case"go":return"go";default:return"plaintext"}},qx=e=>{const{t}=Re(),[n,r]=X("curl"),{copied:s,copy:i}=Px(),o=ye(()=>{try{return cy(n(),e.request)}catch{return null}});return(()=>{var a=Dx(),l=a.firstChild,c=l.firstChild;return $(l,A(Xa,{get value(){return n()},onChange:u=>r(u),get options(){return Bx.map(u=>({value:u.language,label:u.displayName}))}}),c),c.$$click=()=>{const u=o();u&&i(u.code)},$(c,A(K,{get when(){return s()},get fallback(){return[Mx(),Oe(()=>t("common.copy"))]},get children(){return[Rx(),Oe(()=>t("common.copied"))]}})),$(a,A(K,{get when(){return o()},get fallback(){return jx()},children:u=>A(uh,{get code(){return u().code},get language(){return Fx(u().language)},hideCopyButton:!0,maxHeight:"25rem"})}),null),a})()};he(["click"]);var Ux=L('<div class="mt-3 md:mt-4"><button type=button class="flex items-center gap-2 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors"><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M9 5l7 7-7 7">'),Kx=L("<div class=mt-3>");const zx=e=>{const{t}=Re();return(()=>{var n=Ux(),r=n.firstChild,s=r.firstChild;return ut(r,"click",e.onToggle,!0),$(r,()=>t("codegen.title"),null),$(n,A(K,{get when(){return Oe(()=>!!e.show)()&&e.config},keyed:!0,children:i=>(()=>{var o=Kx();return $(o,A(qx,{request:i})),o})()}),null),ee(()=>ae(s,"class",`w-3.5 h-3.5 transition-transform ${e.show?"rotate-90":""}`)),n})()};he(["click"]);var Vx=L('<svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1">'),Hx=L('<h2 class="text-lg font-bold text-surface-900 dark:text-surface-50 mb-2 leading-snug">'),Gx=L('<span class="inline-flex items-center gap-1 px-2.5 py-1 bg-red-500/15 dark:bg-red-500/20 text-red-600 dark:text-red-400 text-xs font-semibold rounded-full"><svg class="w-3.5 h-3.5"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">'),Wx=L('<div class="mb-4 md:mb-5"><div class="flex items-start gap-3 mb-2"><span></span><div class="flex-1 min-w-0 pt-0.5 flex items-center gap-2"><code class="text-base font-mono text-surface-900 dark:text-surface-100 break-all leading-normal font-bold"></code><button type=button class="flex-shrink-0 p-2 rounded-xl text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors"></button></div></div><div class="flex flex-wrap items-center gap-1.5 mt-2">'),Jx=L('<svg class="w-4 h-4 text-emerald-500"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),Yx=L('<span class="px-2.5 py-1 glass-button text-surface-800 dark:text-surface-300 text-xs font-bold rounded-full capitalize">');const Qx={get:{bg:"from-emerald-500 to-green-600",glow:"shadow-emerald-500/20"},post:{bg:"from-blue-500 to-indigo-600",glow:"shadow-blue-500/20"},put:{bg:"from-amber-500 to-orange-600",glow:"shadow-amber-500/20"},patch:{bg:"from-violet-500 to-purple-600",glow:"shadow-violet-500/20"},delete:{bg:"from-rose-500 to-red-600",glow:"shadow-rose-500/20"},head:{bg:"from-cyan-500 to-teal-600",glow:"shadow-cyan-500/20"},options:{bg:"from-gray-500 to-slate-600",glow:"shadow-gray-500/20"},grpc:{bg:"from-indigo-500 to-purple-600",glow:"shadow-indigo-500/20"}},Xx={bg:"from-gray-500 to-slate-600",glow:"shadow-gray-500/20"},Zx=e=>{const{t}=Re(),n=()=>Qx[e.operation.method.toLowerCase()]||Xx,[r,s]=X(!1),i=async()=>{await Dv(e.operation.id)&&(s(!0),setTimeout(()=>s(!1),2e3))};return(()=>{var o=Wx(),a=o.firstChild,l=a.firstChild,c=l.nextSibling,u=c.firstChild,d=u.nextSibling,f=a.nextSibling;return $(l,()=>e.operation.method),$(u,()=>e.operation.path),d.$$click=i,$(d,A(K,{get when(){return!r()},get fallback(){return Jx()},get children(){return Vx()}})),$(o,A(K,{get when(){return e.operation.summary},get children(){var m=Hx();return $(m,()=>e.operation.summary),m}}),f),$(o,A(K,{get when(){return e.operation.description},get children(){return A(Ch,{get content(){return e.operation.description},class:"max-w-3xl"})}}),f),$(f,A(K,{get when(){return e.operation.deprecated},get children(){var m=Gx();return m.firstChild,$(m,()=>t("common.deprecated"),null),m}}),null),$(f,A(K,{get when(){return e.operation.tags.length>0},get children(){return A(Te,{get each(){return e.operation.tags},children:m=>(()=>{var b=Yx();return $(b,m),b})()})}}),null),ee(m=>{var b=`bg-gradient-to-r ${n().bg} text-white text-xs font-bold uppercase min-w-[4.375rem] py-1.5 rounded-xl shadow-md ${n().glow} flex items-center justify-center`,g=t("common.copyLink");return b!==m.e&&se(l,m.e=b),g!==m.t&&ae(d,"title",m.t=g),m},{e:void 0,t:void 0}),o})()};he(["click"]);var eS=L("<option value>-- Select --"),tS=L("<option>"),nS=L('<div class="flex items-center">'),rS=L('<span class="text-rose-600 dark:text-rose-500 text-xs font-bold px-1.5 py-0.5 rounded bg-rose-50 dark:bg-rose-900/20">req'),sS=L('<span class="text-surface-500 dark:text-surface-500 italic font-medium">enum'),iS=L('<div class="mt-2 text-[0.625rem] font-mono font-medium text-surface-600 dark:text-surface-500 bg-surface-50 dark:bg-surface-800/50 px-2 py-1 rounded w-fit">'),oS=L('<div class="mt-2 flex items-start gap-1.5 text-rose-500 dark:text-rose-400"><svg class="w-3.5 h-3.5 mt-0.5 flex-shrink-0"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div class="text-xs space-y-0.5">'),aS=L('<div class="flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4 md:gap-6 lg:gap-8 p-3 sm:p-4 rounded-2xl hover:bg-black/5 dark:hover:bg-white/5 transition-colors"><div class="sm:w-2/5 md:w-1/3 min-w-0"><div class="flex items-center gap-2 mb-1"><span class="font-mono text-sm font-bold text-gray-900 dark:text-white break-all"></span></div><div class="flex items-center gap-2 text-xs mb-2"><span></span><span class="text-surface-600 dark:text-surface-400 font-mono font-medium"></span></div></div><div class="flex-1 w-full sm:w-auto">'),lS=L("<p>");const El=e=>{const{t}=Re(),n={path:{label:t("operations.path"),color:"text-violet-700 dark:text-violet-400"},query:{label:t("operations.query"),color:"text-blue-700 dark:text-blue-400"},header:{label:t("operations.headers"),color:"text-amber-700 dark:text-amber-400"},cookie:{label:t("operations.cookie"),color:"text-surface-700 dark:text-surface-400"}},r=()=>n[e.param.in]||n.cookie,s=()=>e.param.schema.type||"string",i=()=>e.param.schema.enum&&e.param.schema.enum.length>0,o=m=>{const b=m.params;switch(m.keyword){case"required":return t("validation.required");case"type":return t("validation.type",{type:String(b.type??"")});case"minLength":return t("validation.minLength",{limit:String(b.limit??"")});case"maxLength":return t("validation.maxLength",{limit:String(b.limit??"")});case"minimum":return t("validation.minimum",{limit:String(b.limit??"")});case"maximum":return t("validation.maximum",{limit:String(b.limit??"")});case"exclusiveMinimum":return t("validation.exclusiveMinimum",{limit:String(b.limit??"")});case"exclusiveMaximum":return t("validation.exclusiveMaximum",{limit:String(b.limit??"")});case"multipleOf":return t("validation.multipleOf",{value:String(b.multipleOf??"")});case"pattern":return t("validation.pattern",{pattern:String(b.pattern??"")});case"enum":return t("validation.enum",{values:b.allowedValues?.join(", ")||""});case"const":return t("validation.const",{value:JSON.stringify(b.allowedValue)});case"minItems":return t("validation.minItems",{limit:String(b.limit??"")});case"maxItems":return t("validation.maxItems",{limit:String(b.limit??"")});case"uniqueItems":return t("validation.uniqueItems");case"format":return t("validation.format",{format:String(b.format??"")});default:return m.message}},a=ye(()=>ub(e.value,e.param.schema,e.param.required)),l=ye(()=>a().errors.map(o)),c=()=>a().errors.length>0,u=()=>c()?"border-rose-400 dark:border-rose-500":"",d=()=>i()?A(zr,{get value(){return e.value},get onChange(){return e.onChange},get class(){return u()},get children(){return[eS(),A(Te,{get each(){return e.param.schema.enum},children:m=>(()=>{var b=tS();return $(b,()=>String(m)),ee(()=>b.value=String(m)),b})()})]}}):s()==="boolean"?(()=>{var m=nS();return $(m,A(zf,{get checked(){return e.value==="true"},onChange:b=>e.onChange(b?"true":"false"),get label(){return e.value==="true"?"true":"false"}})),m})():s()==="number"||s()==="integer"?A(Ct,{type:"number",get value(){return e.value},get onInput(){return e.onChange},get placeholder(){return e.param.schema.default?.toString()||"0"},get class(){return u()}}):A(Ct,{get value(){return e.value},get onInput(){return e.onChange},get placeholder(){return e.param.schema.default?.toString()||e.param.name},get class(){return u()}}),f=ye(()=>{const m=[],b=e.param.schema;return b.minLength!==void 0&&m.push(`min: ${b.minLength}`),b.maxLength!==void 0&&m.push(`max: ${b.maxLength}`),b.minimum!==void 0&&m.push(`>= ${b.minimum}`),b.maximum!==void 0&&m.push(`<= ${b.maximum}`),b.pattern&&m.push("pattern"),m.length>0?m.join(", "):null});return(()=>{var m=aS(),b=m.firstChild,g=b.firstChild,p=g.firstChild,w=g.nextSibling,h=w.firstChild,y=h.nextSibling,k=b.nextSibling;return $(p,()=>e.param.name),$(g,A(K,{get when(){return e.param.required},get children(){return rS()}}),null),$(h,()=>r().label),$(y,s),$(w,A(K,{get when(){return i()},get children(){return sS()}}),null),$(b,A(K,{get when(){return e.param.description},get children(){return A(Ch,{get content(){return e.param.description},class:"text-xs text-surface-700 dark:text-surface-400 leading-relaxed font-medium"})}}),null),$(b,A(K,{get when(){return f()},get children(){var v=iS();return $(v,f),v}}),null),$(k,d,null),$(k,A(K,{get when(){return c()},get children(){var v=oS(),x=v.firstChild,S=x.nextSibling;return $(S,A(Te,{get each(){return l()},children:E=>(()=>{var C=lS();return $(C,E),C})()})),v}}),null),ee(()=>se(h,`font-bold px-1.5 py-0.5 rounded bg-surface-100 dark:bg-surface-800 ${r().color}`)),m})()};var cS=L('<div class="border-t border-gray-200 dark:border-white/5 overflow-x-auto"><table class="w-full text-sm min-w-[25rem]"><thead><tr class="bg-surface-50/50 dark:bg-white/[0.02]"><th class="px-3 sm:px-5 py-2 sm:py-2.5 text-left text-[0.625rem] sm:text-xs font-bold text-surface-600 dark:text-surface-400 uppercase tracking-wider w-1/3">Name</th><th class="px-3 sm:px-5 py-2 sm:py-2.5 text-left text-[0.625rem] sm:text-xs font-bold text-surface-600 dark:text-surface-400 uppercase tracking-wider">Value</th></tr></thead><tbody class="divide-y divide-surface-100/80 dark:divide-white/5">'),uS=L('<div class="mt-4 glass-card rounded-xl overflow-hidden"><button type=button class="w-full flex items-center justify-between px-5 py-3.5 hover:bg-black/[0.02] dark:hover:bg-white/[0.02] transition-colors"><div class="flex items-center gap-2.5"><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M9 5l7 7-7 7"></path></svg><span class="text-sm font-bold text-surface-800 dark:text-surface-200"></span><span class="px-2 py-0.5 text-xs font-bold text-surface-700 dark:text-surface-400 bg-surface-100/80 dark:bg-white/5 rounded-md"></span></div><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M19 9l-7 7-7-7">'),dS=L('<tr class="hover:bg-surface-50/50 dark:hover:bg-white/[0.02] transition-colors"><td class="px-3 sm:px-5 py-2.5 sm:py-3 font-mono text-[0.6875rem] sm:text-xs font-bold text-surface-800 dark:text-surface-300 break-all"></td><td class="px-3 sm:px-5 py-2.5 sm:py-3 font-mono text-[0.6875rem] sm:text-xs font-medium text-surface-700 dark:text-surface-400 break-all">');const fS=e=>{const{t}=Re(),[n,r]=X(!0),s=()=>Object.entries(e.headers),i=()=>s().length,o=()=>i()>0;return A(K,{get when(){return o()},get children(){var a=uS(),l=a.firstChild,c=l.firstChild,u=c.firstChild,d=u.nextSibling,f=d.nextSibling,m=c.nextSibling;return l.$$click=()=>r(!n()),$(d,()=>t("response.headers")),$(f,i),$(a,A(K,{get when(){return n()},get children(){var b=cS(),g=b.firstChild,p=g.firstChild,w=p.nextSibling;return $(w,A(Te,{get each(){return s()},children:([h,y])=>(()=>{var k=dS(),v=k.firstChild,x=v.nextSibling;return $(v,h),$(x,y),k})()})),b}}),null),ee(b=>{var g=`w-4 h-4 text-surface-600 dark:text-surface-400 transition-transform duration-200 ${n()?"rotate-90":""}`,p=`w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${n()?"rotate-180":""}`;return g!==b.e&&ae(u,"class",b.e=g),p!==b.t&&ae(m,"class",b.t=p),b},{e:void 0,t:void 0}),a}})};he(["click"]);var hS=L('<div class="glass-card rounded-2xl overflow-hidden mt-2">'),pS=L("<div class=mt-2>"),mS=L('<svg class="w-5 h-5 sm:w-4 sm:h-4 text-emerald-500"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">'),gS=L('<span class="hidden sm:inline text-emerald-600 dark:text-emerald-400">'),yS=L('<div class="mt-4 md:mt-6 animate-in fade-in slide-in-from-bottom-4 duration-500"><div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-2 sm:mb-3"><div class="flex flex-wrap items-center gap-2 sm:gap-4"><span> </span><div class="flex items-center gap-2 text-xs sm:text-sm text-surface-700 dark:text-surface-400 font-bold glass-button px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg sm:rounded-xl"><svg class="w-3.5 h-3.5 sm:w-4 sm:h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>ms</div></div><button type=button class="flex items-center justify-center gap-2 p-2 sm:px-4 sm:py-2 text-sm font-bold text-surface-800 dark:text-surface-300 hover:text-surface-950 dark:hover:text-white glass-button rounded-xl transition-all">'),bS=L('<svg class="w-5 h-5 sm:w-4 sm:h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),vS=L('<span class="hidden sm:inline">');const wS=2e3,kS=e=>{const{t}=Re(),[n,r]=X(!1),s=async()=>{const l=typeof e.response.body=="object"?JSON.stringify(e.response.body,null,2):e.response.bodyText;try{await navigator.clipboard.writeText(l),r(!0),setTimeout(()=>r(!1),wS)}catch{}},i=()=>Mv(e.response.status),o=()=>typeof e.response.body=="object"&&e.response.body!==null,a=()=>[{id:"body",label:"Response Body",content:(()=>{var l=hS();return $(l,(()=>{var c=Oe(()=>!!o());return()=>c()?A(bk,{get data(){return e.response.body},initialExpandDepth:3,maxHeight:"none"}):A(uh,{get code(){return e.response.bodyText},language:"json"})})()),l})()},{id:"headers",label:"Headers",badge:Object.keys(e.response.headers).length,content:(()=>{var l=pS();return $(l,A(fS,{get headers(){return e.response.headers}})),l})()}];return(()=>{var l=yS(),c=l.firstChild,u=c.firstChild,d=u.firstChild,f=d.firstChild,m=d.nextSibling,b=m.firstChild,g=b.nextSibling,p=u.nextSibling;return $(d,()=>e.response.status,f),$(d,()=>e.response.statusText,null),$(m,()=>Math.round(e.response.timing.duration),g),p.$$click=s,$(p,A(K,{get when(){return n()},get fallback(){return[bS(),(()=>{var w=vS();return $(w,()=>t("common.copy")),w})()]},get children(){return[mS(),(()=>{var w=gS();return $(w,()=>t("common.copied")),w})()]}})),$(l,A(vw,{get items(){return a()}}),null),ee(w=>{var h=`px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl text-sm sm:text-base font-bold shadow-sm ${i().bg} ${i().text}`,y=n()?t("common.copied"):t("common.copy");return h!==w.e&&se(d,w.e=h),y!==w.t&&ae(p,"aria-label",w.t=y),w},{e:void 0,t:void 0}),l})()};he(["click"]);var xS=L("<div class=space-y-4>"),SS=L("<div class=mb-4>"),ES=L('<div class=relative><div class="absolute top-3 right-3"><span class="text-[0.625rem] font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider">JSON'),_S=L('<svg class="w-5 h-5"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2.5 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3">'),$S=L('<div class="p-3 sm:p-4 md:p-5 lg:p-6 w-full lg:max-w-5xl mx-auto"><div class="mt-4 md:mt-6 lg:mt-8">');const AS=e=>{const{t}=Re(),n=Lx({operation:()=>e.operation,initialValues:e.initialValues,onInitialValuesConsumed:e.onInitialValuesConsumed}),[r,s]=X(!1),[i,o]=X(null),[a,l]=X(null),[c,u]=X(!0),d=ye(()=>{const b={path:[],query:[],header:[],cookie:[]};for(const g of e.operation.parameters)b[g.in].push(g);return b}),f=ye(()=>{try{return Cu(e.operation,n.getRequestValues(),{server:e.server,serverVariables:e.serverVariables})}catch{return null}}),m=async()=>{s(!0),l(null),o(null);let b=null;try{const g=await e.authStore?.actions.getActiveAuthWithAutoRefresh();b=Cu(e.operation,n.getRequestValues(),{server:e.server,serverVariables:e.serverVariables,auth:g});const p=await g0(b);o(p),e.historyStore?.actions.addEntry({operationId:e.operation.id,operationPath:e.operation.path,operationMethod:e.operation.method,request:b,requestValues:n.getRequestValues(),response:p})}catch(g){const p=g instanceof Error?g.message:"Request failed";l(p),b&&e.historyStore?.actions.addEntry({operationId:e.operation.id,operationPath:e.operation.path,operationMethod:e.operation.method,request:b,requestValues:n.getRequestValues(),error:p})}finally{s(!1)}};return(()=>{var b=$S(),g=b.firstChild;return $(b,A(Zx,{get operation(){return e.operation}}),g),$(b,A(K,{get when(){return e.operation.parameters.length>0},get children(){return A(Nh,{get title(){return t("operations.parameters")},get children(){var p=xS();return $(p,A(Te,{get each(){return d().path},children:w=>A(El,{param:w,get value(){return n.pathParams()[w.name]||""},onChange:h=>n.setPathParams(y=>({...y,[w.name]:h}))})}),null),$(p,A(Te,{get each(){return d().query},children:w=>A(El,{param:w,get value(){return n.queryParams()[w.name]||""},onChange:h=>n.setQueryParams(y=>({...y,[w.name]:h}))})}),null),$(p,A(Te,{get each(){return d().header},children:w=>A(El,{param:w,get value(){return n.headerParams()[w.name]||""},onChange:h=>n.setHeaderParams(y=>({...y,[w.name]:h}))})}),null),p}})}}),g),$(b,A(K,{get when(){return n.hasRequestBody()},get children(){return A(Nh,{get title(){return t("operations.requestBody")},get children(){return[A(K,{get when(){return n.canUseFormMode()},get children(){var p=SS();return $(p,A(Xa,{get value(){return n.bodyMode()},onChange:w=>w==="json"?n.switchToJsonMode():n.switchToFormMode(),get options(){return[{value:"json",label:t("operations.jsonMode")},{value:"form",label:t("operations.formMode")}]}})),p}}),A(K,{get when(){return n.bodyMode()==="json"},get children(){var p=ES(),w=p.firstChild;return $(p,A(Qa,{get value(){return n.body()},get onInput(){return n.setBody},placeholder:"{}",class:"h-64 font-mono"}),w),p}}),A(K,{get when(){return Oe(()=>n.bodyMode()==="form")()&&n.bodySchema()},keyed:!0,children:p=>A(so,{schema:p,get value(){return n.bodyFormData()},onChange:w=>{Array.isArray(w)?n.setBodyFormData(w):n.setBodyFormData(w||{})}})})]}})}}),g),$(b,A(zx,{get show(){return c()},onToggle:()=>u(!c()),get config(){return f()}}),g),$(g,A(Tn,{onClick:m,get loading(){return r()},class:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-3.5 text-base",get children(){return[Oe(()=>t("common.send")),_S()]}})),$(b,A(K,{get when(){return a()},keyed:!0,children:p=>A(sx,{message:p})}),null),$(b,A(K,{get when(){return i()},keyed:!0,children:p=>A(kS,{response:p})}),null),b})()};var TS=L('<div class="flex gap-1.5">');const io=e=>{const{t}=Re();return(()=>{var n=TS();return $(n,A(Tn,{get onClick(){return e.onAuthorize},class:"flex-1 px-3 py-1.5 text-xs",get children(){return t("auth.authorize")}}),null),$(n,A(K,{get when(){return e.isAuthorized()},get children(){return A(Tn,{get onClick(){return e.onLogout},variant:"secondary",class:"px-3 py-1.5 text-xs",get children(){return t("auth.logout")}})}}),null),n})()};var CS=L('<div><label class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">');const ts=e=>(()=>{var t=CS(),n=t.firstChild;return $(n,()=>e.label),$(t,A(Ct,{get id(){return e.id},get type(){return e.type??"text"},get value(){return e.value},get onInput(){return e.onInput},get placeholder(){return e.placeholder}}),null),$(t,()=>e.hint,null),ee(()=>ae(n,"for",e.id)),t})();var NS=L('<div><label for=auth-apikey-scheme class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">Scheme'),OS=L("<div class=space-y-3>"),IS=L("<option> (<!>)");const PS=e=>{const{t}=Re(),n=es(e.authStore,"apiKey"),r=()=>{const u=[];for(const[d,f]of Object.entries(e.securitySchemes))f.type==="apiKey"&&f.in&&u.push({name:f.name||d,in:f.in});return u.length===0&&u.push({name:"X-API-Key",in:"header"}),u},[s,i]=X(r()[0]?.name||"X-API-Key"),[o,a]=X(""),l=()=>{const u=r().find(d=>d.name===s());u&&o()&&e.authStore.actions.setApiKey(u.name,o(),u.in)},c=()=>{e.authStore.actions.clearAuth(s()),a("")};return(()=>{var u=OS();return $(u,A(K,{get when(){return r().length>1},get children(){var d=NS();return d.firstChild,$(d,A(zr,{id:"auth-apikey-scheme",get value(){return s()},onChange:i,get children(){return A(Te,{get each(){return r()},children:f=>(()=>{var m=IS(),b=m.firstChild,g=b.nextSibling;return g.nextSibling,$(m,()=>f.name,b),$(m,()=>f.in,g),ee(()=>m.value=f.name),m})()})}}),null),d}}),null),$(u,A(ts,{id:"auth-apikey-value",get label(){return t("auth.apiKey")},type:"password",get value(){return n()?.value||o()},onInput:a,placeholder:"Enter API key..."}),null),$(u,A(io,{onAuthorize:l,onLogout:c,isAuthorized:()=>!!n()}),null),u})()};var LS=L("<div class=space-y-3>");const RS=e=>{const{t}=Re(),n=es(e.authStore,"basic"),[r,s]=X(""),[i,o]=X(""),a=()=>{r()&&e.authStore.actions.setBasicAuth(r(),i())},l=()=>{e.authStore.actions.clearAuth("basic"),s(""),o("")};return(()=>{var c=LS();return $(c,A(ts,{id:"auth-basic-username",get label(){return t("auth.username")},type:"text",get value(){return n()?.username||r()},onInput:s,placeholder:"Enter username..."}),null),$(c,A(ts,{id:"auth-basic-password",get label(){return t("auth.password")},type:"password",get value(){return n()?.password||i()},onInput:o,placeholder:"Enter password..."}),null),$(c,A(io,{onAuthorize:a,onLogout:l,isAuthorized:()=>!!n()}),null),c})()};var DS=L("<div class=space-y-3>");const MS=e=>{const{t}=Re(),n=es(e.authStore,"bearer"),[r,s]=X(""),i=()=>{r()&&e.authStore.actions.setBearerToken(r())},o=()=>{e.authStore.actions.clearAuth("bearer"),s("")};return(()=>{var a=DS();return $(a,A(ts,{id:"auth-bearer-token",get label(){return t("auth.token")},type:"password",get value(){return n()?.token||r()},onInput:s,placeholder:"Enter bearer token..."}),null),$(a,A(io,{onAuthorize:i,onLogout:o,isAuthorized:()=>!!n()}),null),a})()};var jS=L("<div class=space-y-3>"),BS=L('<p class="text-xs text-surface-400 dark:text-surface-500 mt-1">Paste your OAuth2 access token obtained from your identity provider');const FS=e=>{const{t}=Re(),n=es(e.authStore,"oauth2"),[r,s]=X(""),i=()=>{r()&&e.authStore.actions.setOAuth2Token(r())},o=()=>{e.authStore.actions.clearAuth("oauth2"),s("")};return(()=>{var a=jS();return $(a,A(ts,{id:"auth-oauth2-token",get label(){return t("auth.token")},type:"password",get value(){return n()?.accessToken||r()},onInput:s,placeholder:"Enter access token...",get hint(){return BS()}}),null),$(a,A(io,{onAuthorize:i,onLogout:o,isAuthorized:()=>!!n()}),null),a})()},Mh=new Map,qS=300*1e3,_l="wti-oidc-state";function jh(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=crypto.getRandomValues(new Uint8Array(e));return Array.from(n).map(r=>t[r%t.length]).join("")}function US(){return jh(64)}async function KS(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(e){const t=Mh.get(e);if(t&&Date.now()-t.fetchedAt<qS)return t;const n=`${e.replace(/\/$/,"")}/.well-known/openid-configuration`,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch OIDC discovery document: ${r.status}`);const s=await r.json();if(!s.authorization_endpoint||!s.token_endpoint)throw new Error("OIDC discovery document missing required endpoints");const i={issuer:s.issuer||e,authorizationEndpoint:s.authorization_endpoint,tokenEndpoint:s.token_endpoint,scopesSupported:Array.isArray(s.scopes_supported)?s.scopes_supported:void 0,fetchedAt:Date.now()};return Mh.set(e,i),i}async function Bh(e){return(await oo(e)).tokenEndpoint}function zS(e){sessionStorage.setItem(_l,JSON.stringify(e))}function VS(){const e=sessionStorage.getItem(_l);if(!e)return null;sessionStorage.removeItem(_l);try{return JSON.parse(e)}catch{return null}}function Fh(e,t){if(!e||typeof e!="object")throw new Error(`${t}: Invalid response - expected object`);const n=e;if(typeof n.access_token!="string"||!n.access_token)throw new Error(`${t}: Missing or invalid access_token in response`);if(n.refresh_token!==void 0&&typeof n.refresh_token!="string")throw new Error(`${t}: Invalid refresh_token type in response`);if(n.id_token!==void 0&&typeof n.id_token!="string")throw new Error(`${t}: Invalid id_token type in response`);if(n.expires_in!==void 0&&typeof n.expires_in!="number")throw new Error(`${t}: Invalid expires_in type in response`)}async function HS(e){if(!e.refreshToken)throw new Error("No refresh token available");const t=await Bh(e.issuerUrl),n=new URLSearchParams({grant_type:"refresh_token",refresh_token:e.refreshToken,client_id:e.clientId});e.clientSecret&&n.set("client_secret",e.clientSecret);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!r.ok){const i=await r.text();throw new Error(`Token refresh failed: ${r.status} - ${i}`)}const s=await r.json();return Fh(s,"Token refresh"),{accessToken:s.access_token,refreshToken:s.refresh_token||e.refreshToken,expiresAt:s.expires_in?Date.now()+s.expires_in*1e3:void 0,idToken:s.id_token}}async function GS(e){const t=await Bh(e.issuerUrl),n=new URLSearchParams({grant_type:"authorization_code",code:e.code,redirect_uri:e.redirectUri,client_id:e.clientId,code_verifier:e.codeVerifier});e.clientSecret&&n.set("client_secret",e.clientSecret);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!r.ok){const i=await r.text();throw new Error(`Token exchange failed: ${i}`)}const s=await r.json();return Fh(s,"Token exchange"),{accessToken:s.access_token,refreshToken:s.refresh_token,idToken:s.id_token,expiresAt:s.expires_in?Date.now()+s.expires_in*1e3:void 0,tokenType:s.token_type||"Bearer"}}function WS(e){const t=new URL(e.authorizationEndpoint);return t.searchParams.set("response_type","code"),t.searchParams.set("client_id",e.clientId),t.searchParams.set("redirect_uri",e.redirectUri),t.searchParams.set("scope",e.scopes.join(" ")),t.searchParams.set("state",e.state),t.searchParams.set("code_challenge",e.codeChallenge),t.searchParams.set("code_challenge_method","S256"),t.toString()}var JS=L('<div><label for=auth-openid-issuer class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">'),YS=L('<div><label for=auth-openid-client-id class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">'),QS=L('<div><label for=auth-openid-client-secret class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">'),XS=L('<div class=mt-2><p class="text-xs text-surface-500 dark:text-surface-400 mb-1.5"></p><div class="flex flex-wrap gap-1">'),ZS=L('<p class="text-xs text-surface-500 dark:text-surface-400 mt-1.5">'),e1=L('<div><label for=auth-openid-scopes class="block text-xs font-medium text-surface-600 dark:text-surface-300 mb-1.5">'),qh=L('<div class="p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"><p class="text-xs text-red-600 dark:text-red-400">'),t1=L('<div class="p-3 glass-card rounded-lg"><div class="flex items-center gap-2 mb-2"><span class="w-2 h-2 rounded-full bg-emerald-500"></span><p class="text-xs font-medium text-emerald-600 dark:text-emerald-400"></p></div><p class="text-xs text-surface-600 dark:text-surface-300 truncate"><span class=font-medium>:</span> </p><p class="text-xs text-surface-600 dark:text-surface-300 truncate mt-1"><span class=font-medium>:</span> '),n1=L('<div class="flex gap-2">'),r1=L("<div class=space-y-3>"),s1=L("<button type=button>"),i1=L("<div><p>");function o1(e){if(!e)return null;try{const t=e.split(".");if(t.length!==3)return null;const n=JSON.parse(atob(t[1].replace(/-/g,"+").replace(/_/g,"/")));return n.name||n.preferred_username||n.email||n.sub||null}catch{return null}}function a1(e){if(e){for(const t of Object.values(e))if(t.type==="openIdConnect"&&t.openIdConnectUrl)return t.openIdConnectUrl}}function l1(e){return e.replace(/\/?\.well-known\/openid-configuration\/?$/,"").replace(/\/$/,"")}const c1=e=>{const{t}=Re(),n=es(e.authStore,"openid"),[r,s]=X(""),[i,o]=X(""),[a,l]=X(""),[c,u]=X("openid profile email"),[d,f]=X(!1),[m,b]=X(!1),[g,p]=X(null),[w,h]=X(null),[y,k]=X(!1),v=()=>a1(e.securitySchemes);an(async()=>{const H=n();if(H?.issuerUrl){s(H.issuerUrl),H.clientId&&o(H.clientId),H.clientSecret&&l(H.clientSecret),H.scopes?.length&&u(H.scopes.join(" ")),k(!0);try{const re=await oo(H.issuerUrl);h(re)}catch{}finally{k(!1)}return}const W=v();if(W){const re=l1(W);s(re),k(!0);try{const le=await oo(re);if(h(le),le.scopesSupported){const G=["openid","profile","email"].filter(ne=>le.scopesSupported?.includes(ne));G.length>0&&u(G.join(" "))}}catch{}finally{k(!1)}}});const[x,S]=X(Date.now()),E=setInterval(()=>S(Date.now()),1e4);He(()=>clearInterval(E)),Qe(()=>{const H=n(),W=x();!H?.accessToken||!H?.refreshToken||!H?.expiresAt||H.expiresAt-W<=6e4&&!m()&&!e.authStore.actions.isRefreshInCooldown()&&(b(!0),e.authStore.actions.refreshOpenIdAuth().then(re=>{p(re?null:t("auth.refreshFailed"))}).catch(()=>{p(t("auth.refreshFailed"))}).finally(()=>{b(!1)}))});const C=()=>{const H=n();return H?.accessToken||H?.idToken},M=()=>{const H=n();if(!H?.expiresAt)return null;const W=x(),re=H.expiresAt;if(W>=re)return{status:"expired",text:t("auth.tokenExpired")};const le=re-W,G=Math.floor(le/6e4);if(G<5)return{status:"expiring",text:t("auth.tokenExpiringSoon",{minutes:G})};if(G<60)return{status:"valid",text:t("auth.tokenExpiresIn",{minutes:G})};const ne=Math.floor(G/60);return{status:"valid",text:t("auth.tokenExpiresInHours",{hours:ne})}},j=async()=>{const H=r(),W=i(),re=a(),le=c()||"openid profile email";if(!H||!W){p(t("auth.missingConfig"));return}f(!0),p(null);try{await e.authStore.actions.saveOpenIdClientConfig(H,W,{clientSecret:re||void 0,scopes:le.split(" ").filter(Boolean)}),await e.authStore.actions.startOpenIdLogin(H,W,{clientSecret:re||void 0,scopes:le.split(" ").filter(Boolean)})}catch(G){p(G instanceof Error?G.message:"Login failed"),f(!1)}},D=async()=>{b(!0);try{await e.authStore.actions.refreshOpenIdAuth()||p(t("auth.refreshFailed"))}catch(H){p(H instanceof Error?H.message:"Refresh failed")}finally{b(!1)}},z=()=>{e.authStore.actions.clearOpenIdAuth(),p(null)};return(()=>{var H=r1();return $(H,A(K,{get when(){return!C()},get children(){return[(()=>{var W=JS(),re=W.firstChild;return $(re,()=>t("auth.issuerUrl")),$(W,A(Ct,{id:"auth-openid-issuer",type:"text",get value(){return r()},onInput:s,placeholder:"https://accounts.example.com"}),null),W})(),(()=>{var W=YS(),re=W.firstChild;return $(re,()=>t("auth.clientId")),$(W,A(Ct,{id:"auth-openid-client-id",type:"text",get value(){return i()},onInput:o,placeholder:"your-client-id"}),null),W})(),(()=>{var W=QS(),re=W.firstChild;return $(re,()=>t("auth.clientSecret")),$(W,A(Ct,{id:"auth-openid-client-secret",type:"password",get value(){return a()},onInput:l,get placeholder(){return t("auth.clientSecretPlaceholder")}}),null),W})(),(()=>{var W=e1(),re=W.firstChild;return $(re,()=>t("auth.scopes")),$(W,A(Ct,{id:"auth-openid-scopes",type:"text",get value(){return c()},onInput:u,placeholder:"openid profile email"}),null),$(W,A(K,{get when(){return w()?.scopesSupported?.length},get children(){var le=XS(),G=le.firstChild,ne=G.nextSibling;return $(G,()=>t("auth.availableScopes")),$(ne,A(Te,{get each(){return w()?.scopesSupported},children:q=>{const O=()=>c().split(" ").includes(q),F=()=>{const P=c().split(" ").filter(Boolean);O()?u(P.filter(_=>_!==q).join(" ")):u([...P,q].join(" "))};return(()=>{var P=s1();return P.$$click=F,$(P,q),ee(()=>se(P,`px-2 py-0.5 text-xs rounded-full transition-colors ${O()?"bg-accent-500/20 text-accent-700 dark:text-accent-300 ring-1 ring-accent-500/30":"bg-surface-100 dark:bg-surface-700 text-surface-600 dark:text-surface-300 hover:bg-surface-200 dark:hover:bg-surface-600"}`)),P})()}})),le}}),null),$(W,A(K,{get when(){return y()},get children(){var le=ZS();return $(le,()=>t("auth.loadingDiscovery")),le}}),null),W})(),A(K,{get when(){return g()},get children(){var W=qh(),re=W.firstChild;return $(re,g),W}}),A(Tn,{onClick:j,class:"w-full py-2 text-sm",get disabled(){return d()},get children(){return Oe(()=>!!d())()?t("auth.loggingIn"):t("auth.loginWithOpenId")}})]}}),null),$(H,A(K,{get when(){return C()},get children(){return[(()=>{var W=t1(),re=W.firstChild,le=re.firstChild,G=le.nextSibling,ne=re.nextSibling,q=ne.firstChild,O=q.firstChild;q.nextSibling;var F=ne.nextSibling,P=F.firstChild,_=P.firstChild;return P.nextSibling,$(G,A(K,{get when(){return o1(n()?.idToken)},get fallback(){return t("auth.loggedIn")},children:T=>t("auth.loggedInAs",{username:T()})})),$(q,()=>t("auth.issuerUrl"),O),$(ne,()=>n()?.issuerUrl,null),$(P,()=>t("auth.clientId"),_),$(F,()=>n()?.clientId,null),W})(),A(K,{get when(){return M()},children:W=>(()=>{var re=i1(),le=re.firstChild;return $(le,()=>W().text),ee(G=>{var ne=`p-2 rounded-lg ${W().status==="expired"?"bg-red-50 dark:bg-red-900/20":W().status==="expiring"?"bg-amber-50 dark:bg-amber-900/20":"bg-surface-50 dark:bg-surface-800/50"}`,q=`text-xs ${W().status==="expired"?"text-red-600 dark:text-red-400":W().status==="expiring"?"text-amber-600 dark:text-amber-400":"text-surface-600 dark:text-surface-400"}`;return ne!==G.e&&se(re,G.e=ne),q!==G.t&&se(le,G.t=q),G},{e:void 0,t:void 0}),re})()}),A(K,{get when(){return g()},get children(){var W=qh(),re=W.firstChild;return $(re,g),W}}),(()=>{var W=n1();return $(W,A(K,{get when(){return n()?.refreshToken},get children(){return A(Tn,{onClick:D,variant:"secondary",class:"flex-1 py-2 text-sm",get disabled(){return m()},get children(){return Oe(()=>!!m())()?t("auth.refreshing"):t("auth.refreshNow")}})}}),null),$(W,A(Tn,{onClick:z,variant:"secondary",class:"flex-1 py-2 text-sm",get children(){return t("auth.logout")}}),null),W})()]}}),null),H})()};he(["click"]);var u1=L('<div class="mt-2 space-y-3">'),d1=L('<div class="px-3 md:px-4 py-1.5 md:py-2"><button type=button class="w-full flex items-center justify-between py-1 group"><div class="flex items-center gap-2"><h3 class="text-sm font-bold text-surface-700 dark:text-surface-400 uppercase tracking-wider"></h3><span></span></div><svg fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M19 9l-7 7-7-7">');const f1=e=>{const{t}=Re(),n=()=>{const u=new Set;for(const d of Object.values(e.securitySchemes))d.type==="apiKey"&&u.add("apiKey"),d.type==="bearer"&&u.add("bearer"),d.type==="basic"&&u.add("basic"),d.type==="oauth2"&&u.add("oauth2"),d.type==="openIdConnect"&&u.add("openid");return u.size===0?["apiKey","bearer","basic","oauth2","openid"]:Array.from(u)},[r,s]=X(n()[0]||"apiKey"),[i,o]=X(!1),a=()=>{const u=e.authStore.state.configs;return Object.keys(u).some(d=>u[d]!==void 0)},l=()=>a()?{text:t("auth.configured"),class:"text-emerald-700 dark:text-emerald-400",dot:"bg-emerald-500"}:{text:t("auth.notConfigured"),class:"text-surface-700 dark:text-surface-400",dot:"bg-surface-600 dark:bg-surface-500"},c=u=>({apiKey:t("auth.apiKey"),bearer:t("auth.bearer"),basic:t("auth.basic"),oauth2:t("auth.oauth2"),openid:t("auth.openid")})[u];return(()=>{var u=d1(),d=u.firstChild,f=d.firstChild,m=f.firstChild,b=m.nextSibling,g=f.nextSibling;return d.$$click=()=>o(!i()),$(m,()=>t("auth.title")),$(u,A(K,{get when(){return i()},get children(){var p=u1();return $(p,A(Xa,{get value(){return r()},onChange:w=>s(w),get options(){return n().map(w=>({value:w,label:c(w)}))},class:"w-full",size:"sm"}),null),$(p,A(K,{get when(){return r()==="apiKey"},get children(){return A(PS,{get authStore(){return e.authStore},get securitySchemes(){return e.securitySchemes}})}}),null),$(p,A(K,{get when(){return r()==="bearer"},get children(){return A(MS,{get authStore(){return e.authStore}})}}),null),$(p,A(K,{get when(){return r()==="basic"},get children(){return A(RS,{get authStore(){return e.authStore}})}}),null),$(p,A(K,{get when(){return r()==="oauth2"},get children(){return A(FS,{get authStore(){return e.authStore}})}}),null),$(p,A(K,{get when(){return r()==="openid"},get children(){return A(c1,{get authStore(){return e.authStore},get securitySchemes(){return e.securitySchemes}})}}),null),p}}),null),ee(p=>{var w=`w-1.5 h-1.5 rounded-full ${l().dot}`,h=`w-3.5 h-3.5 text-surface-600 transition-transform ${i()?"rotate-180":""}`;return w!==p.e&&se(b,p.e=w),h!==p.t&&ae(g,"class",p.t=h),p},{e:void 0,t:void 0}),u})()};he(["click"]);var h1=L('<button type=button><span></span><div class="flex-1 min-w-0 overflow-hidden"><span>'),p1=L('<span class="block text-[0.6875rem] text-surface-700 dark:text-surface-400 truncate mt-0.5 font-medium">');const m1={get:{bg:"bg-gradient-to-r from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/20"},post:{bg:"bg-gradient-to-r from-blue-500 to-blue-600",shadow:"shadow-blue-500/20"},put:{bg:"bg-gradient-to-r from-amber-500 to-amber-600",shadow:"shadow-amber-500/20"},patch:{bg:"bg-gradient-to-r from-violet-500 to-violet-600",shadow:"shadow-violet-500/20"},delete:{bg:"bg-gradient-to-r from-rose-500 to-rose-600",shadow:"shadow-rose-500/20"},head:{bg:"bg-gradient-to-r from-cyan-500 to-cyan-600",shadow:"shadow-cyan-500/20"},options:{bg:"bg-gradient-to-r from-surface-500 to-surface-600",shadow:"shadow-surface-500/20"},grpc:{bg:"bg-gradient-to-r from-indigo-500 to-purple-600",shadow:"shadow-indigo-500/20"}},g1={bg:"bg-gradient-to-r from-surface-500 to-surface-600",shadow:"shadow-surface-500/20"},y1=e=>{const t=()=>m1[e.operation.method.toLowerCase()]||g1,n=()=>{const s="w-full flex items-center gap-2 px-2 py-1.5 text-left rounded-lg transition-all duration-200 cursor-pointer group border border-transparent";return e.selected?`${s} glass-active scale-[1.01]`:`${s} hover:bg-white/40 dark:hover:bg-white/5 hover:shadow-sm`},r=()=>e.operation.deprecated?"opacity-50":"";return(()=>{var s=h1(),i=s.firstChild,o=i.nextSibling,a=o.firstChild;return ut(s,"click",e.onClick,!0),$(i,()=>e.operation.method),$(a,()=>e.operation.path),$(o,(()=>{var l=Oe(()=>!!e.operation.summary);return()=>l()&&(()=>{var c=p1();return $(c,()=>e.operation.summary),c})()})(),null),ee(l=>{var c=`${n()} ${r()}`,u=`${t().bg} text-white text-[0.625rem] font-bold uppercase w-12 py-1 rounded-md shadow-sm ${t().shadow} flex-shrink-0 text-center flex items-center justify-center`,d=`block font-mono text-xs truncate ${e.selected?"text-surface-950 dark:text-white font-semibold":"text-surface-800 dark:text-surface-300 font-medium"} ${e.operation.deprecated?"line-through":""}`;return c!==l.e&&se(s,l.e=c),u!==l.t&&se(i,l.t=u),d!==l.a&&se(a,l.a=d),l},{e:void 0,t:void 0,a:void 0}),s})()};he(["click"]);var b1=L("<div class=space-y-1.5>"),v1=L('<div class="py-2 px-3">'),w1=L('<div class="flex flex-col items-center justify-center py-6 text-center"><div class="w-12 h-12 rounded-xl glass-button flex items-center justify-center mb-3"><svg class="w-7 h-7 text-surface-400"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><p class="text-sm text-surface-500 dark:text-surface-400 font-medium">'),k1=L('<div class="mt-1 ml-2.5 pl-2.5 border-l border-surface-200/50 dark:border-surface-700/30 space-y-1">'),x1=L('<div><button type=button class="w-full flex items-center gap-1.5 px-2 py-1.5 rounded-lg hover:bg-white/40 dark:hover:bg-white/5 transition-smooth group"><div></div><span class="flex-1 text-left text-sm font-bold text-gray-900 dark:text-surface-200 capitalize"></span><span class="text-[0.6875rem] font-bold text-surface-700 dark:text-surface-500 tabular-nums px-1.5 py-0.5 rounded-md glass-button">'),S1=L('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2.5 aria-hidden=true><path d="M9 18l6-6-6-6">');const E1=e=>{const{t}=Re(),n=ye(()=>{const s=e.searchQuery.trim();return s&&e.searchFn?e.searchFn(s).map(i=>i.operation):e.operations}),r=ye(()=>{const s=new Map,i="default";for(const l of n()){const c=l.tags.length>0?l.tags:[i];for(const u of c)s.has(u)||s.set(u,[]),s.get(u)?.push(l)}const o=[],a=Array.from(s.keys()).sort((l,c)=>l===i?1:c===i?-1:l.localeCompare(c));for(const l of a){const c=s.get(l);c&&o.push({name:l,operations:c})}return o});return(()=>{var s=v1();return $(s,A(K,{get when(){return n().length>0},get fallback(){return(()=>{var i=w1(),o=i.firstChild,a=o.nextSibling;return $(a,()=>t("common.noResults")),i})()},get children(){var i=b1();return $(i,A(Te,{get each(){return r()},children:o=>A(_1,{group:o,get expanded(){return e.expandedTags.has(o.name)},get selectedOperationId(){return e.selectedOperationId},onToggle:()=>e.onToggleTag(o.name),get onSelectOperation(){return e.onSelectOperation}})})),i}})),s})()},_1=e=>(()=>{var t=x1(),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.nextSibling;return ut(n,"click",e.onToggle,!0),$(r,A($1,{get expanded(){return e.expanded}})),$(s,()=>e.group.name),$(i,()=>e.group.operations.length),$(t,A(K,{get when(){return e.expanded},get children(){var o=k1();return $(o,A(Te,{get each(){return e.group.operations},children:a=>A(y1,{operation:a,get selected(){return a.id===e.selectedOperationId},onClick:()=>e.onSelectOperation(a)})})),o}}),null),ee(()=>se(r,`w-5 h-5 rounded-md flex items-center justify-center transition-smooth ${e.expanded?"bg-accent-500/15 dark:bg-accent-500/20":"glass-button"}`)),t})(),$1=e=>(()=>{var t=S1();return ee(()=>ae(t,"class",`w-3 h-3 transition-transform duration-200 ${e.expanded?"rotate-90 text-accent-500":"text-surface-500"}`)),t})();he(["click"]);var A1=L('<button type=button class="p-1 rounded-md text-surface-600 hover:text-surface-800 dark:hover:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-500/40"aria-label="Clear search"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M6 18L18 6M6 6l12 12">'),T1=L('<div class="relative group"><div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-colors duration-200"><svg fill=none viewBox="0 0 24 24"stroke=currentColor stroke-width=2 aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text style="padding-left:44px !important;padding-right:40px !important"><div class="absolute inset-y-0 right-0 pr-3 flex items-center">'),C1=L('<div><kbd class="hidden sm:inline-flex items-center justify-center h-5 px-1.5 text-[0.625rem] font-sans font-bold text-surface-700 dark:text-surface-400 bg-surface-100 dark:bg-surface-800 rounded border border-surface-200 dark:border-surface-700">/');const N1=e=>{const{t}=Re();let n;const[r,s]=X(!1),i=a=>{if(a.metaKey&&a.key==="k"||a.ctrlKey&&a.key==="k"||a.key==="/"){if(a.key==="/"&&(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement))return;a.preventDefault(),n?.focus()}a.key==="Escape"&&document.activeElement===n&&n?.blur()};an(()=>{window.addEventListener("keydown",i),He(()=>{window.removeEventListener("keydown",i)})});const o=()=>{e.onInput(""),n?.focus()};return(()=>{var a=T1(),l=a.firstChild,c=l.firstChild,u=l.nextSibling,d=u.nextSibling;u.addEventListener("blur",()=>s(!1)),u.addEventListener("focus",()=>s(!0)),u.$$input=m=>e.onInput(m.currentTarget.value);var f=n;return typeof f=="function"?Bn(f,u):n=u,$(d,A(K,{get when(){return e.value},get fallback(){return(()=>{var m=C1();return ee(()=>se(m,`flex items-center gap-1 transition-opacity duration-200 ${r()?"opacity-100":"opacity-70 group-hover:opacity-100"}`)),m})()},get children(){var m=A1();return m.$$click=o,m}})),ee(m=>{var b=`w-[1.125rem] h-[1.125rem] ${r()?"text-accent-500 dark:text-accent-400":"text-surface-600 dark:text-surface-500"}`,g=`w-full px-3 py-2 sm:py-2.5 glass-input text-base sm:text-sm text-surface-950 dark:text-surface-100 placeholder-surface-700 dark:placeholder-surface-500 font-medium outline-none transition-all duration-200 ${r()?"shadow-lg shadow-accent-500/10":""}`,p=t("common.search");return b!==m.e&&ae(c,"class",m.e=b),g!==m.t&&se(u,m.t=g),p!==m.a&&ae(u,"placeholder",m.a=p),m},{e:void 0,t:void 0,a:void 0}),ee(()=>u.value=e.value),a})()};he(["input","click"]);var O1=L('<label class="block text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"for=server-selector>'),I1=L('<div class=space-y-2><span class="block text-xs font-medium text-gray-500 dark:text-gray-400"></span><div class=space-y-2>'),P1=L("<div><div>"),Uh=L("<option>"),L1=L('<div class="flex items-center gap-2"><div class=flex-1>'),R1=L('<label class="text-xs font-mono text-gray-600 dark:text-gray-400 min-w-[3.75rem] shrink-0">'),D1=L('<label class="text-xs font-mono text-gray-600 dark:text-gray-400 min-w-[3.75rem] shrink-0 cursor-help border-b border-dotted border-gray-400 dark:border-gray-500">');const M1=e=>{const{t}=Re(),n=o=>{const a=e.servers.find(l=>l.url===o);a&&e.onChange(a)},r=()=>e.servers.find(o=>o.url===e.selectedUrl),s=()=>{const o=r();return o?.variables&&Object.keys(o.variables).length>0},i=()=>{const o=r();return o?.variables?Object.entries(o.variables).map(([a,l])=>({name:a,...l})):[]};return A(K,{get when(){return e.servers.length>0},get children(){var o=P1(),a=o.firstChild;return $(a,A(K,{get when(){return!e.hideLabel},get children(){var l=O1();return $(l,()=>t("sidebar.servers")),l}}),null),$(a,A(zr,{id:"server-selector",get value(){return e.selectedUrl||""},onChange:n,get children(){return A(Te,{get each(){return e.servers},children:l=>(()=>{var c=Uh();return $(c,()=>l.description||l.url),ee(()=>c.value=l.url),c})()})}}),null),$(o,A(K,{get when(){return s()},get children(){var l=I1(),c=l.firstChild,u=c.nextSibling;return $(c,()=>t("sidebar.serverVariables")),$(u,A(Te,{get each(){return i()},children:d=>A(j1,{get name(){return d.name},variable:d,get value(){return e.serverVariables[d.name]??d.default},onChange:f=>e.onVariableChange(d.name,f)})})),l}}),null),ee(()=>se(o,`space-y-3 ${e.className??""}`)),o}})},j1=e=>{const t=()=>e.variable.enum&&e.variable.enum.length>0,n=()=>`server-var-${e.name}`,r=()=>t()?A(zr,{get id(){return n()},get value(){return e.value},get onChange(){return e.onChange},class:"text-xs",get children(){return A(Te,{get each(){return e.variable.enum},children:i=>(()=>{var o=Uh();return o.value=i,$(o,i),o})()})}}):A(Ct,{get id(){return n()},get value(){return e.value},get onInput(){return e.onChange},get placeholder(){return e.variable.default},class:"text-xs"}),s=()=>["{",Oe(()=>e.name),"}"];return(()=>{var i=L1(),o=i.firstChild;return $(i,A(K,{get when(){return e.variable.description},get fallback(){return(()=>{var a=R1();return $(a,s),ee(()=>ae(a,"for",n())),a})()},children:a=>A(mw,{get content(){return a()},get children(){var l=D1();return $(l,s),ee(()=>ae(l,"for",n())),l}})}),o),$(o,r),i})()},Kh="wti-theme",zh=uc();function Vh(){const e=Fa(Kh,null);return e==="light"||e==="dark"?e:null}function B1(){return typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function F1(e){qa(Kh,e)}function q1(e){const t=Vh()??e.initialTheme??B1(),[n,r]=X(t);Qe(()=>{F1(n())});const s=()=>{const i=n()==="dark"?"light":"dark";r(i)};return an(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{Vh()||r(a.matches?"dark":"light")};return i.addEventListener("change",o),()=>i.removeEventListener("change",o)}),A(zh.Provider,{value:{theme:n,setTheme:r,toggleTheme:s},get children(){return e.children}})}function Hh(){const e=dc(zh);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}var U1=L('<button type=button class="w-8 h-8 shrink-0 rounded-lg glass-button flex items-center justify-center text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-surface-200 transition-colors md:hidden"><svg class="w-4 h-4"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),K1=L('<header class="flex-shrink-0 z-10 px-3 md:px-4 py-2 md:py-3 overflow-hidden border-t md:border-t-0 border-surface-200 dark:border-white/5 glass-surface"><div class="flex items-center gap-2 md:gap-2.5 flex-nowrap"><div class="w-8 h-8 md:w-9 md:h-9 shrink-0 rounded-lg md:rounded-xl bg-gradient-to-br from-accent-500 to-accent-600 flex items-center justify-center shadow-md shadow-accent-500/20"><svg class="w-5 h-5 md:w-6 md:h-6 text-white"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></div><div class="flex-1 min-w-0"><h1 class="font-semibold text-gray-900 dark:text-white truncate leading-tight text-sm md:text-base"></h1><span class="text-xs text-surface-700 dark:text-surface-400 font-semibold">v</span></div><button type=button class="w-8 h-8 md:w-9 md:h-9 shrink-0 rounded-lg md:rounded-xl glass-button flex items-center justify-center text-surface-700 dark:text-surface-400 hover:text-surface-950 dark:hover:text-surface-200 transition-colors overflow-hidden"><div class="relative w-4 h-4 md:w-5 md:h-5"><svg fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><svg fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></div></button><button type=button class="w-8 h-8 md:w-9 md:h-9 shrink-0 rounded-lg md:rounded-xl glass-button flex items-center justify-center text-surface-700 dark:text-surface-400 hover:text-surface-950 dark:hover:text-surface-200 transition-colors"title="Request History"><svg class="w-4 h-4 md:w-5 md:h-5"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">');const z1=e=>{const{theme:t,toggleTheme:n}=Hh(),{t:r}=Re();return(()=>{var s=K1(),i=s.firstChild,o=i.firstChild,a=o.nextSibling,l=a.firstChild,c=l.nextSibling;c.firstChild;var u=a.nextSibling,d=u.firstChild,f=d.firstChild,m=f.nextSibling,b=u.nextSibling;return $(l,()=>e.spec.info.title),$(c,()=>e.spec.info.version,null),ut(u,"click",n,!0),b.$$click=()=>e.onOpenHistory?.(),$(i,A(K,{get when(){return e.onClose},get children(){var g=U1();return g.$$click=()=>e.onClose?.(),ee(()=>ae(g,"title",r("common.close"))),g}}),null),ee(g=>{var p=t()==="dark"?r("sidebar.toggleThemeLight"):r("sidebar.toggleThemeDark"),w=t()==="dark"?r("sidebar.toggleThemeLight"):r("sidebar.toggleThemeDark"),h=`absolute inset-0 w-4 h-4 md:w-5 md:h-5 transition-all duration-300 ${t()==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-50"}`,y=`absolute inset-0 w-4 h-4 md:w-5 md:h-5 transition-all duration-300 ${t()==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-50"}`;return p!==g.e&&ae(u,"aria-label",g.e=p),w!==g.t&&ae(u,"title",g.t=w),h!==g.a&&ae(f,"class",g.a=h),y!==g.o&&ae(m,"class",g.o=y),g},{e:void 0,t:void 0,a:void 0,o:void 0}),s})()};he(["click"]);var V1=L('<div class="flex flex-col-reverse md:flex-col flex-1 min-h-0"><div class="flex flex-col flex-1 min-h-0 overflow-y-auto overflow-x-hidden scrollbar-thin"><div class="hidden md:block mx-4 divider-glass"></div><div class="sticky top-0 z-10 glass-surface flex-shrink-0 px-3 md:px-4 py-1.5 md:py-2 flex items-center gap-2"><div class=flex-1></div></div><div class="mx-3 md:mx-4 divider-glass"></div><div class=px-0.5></div><div class="mx-3 md:mx-4 divider-glass"></div><div class="flex-1 min-h-0">');const Gh=e=>{const t=()=>{const n=e.store.state.spec;if(!n)throw new Error("Sidebar rendered without spec");return n};return(()=>{var n=V1(),r=n.firstChild,s=r.firstChild,i=s.nextSibling,o=i.firstChild,a=i.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling;return $(n,A(z1,{get spec(){return t()},get onOpenHistory(){return e.onOpenHistory},get onClose(){return e.onClose}}),r),$(i,A(M1,{get servers(){return t().servers},get selectedUrl(){return e.store.state.selectedServer?.url||null},get serverVariables(){return e.store.state.serverVariables},get onChange(){return e.store.actions.selectServer},get onVariableChange(){return e.store.actions.setServerVariable},hideLabel:!0,className:"w-1/3 min-w-[7.5rem]"}),o),$(o,A(N1,{get value(){return e.store.state.searchQuery},get onInput(){return e.store.actions.setSearchQuery}})),$(l,A(f1,{get authStore(){return e.authStore},get securitySchemes(){return t().securitySchemes}})),$(u,A(E1,{get operations(){return t().operations},get expandedTags(){return e.store.state.expandedTags},get selectedOperationId(){return e.store.state.selectedOperation?.id||null},get searchQuery(){return e.store.state.searchQuery},get onToggleTag(){return e.store.actions.toggleTag},get onSelectOperation(){return e.store.actions.selectOperation},get searchFn(){return e.store.search.searchOperations}})),n})()};var H1=L('<div class="flex items-center justify-center h-screen"><div class="glass-card rounded-3xl p-8 flex flex-col items-center gap-5"><div class=relative><div class="w-14 h-14 rounded-full border-4 border-blue-200/50 dark:border-blue-800/30"></div><div class="absolute inset-0 w-14 h-14 rounded-full border-4 border-transparent border-t-blue-500 animate-spin"></div></div><p class="text-surface-600 dark:text-surface-300 font-medium">Loading API specification...'),G1=L('<button type=button class="mt-4 px-4 py-2 text-sm font-medium rounded-xl glass-button text-surface-700 dark:text-surface-200 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors">Try again'),W1=L('<div class="flex items-center justify-center h-screen p-6"><div class="glass-card rounded-3xl p-8 max-w-lg border-red-200/30 dark:border-red-800/20"><div class="flex items-start gap-4"><div class="shrink-0 w-14 h-14 rounded-2xl bg-linear-to-br from-red-500 to-rose-600 flex items-center justify-center shadow-lg shadow-red-500/20"><svg class="w-7 h-7 text-white"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><h3 class="font-semibold text-lg text-surface-900 dark:text-surface-50">Failed to load API</h3><p class="text-surface-600 dark:text-surface-400 mt-2 leading-relaxed">'),J1=L('<div class="flex flex-col items-center justify-center h-full min-h-screen text-center p-8"><div class="glass-card rounded-[2rem] p-10 max-w-md"><div class="relative inline-flex mb-8"><div class="w-24 h-24 rounded-3xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center shadow-2xl shadow-indigo-500/25 transform hover:scale-105 transition-spring"><svg class="w-12 h-12 text-white"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><div class="absolute -inset-2 rounded-3xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 opacity-15 blur-2xl -z-10"></div></div><h1 class="text-4xl font-bold bg-gradient-to-r from-surface-900 via-surface-700 to-surface-900 dark:from-white dark:via-surface-200 dark:to-white bg-clip-text text-transparent mb-3">WTI</h1><p class="text-lg text-surface-600 dark:text-surface-400 mb-6 font-medium">What The Interface</p><div class="divider-glass my-8"></div><p class="text-surface-600 dark:text-surface-400 leading-relaxed">Select an operation from the sidebar to explore and test API endpoints</p><div class="mt-8 flex flex-col items-center gap-2 text-xs text-surface-500 dark:text-surface-500"><div class="inline-flex items-center gap-2.5"><kbd class="px-2.5 py-1.5 rounded-lg glass-button font-mono text-surface-700 dark:text-surface-300">/</kbd><span>to search</span></div><div class="inline-flex items-center gap-2.5"><kbd class="px-2.5 py-1.5 rounded-lg glass-button font-mono text-surface-700 dark:text-surface-300"><span class=text-[10px]>Cmd</span>+P</kbd><span>command palette'),Y1=L('<div class="fixed top-4 right-4 z-50 glass-card rounded-xl p-4 border border-red-200/30 dark:border-red-800/20 shadow-lg max-w-md animate-slide-in"><div class="flex items-start gap-3"><div class="shrink-0 w-8 h-8 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center"><svg class="w-4 h-4 text-red-600 dark:text-red-400"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-surface-900 dark:text-surface-50"></p><p class="text-xs text-surface-600 dark:text-surface-400 mt-1">'),Q1=L('<div class="flex items-center justify-center h-screen p-6"><div class="glass-card rounded-3xl p-8 max-w-lg border-red-200/30 dark:border-red-800/20"><div class="flex items-start gap-4"><div class="shrink-0 w-14 h-14 rounded-2xl bg-linear-to-br from-red-500 to-rose-600 flex items-center justify-center shadow-lg shadow-red-500/20"><svg class="w-7 h-7 text-white"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><h3 class="font-semibold text-lg text-surface-900 dark:text-surface-50">Something went wrong</h3><p class="text-surface-600 dark:text-surface-400 mt-2 leading-relaxed font-mono text-xs"></p><button type=button class="mt-4 px-4 py-2 text-sm font-medium rounded-xl glass-button text-surface-700 dark:text-surface-200 hover:bg-surface-100 dark:hover:bg-surface-800 transition-colors">Try again');const X1=()=>H1(),Z1=e=>(()=>{var t=W1(),n=t.firstChild,r=n.firstChild,s=r.firstChild,i=s.nextSibling,o=i.firstChild,a=o.nextSibling;return $(a,()=>e.error),$(i,A(K,{get when(){return e.onRetry},get children(){var l=G1();return ut(l,"click",e.onRetry,!0),l}}),null),t})(),eE=()=>J1(),tE=e=>A(K,{get when(){return e.message},get children(){var t=Y1(),n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.firstChild,o=i.nextSibling;return $(i,()=>e.title??"Error"),$(o,()=>e.message),t}}),nE=e=>A(xm,{fallback:(t,n)=>(()=>{var r=Q1(),s=r.firstChild,i=s.firstChild,o=i.firstChild,a=o.nextSibling,l=a.firstChild,c=l.nextSibling,u=c.nextSibling;return $(c,()=>t instanceof Error?t.message:String(t)),ut(u,"click",n,!0),r})(),get children(){return e.children}});he(["click"]);var rE=L('<aside class="w-80 flex-shrink-0 glass-sidebar border-r border-black/5 dark:border-white/5 h-screen sticky top-0 flex flex-col">'),sE=L('<div class="flex min-h-screen"><main class="flex-1 overflow-y-auto pt-14 md:pt-0">'),iE=L('<div class="flex-1 text-center min-w-0 px-4"><h1 class="font-semibold text-gray-900 dark:text-white truncate text-sm">'),oE=L('<div class="fixed top-0 left-0 right-0 z-40 md:hidden"><div class="flex items-center justify-between px-4 py-3 glass-sidebar border-b border-black/5 dark:border-white/5"><button type=button class="p-2 -ml-2 rounded-xl glass-button text-gray-600 dark:text-gray-300"aria-label="Open navigation menu"><svg class="w-6 h-6"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></button><button type=button class="p-2 -mr-2 rounded-xl glass-button text-gray-500 dark:text-gray-400"aria-label="Open history"><svg class="w-5 h-5"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">');const aE=e=>{const[t,n]=X(!1),[r,s]=X(!1),i=()=>{const a=e.store.state.selectedOperation,l=e.store.state.selectedServer,c=e.store.state.serverVariables;return a&&l?{operation:a,server:l,serverVariables:c}:null};Qe(()=>{e.store.state.selectedOperation&&n(!1)}),an(()=>{const a=window.matchMedia("(max-width: 47.9375rem)"),l=c=>{s(c.matches),c.matches||n(!1)};l(a),a.addEventListener("change",l),He(()=>a.removeEventListener("change",l))});const o=()=>e.store.state.spec;return(()=>{var a=sE(),l=a.firstChild;return $(a,A(lE,{get title(){return o()?.info.title},onMenuOpen:()=>n(!0),get onHistoryOpen(){return e.onOpenHistory}}),l),$(a,A(Hf,{get open(){return t()},onClose:()=>n(!1),position:"left",size:"lg",showClose:!1,noPadding:!0,get children(){return A(Gh,{get store(){return e.store},get authStore(){return e.authStore},onOpenHistory:()=>{n(!1),e.onOpenHistory()},onClose:()=>n(!1)})}}),l),$(a,A(K,{get when(){return!r()},get children(){var c=rE();return $(c,A(Gh,{get store(){return e.store},get authStore(){return e.authStore},get onOpenHistory(){return e.onOpenHistory}})),c}}),l),$(l,A(K,{get when(){return i()},get fallback(){return A(eE,{})},keyed:!0,children:c=>A(AS,{get operation(){return c.operation},get server(){return c.server},get serverVariables(){return c.serverVariables},get authStore(){return e.authStore},get historyStore(){return e.historyStore},get initialValues(){return e.replayValues},get onInitialValuesConsumed(){return e.onReplayValuesConsumed}})})),a})()},lE=e=>(()=>{var t=oE(),n=t.firstChild,r=n.firstChild,s=r.nextSibling;return ut(r,"click",e.onMenuOpen,!0),$(n,A(K,{get when(){return e.title},get children(){var i=iE(),o=i.firstChild;return $(o,()=>e.title),i}}),s),ut(s,"click",e.onHistoryOpen,!0),t})();he(["click"]);const $l=Symbol.for("yaml.alias"),Al=Symbol.for("yaml.document"),hn=Symbol.for("yaml.map"),Wh=Symbol.for("yaml.pair"),qt=Symbol.for("yaml.scalar"),or=Symbol.for("yaml.seq"),vt=Symbol.for("yaml.node.type"),On=e=>!!e&&typeof e=="object"&&e[vt]===$l,ao=e=>!!e&&typeof e=="object"&&e[vt]===Al,ns=e=>!!e&&typeof e=="object"&&e[vt]===hn,De=e=>!!e&&typeof e=="object"&&e[vt]===Wh,Ae=e=>!!e&&typeof e=="object"&&e[vt]===qt,rs=e=>!!e&&typeof e=="object"&&e[vt]===or;function Me(e){if(e&&typeof e=="object")switch(e[vt]){case hn:case or:return!0}return!1}function je(e){if(e&&typeof e=="object")switch(e[vt]){case $l:case hn:case qt:case or:return!0}return!1}const Jh=e=>(Ae(e)||Me(e))&&!!e.anchor,In=Symbol("break visit"),cE=Symbol("skip children"),ss=Symbol("remove node");function ar(e,t){const n=uE(t);ao(e)?lr(null,e.contents,n,Object.freeze([e]))===ss&&(e.contents=null):lr(null,e,n,Object.freeze([]))}ar.BREAK=In,ar.SKIP=cE,ar.REMOVE=ss;function lr(e,t,n,r){const s=dE(e,t,n,r);if(je(s)||De(s))return fE(e,r,s),lr(e,s,n,r);if(typeof s!="symbol"){if(Me(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=lr(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===In)return In;o===ss&&(t.items.splice(i,1),i-=1)}}}else if(De(t)){r=Object.freeze(r.concat(t));const i=lr("key",t.key,n,r);if(i===In)return In;i===ss&&(t.key=null);const o=lr("value",t.value,n,r);if(o===In)return In;o===ss&&(t.value=null)}}return s}function uE(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function dE(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(ns(t))return n.Map?.(e,t,r);if(rs(t))return n.Seq?.(e,t,r);if(De(t))return n.Pair?.(e,t,r);if(Ae(t))return n.Scalar?.(e,t,r);if(On(t))return n.Alias?.(e,t,r)}function fE(e,t,n){const r=t[t.length-1];if(Me(r))r.items[e]=n;else if(De(r))e==="key"?r.key=n:r.value=n;else if(ao(r))r.contents=n;else{const s=On(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const hE={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},pE=e=>e.replace(/[!,[\]{}]/g,t=>hE[t]);class ot{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ot.defaultYaml,t),this.tags=Object.assign({},ot.defaultTags,n)}clone(){const t=new ot(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new ot(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ot.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ot.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:ot.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ot.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+pE(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&je(t.contents)){const i={};ar(t.contents,(o,a)=>{je(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}ot.defaultYaml={explicit:!1,version:"1.2"},ot.defaultTags={"!!":"tag:yaml.org,2002:"};function Yh(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(t)}return!0}function Qh(e){const t=new Set;return ar(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Xh(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function mE(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=Qh(e));const o=Xh(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(Ae(o.node)||Me(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function cr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=cr(e,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=cr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=cr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=cr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function wt(e,t,n){if(Array.isArray(e))return e.map((r,s)=>wt(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!Jh(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!n?.keep?Number(e):e}class Tl{constructor(t){Object.defineProperty(this,vt,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!ao(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=wt(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof i=="function"?cr(i,{"":a},"",a):a}}class Cl extends Tl{constructor(t){super($l),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],ar(t,{Node:(i,o)=>{(On(o)||Jh(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(wt(o,null,n),a=r.get(o)),a?.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=lo(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(Yh(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function lo(e,t,n){if(On(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Me(t)){let r=0;for(const s of t.items){const i=lo(e,s,n);i>r&&(r=i)}return r}else if(De(t)){const r=lo(e,t.key,n),s=lo(e,t.value,n);return Math.max(r,s)}return 1}const Zh=e=>!e||typeof e!="function"&&typeof e!="object";class de extends Tl{constructor(t){super(qt),this.value=t}toJSON(t,n){return n?.keep?this.value:wt(this.value,t,n)}toString(){return String(this.value)}}de.BLOCK_FOLDED="BLOCK_FOLDED",de.BLOCK_LITERAL="BLOCK_LITERAL",de.PLAIN="PLAIN",de.QUOTE_DOUBLE="QUOTE_DOUBLE",de.QUOTE_SINGLE="QUOTE_SINGLE";const gE="tag:yaml.org,2002:";function yE(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>r.identify?.(e)&&!r.format)}function is(e,t,n){if(ao(e)&&(e=e.contents),je(e))return e;if(De(e)){const d=n.schema[hn].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=s(e)),new Cl(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=gE+t.slice(2));let c=yE(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new de(e);return l&&(l.node=d),d}c=e instanceof Map?o[hn]:Symbol.iterator in Object(e)?o[or]:o[hn]}i&&(i(c),delete n.onTagObj);const u=c?.createNode?c.createNode(n.schema,e,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,e,n):new de(e);return t?u.tag=t:c.default||(u.tag=c.tag),l&&(l.node=u),u}function co(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return is(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const os=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class ep extends Tl{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>je(r)||De(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(os(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(Me(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,co(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Me(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&Ae(i)?i.value:i:Me(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!De(n))return!1;const r=n.value;return r==null||t&&Ae(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Me(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Me(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,co(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const bE=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Zt(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Pn=(e,t,n)=>e.endsWith(`
`)?Zt(n,t):n.includes(`
`)?`
`+Zt(n,t):(e.endsWith(" ")?"":" ")+n,tp="flow",Nl="block",uo="quoted";function fo(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return e;s<i&&(i=0);const l=Math.max(1+i,1+s-t.length);if(e.length<=l)return e;const c=[],u={};let d=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?c.push(0):d=s-r);let f,m,b=!1,g=-1,p=-1,w=-1;n===Nl&&(g=np(e,g,t.length),g!==-1&&(d=g+l));for(let y;y=e[g+=1];){if(n===uo&&y==="\\"){switch(p=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}w=g}if(y===`
`)n===Nl&&(g=np(e,g,t.length)),d=g+t.length+l,f=void 0;else{if(y===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const k=e[g+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(f=g)}if(g>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===uo){for(;m===" "||m==="	";)m=y,y=e[g+=1],b=!0;const k=g>w+1?g-2:p-1;if(u[k])return e;c.push(k),u[k]=!0,d=k+l,f=void 0}else b=!0}m=y}if(b&&a&&a(),c.length===0)return e;o&&o();let h=e.slice(0,c[0]);for(let y=0;y<c.length;++y){const k=c[y],v=c[y+1]||e.length;k===0?h=`
${t}${e.slice(0,v)}`:(n===uo&&u[k]&&(h+=`${e[k]}\\`),h+=`
${t}${e.slice(k+1,v)}`)}return h}function np(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const ho=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),po=e=>/^(%|---|\.\.\.)/m.test(e);function vE(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function as(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(po(e)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:fo(o,i,uo,ho(t,!1))}function Ol(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return as(e,t);const n=t.indent||(po(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:fo(r,n,tp,ho(t,!1))}function ur(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=as;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=Ol:i&&!s?r=as:r=n?Ol:as}return r(e,t)}let Il;try{Il=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Il=/\n+(?!\n|$)/g}function mo({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return ur(n,r);const c=r.indent||(r.forceBlockIndent||po(n)?"  ":""),u=o==="literal"?!0:o==="folded"||t===de.BLOCK_FOLDED?!1:t===de.BLOCK_LITERAL?!0:!vE(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const k=n[f-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let m=n.substring(f);const b=m.indexOf(`
`);b===-1?d="-":n===m||b!==m.length-1?(d="+",i&&i()):d="",m&&(n=n.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(Il,`$&${c}`));let g=!1,p,w=-1;for(p=0;p<n.length;++p){const k=n[p];if(k===" ")g=!0;else if(k===`
`)w=p;else break}let h=n.substring(0,w<p?w+1:p);h&&(n=n.substring(h.length),h=h.replace(/\n+/g,`$&${c}`));let y=(g?c?"2":"1":"")+d;if(e&&(y+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),!u){const k=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let v=!1;const x=ho(r,!0);o!=="folded"&&t!==de.BLOCK_FOLDED&&(x.onOverflow=()=>{v=!0});const S=fo(`${h}${k}${m}`,c,Nl,x);if(!v)return`>${y}
${c}${S}`}return n=n.replace(/\n+/g,`$&${c}`),`|${y}
${c}${h}${n}${m}`}function wE(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=t;if(a&&i.includes(`
`)||u&&/[[\]{},]/.test(i))return ur(i,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
`)?ur(i,t):mo(e,t,n,r);if(!a&&!u&&s!==de.PLAIN&&i.includes(`
`))return mo(e,t,n,r);if(po(i)){if(l==="")return t.forceBlockIndent=!0,mo(e,t,n,r);if(a&&l===c)return ur(i,t)}const d=i.replace(/\n+/g,`$&
${l}`);if(o){const f=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(d),{compat:m,tags:b}=t.doc.schema;if(b.some(f)||m?.some(f))return ur(i,t)}return a?d:fo(d,l,tp,ho(t,!1))}function Pl(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==de.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=de.QUOTE_DOUBLE);const l=u=>{switch(u){case de.BLOCK_FOLDED:case de.BLOCK_LITERAL:return s||i?ur(o.value,t):mo(o,t,n,r);case de.QUOTE_DOUBLE:return as(o.value,t);case de.QUOTE_SINGLE:return Ol(o.value,t);case de.PLAIN:return wE(o,t,n,r);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=t.options,f=s&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function rp(e,t){const n=Object.assign({blockQuote:!0,commentString:bE,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function kE(e,t){if(t.tag){const s=e.filter(i=>i.tag===t.tag);if(s.length>0)return s.find(i=>i.format===t.format)??s[0]}let n,r;if(Ae(t)){r=t.value;let s=e.filter(i=>i.identify?.(r));if(s.length>1){const i=s.filter(o=>o.test);i.length>0&&(s=i)}n=s.find(i=>i.format===t.format)??s.find(i=>!i.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${s} value`)}return n}function xE(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(Ae(e)||Me(e))&&e.anchor;i&&Yh(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag??(t.default?null:t.tag);return o&&s.push(r.directives.tagString(o)),s.join(" ")}function dr(e,t,n,r){if(De(e))return e.toString(t,n,r);if(On(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=je(e)?e:t.doc.createNode(e,{onTagObj:l=>s=l});s??(s=kE(t.doc.schema.tags,i));const o=xE(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,t,n,r):Ae(i)?Pl(i,t,n,r):i.toString(t,n,r);return o?Ae(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function SE({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=je(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Me(e)||!je(e)&&typeof e=="object"){const S="With simple keys, collection cannot be used as a key value";throw new Error(S)}}let m=!d&&(!e||f&&t==null&&!n.inFlow||Me(e)||(Ae(e)?e.type===de.BLOCK_FOLDED||e.type===de.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!m&&(d||!i),indent:a+l});let b=!1,g=!1,p=dr(e,n,()=>b=!0,()=>g=!0);if(!m&&!n.inFlow&&p.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(n.inFlow){if(i||t==null)return b&&r&&r(),p===""?"?":m?`? ${p}`:p}else if(i&&!d||t==null&&m)return p=`? ${p}`,f&&!b?p+=Pn(p,n.indent,c(f)):g&&s&&s(),p;b&&(f=null),m?(f&&(p+=Pn(p,n.indent,c(f))),p=`? ${p}
${a}:`):(p=`${p}:`,f&&(p+=Pn(p,n.indent,c(f))));let w,h,y;je(t)?(w=!!t.spaceBefore,h=t.commentBefore,y=t.comment):(w=!1,h=null,y=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!m&&!f&&Ae(t)&&(n.indentAtStart=p.length+1),g=!1,!u&&l.length>=2&&!n.inFlow&&!m&&rs(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let k=!1;const v=dr(t,n,()=>k=!0,()=>g=!0);let x=" ";if(f||w||h){if(x=w?`
`:"",h){const S=c(h);x+=`
${Zt(S,n.indent)}`}v===""&&!n.inFlow?x===`
`&&y&&(x=`

`):x+=`
${n.indent}`}else if(!m&&Me(t)){const S=v[0],E=v.indexOf(`
`),C=E!==-1,M=n.inFlow??t.flow??t.items.length===0;if(C||!M){let j=!1;if(C&&(S==="&"||S==="!")){let D=v.indexOf(" ");S==="&"&&D!==-1&&D<E&&v[D+1]==="!"&&(D=v.indexOf(" ",D+1)),(D===-1||E<D)&&(j=!0)}j||(x=`
${n.indent}`)}}else(v===""||v[0]===`
`)&&(x="");return p+=x+v,n.inFlow?k&&r&&r():y&&!k?p+=Pn(p,n.indent,c(y)):g&&s&&s(),p}function sp(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const go="<<",en={identify:e=>e===go||typeof e=="symbol"&&e.description===go,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new de(Symbol(go)),{addToJSMap:ip}),stringify:()=>go},EE=(e,t)=>(en.identify(t)||Ae(t)&&(!t.type||t.type===de.PLAIN)&&en.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===en.tag&&n.default);function ip(e,t,n){if(n=e&&On(n)?n.resolve(e.doc):n,rs(n))for(const r of n.items)Ll(e,t,r);else if(Array.isArray(n))for(const r of n)Ll(e,t,r);else Ll(e,t,n)}function Ll(e,t,n){const r=e&&On(n)?n.resolve(e.doc):n;if(!ns(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function op(e,t,{key:n,value:r}){if(je(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(EE(e,n))ip(e,t,r);else{const s=wt(n,"",e);if(t instanceof Map)t.set(s,wt(r,s,e));else if(t instanceof Set)t.add(s);else{const i=_E(n,s,e),o=wt(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function _E(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(je(e)&&n?.doc){const r=rp(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),sp(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function Rl(e,t,n){const r=is(e,void 0,n),s=is(t,void 0,n);return new at(r,s)}class at{constructor(t,n=null){Object.defineProperty(this,vt,{value:Wh}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return je(n)&&(n=n.clone(t)),je(r)&&(r=r.clone(t)),new at(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return op(n,r,this)}toString(t,n,r){return t?.doc?SE(this,t,n,r):JSON.stringify(this)}}function ap(e,t,n){return(t.inFlow??e.flow?AE:$E)(e,t,n)}function $E({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let b=0;b<t.length;++b){const g=t[b];let p=null;if(je(g))!d&&g.spaceBefore&&f.push(""),yo(n,f,g.commentBefore,d),g.comment&&(p=g.comment);else if(De(g)){const h=je(g.key)?g.key:null;h&&(!d&&h.spaceBefore&&f.push(""),yo(n,f,h.commentBefore,d))}d=!1;let w=dr(g,u,()=>p=null,()=>d=!0);p&&(w+=Pn(w,i,c(p))),d&&p&&(d=!1),f.push(r+w)}let m;if(f.length===0)m=s.start+s.end;else{m=f[0];for(let b=1;b<f.length;++b){const g=f[b];m+=g?`
${l}${g}`:`
`}}return e?(m+=`
`+Zt(c(e),l),a&&a()):d&&o&&o(),m}function AE({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=t;r+=i;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let b=0;b<e.length;++b){const g=e[b];let p=null;if(je(g))g.spaceBefore&&d.push(""),yo(t,d,g.commentBefore,!1),g.comment&&(p=g.comment);else if(De(g)){const h=je(g.key)?g.key:null;h&&(h.spaceBefore&&d.push(""),yo(t,d,h.commentBefore,!1),h.comment&&(c=!0));const y=je(g.value)?g.value:null;y?(y.comment&&(p=y.comment),y.commentBefore&&(c=!0)):g.value==null&&h?.comment&&(p=h.comment)}p&&(c=!0);let w=dr(g,l,()=>p=null);b<e.length-1&&(w+=","),p&&(w+=Pn(w,r,a(p))),!c&&(d.length>u||w.includes(`
`))&&(c=!0),d.push(w),u=d.length}const{start:f,end:m}=n;if(d.length===0)return f+m;if(!c){const b=d.reduce((g,p)=>g+p.length+2,2);c=t.options.lineWidth>0&&b>t.options.lineWidth}if(c){let b=f;for(const g of d)b+=g?`
${i}${s}${g}`:`
`;return`${b}
${s}${m}`}else return`${f}${o}${d.join(" ")}${o}${m}`}function yo({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Zt(t(r),e);n.push(i.trimStart())}}function Ln(e,t){const n=Ae(t)?t.value:t;for(const r of e)if(De(r)&&(r.key===t||r.key===n||Ae(r.key)&&r.key.value===n))return r}class kt extends ep{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(hn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||s)&&o.items.push(Rl(l,c,r))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){let r;De(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new at(t,t?.value):r=new at(t.key,t.value);const s=Ln(this.items,r.key),i=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);Ae(s.value)&&Zh(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(a=>i(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(t){const n=Ln(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Ln(this.items,t)?.value;return(!n&&Ae(r)?r.value:r)??void 0}has(t){return!!Ln(this.items,t)}set(t,n){this.add(new at(t,n),!0)}toJSON(t,n,r){const s=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(const i of this.items)op(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!De(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),ap(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const fr={collection:"map",default:!0,nodeClass:kt,tag:"tag:yaml.org,2002:map",resolve(e,t){return ns(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>kt.from(e,t,n)};class Rn extends ep{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(or,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=bo(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=bo(t);if(typeof r!="number")return;const s=this.items[r];return!n&&Ae(s)?s.value:s}has(t){const n=bo(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=bo(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];Ae(s)&&Zh(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(wt(i,String(s++),n));return r}toString(t,n,r){return t?ap(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(is(a,void 0,r))}}return i}}function bo(e){let t=Ae(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const hr={collection:"seq",default:!0,nodeClass:Rn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return rs(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Rn.from(e,t,n)},vo={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Pl(e,t,n,r)}},wo={identify:e=>e==null,createNode:()=>new de(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new de(null),stringify:({source:e},t)=>typeof e=="string"&&wo.test.test(e)?e:t.options.nullStr},Dl={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new de(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Dl.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Ot({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=Object.is(r,-0)?"-0":JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=t-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const lp={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ot},cp={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ot(e)}},up={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new de(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Ot},ko=e=>typeof e=="bigint"||Number.isInteger(e),Ml=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function dp(e,t,n){const{value:r}=e;return ko(r)&&r>=0?n+r.toString(t):Ot(e)}const fp={identify:e=>ko(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Ml(e,2,8,n),stringify:e=>dp(e,8,"0o")},hp={identify:ko,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Ml(e,0,10,n),stringify:Ot},pp={identify:e=>ko(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Ml(e,2,16,n),stringify:e=>dp(e,16,"0x")},TE=[fr,hr,vo,wo,Dl,fp,hp,pp,lp,cp,up];function mp(e){return typeof e=="bigint"||Number.isInteger(e)}const xo=({value:e})=>JSON.stringify(e),CE=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:xo},{identify:e=>e==null,createNode:()=>new de(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:xo},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:xo},{identify:mp,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>mp(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:xo}],NE={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},OE=[fr,hr].concat(CE,NE),jl={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=de.BLOCK_LITERAL),t!==de.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=a.substr(f,l);a=u.join(t===de.BLOCK_LITERAL?`
`:" ")}return Pl({comment:e,type:t,value:a},r,s,i)}};function gp(e,t){if(rs(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!De(r)){if(ns(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new at(new de(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=De(r)?r:new at(r)}}else t("Expected a sequence for this tag");return e}function yp(e,t,n){const{replacer:r}=n,s=new Rn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(Rl(a,l,n))}return s}const Bl={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:gp,createNode:yp};class pr extends Rn{constructor(){super(),this.add=kt.prototype.add.bind(this),this.delete=kt.prototype.delete.bind(this),this.get=kt.prototype.get.bind(this),this.has=kt.prototype.has.bind(this),this.set=kt.prototype.set.bind(this),this.tag=pr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(De(s)?(i=wt(s.key,"",n),o=wt(s.value,i,n)):i=wt(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=yp(t,n,r),i=new this;return i.items=s.items,i}}pr.tag="tag:yaml.org,2002:omap";const Fl={collection:"seq",identify:e=>e instanceof Map,nodeClass:pr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=gp(e,t),r=[];for(const{key:s}of n.items)Ae(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new pr,n)},createNode:(e,t,n)=>pr.from(e,t,n)};function bp({value:e,source:t},n){return t&&(e?vp:wp).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const vp={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new de(!0),stringify:bp},wp={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new de(!1),stringify:bp},IE={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ot},PE={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ot(e)}},LE={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new de(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Ot},ls=e=>typeof e=="bigint"||Number.isInteger(e);function So(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function ql(e,t,n){const{value:r}=e;if(ls(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return Ot(e)}const RE={identify:ls,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>So(e,2,2,n),stringify:e=>ql(e,2,"0b")},DE={identify:ls,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>So(e,1,8,n),stringify:e=>ql(e,8,"0")},ME={identify:ls,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>So(e,0,10,n),stringify:Ot},jE={identify:ls,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>So(e,2,16,n),stringify:e=>ql(e,16,"0x")};class mr extends kt{constructor(t){super(t),this.tag=mr.tag}add(t){let n;De(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new at(t.key,null):n=new at(t,null),Ln(this.items,n.key)||this.items.push(n)}get(t,n){const r=Ln(this.items,t);return!n&&De(r)?Ae(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Ln(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new at(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(Rl(o,null,r));return i}}mr.tag="tag:yaml.org,2002:set";const Ul={collection:"map",identify:e=>e instanceof Set,nodeClass:mr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>mr.from(e,t,n),resolve(e,t){if(ns(e)){if(e.hasAllNullValues(!0))return Object.assign(new mr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Kl(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function kp(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Ot(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const xp={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Kl(e,n),stringify:kp},Sp={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Kl(e,!1),stringify:kp},Eo={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Eo.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const u=t[8];if(u&&u!=="Z"){let d=Kl(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Ep=[fr,hr,vo,wo,vp,wp,RE,DE,ME,jE,IE,PE,LE,jl,en,Fl,Bl,Ul,xp,Sp,Eo],_p=new Map([["core",TE],["failsafe",[fr,hr,vo]],["json",OE],["yaml11",Ep],["yaml-1.1",Ep]]),$p={binary:jl,bool:Dl,float:up,floatExp:cp,floatNaN:lp,floatTime:Sp,int:hp,intHex:pp,intOct:fp,intTime:xp,map:fr,merge:en,null:wo,omap:Fl,pairs:Bl,seq:hr,set:Ul,timestamp:Eo},BE={"tag:yaml.org,2002:binary":jl,"tag:yaml.org,2002:merge":en,"tag:yaml.org,2002:omap":Fl,"tag:yaml.org,2002:pairs":Bl,"tag:yaml.org,2002:set":Ul,"tag:yaml.org,2002:timestamp":Eo};function zl(e,t,n){const r=_p.get(t);if(r&&!e)return n&&!r.includes(en)?r.concat(en):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(_p.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(en)),s.reduce((i,o)=>{const a=typeof o=="string"?$p[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys($p).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const FE=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Vl{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?zl(t,"compat"):t?zl(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?BE:{},this.tags=zl(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,hn,{value:fr}),Object.defineProperty(this,qt,{value:vo}),Object.defineProperty(this,or,{value:hr}),this.sortMapEntries=typeof o=="function"?o:o===!0?FE:null}clone(){const t=Object.create(Vl.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function qE(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=rp(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=i(e.commentBefore);n.unshift(Zt(l,""))}let o=!1,a=null;if(e.contents){if(je(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const u=i(e.contents.commentBefore);n.push(Zt(u,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>o=!0;let c=dr(e.contents,s,()=>a=null,l);a&&(c+=Pn(c,"",i(a))),(c[0]==="|"||c[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${c}`:n.push(c)}else n.push(dr(e.contents,s));if(e.directives?.docEnd)if(e.comment){const l=i(e.comment);l.includes(`
`)?(n.push("..."),n.push(Zt(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Zt(i(l),"")))}return n.join(`
`)+`
`}class _o{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,vt,{value:Al});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ot({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(_o.prototype,{[vt]:{value:Al}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=je(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){gr(this.contents)&&this.contents.add(t)}addIn(t,n){gr(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Qh(this);t.anchor=!n||r.has(n)?Xh(n||"a",r):n}return new Cl(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const p=h=>typeof h=="number"||h instanceof String||h instanceof Number,w=n.filter(p).map(String);w.length>0&&(n=n.concat(w)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:m}=mE(this,o||"a"),b={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:m},g=is(t,u,b);return a&&Me(g)&&(g.flow=!0),f(),g}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new at(s,i)}delete(t){return gr(this.contents)?this.contents.delete(t):!1}deleteIn(t){return os(t)?this.contents==null?!1:(this.contents=null,!0):gr(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Me(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return os(t)?!n&&Ae(this.contents)?this.contents.value:this.contents:Me(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Me(this.contents)?this.contents.has(t):!1}hasIn(t){return os(t)?this.contents!==void 0:Me(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=co(this.schema,[t],n):gr(this.contents)&&this.contents.set(t,n)}setIn(t,n){os(t)?this.contents=n:this.contents==null?this.contents=co(this.schema,Array.from(t),n):gr(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ot({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ot({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Vl(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=wt(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?cr(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return qE(this,t)}}function gr(e){if(Me(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Ap extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class cs extends Ap{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class UE extends Ap{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Tp=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o=""+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,i))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l?.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function yr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,d="",f="",m=!1,b=!1,g=null,p=null,w=null,h=null,y=null,k=null,v=null;for(const E of e)switch(b&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&i(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),g&&(c&&E.type!=="comment"&&E.type!=="newline"&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),E.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&E.source.includes("	")&&(g=E),u=!0;break;case"comment":{u||i(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const C=E.source.substring(1)||" ";d?d+=f+C:d=C,f="",c=!1;break}case"newline":c?d?d+=E.source:(!k||n!=="seq-item-ind")&&(l=!0):f+=E.source,c=!0,m=!0,(p||w)&&(h=E),u=!0;break;case"anchor":p&&i(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&i(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=E,v??(v=E.offset),c=!1,u=!1,b=!0;break;case"tag":{w&&i(E,"MULTIPLE_TAGS","A node can have at most one tag"),w=E,v??(v=E.offset),c=!1,u=!1,b=!0;break}case n:(p||w)&&i(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),k&&i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${t??"collection"}`),k=E,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(t){y&&i(E,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=E,c=!1,u=!1;break}default:i(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),c=!1,u=!1}const x=e[e.length-1],S=x?x.offset+x.source.length:s;return b&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(c&&g.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&i(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:y,found:k,spaceBefore:l,comment:d,hasNewline:m,anchor:p,tag:w,newlineAfterProp:h,end:S,start:v??S}}function us(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(us(t.key)||us(t.value))return!0}return!1;default:return!0}}function Hl(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&us(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Cp(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||Ae(i)&&Ae(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const Np="All mapping items must start at the same column";function KE({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=i?.nodeClass??kt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const u of r.items){const{start:d,key:f,sep:m,value:b}=u,g=yr(d,{indicator:"explicit-key-ind",next:f??m?.[0],offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),p=!g.found;if(p){if(f&&(f.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&s(l,"BAD_INDENT",Np)),!g.anchor&&!g.tag&&!m){c=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||us(f))&&s(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==r.indent&&s(l,"BAD_INDENT",Np);n.atKey=!0;const w=g.end,h=f?e(n,f,g,s):t(n,w,d,null,g,s);n.schema.compat&&Hl(r.indent,f,s),n.atKey=!1,Cp(n,a.items,h)&&s(w,"DUPLICATE_KEY","Map keys must be unique");const y=yr(m??[],{indicator:"map-value-ind",next:b,offset:h.range[2],onError:s,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=y.end,y.found){p&&(b?.type==="block-map"&&!y.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<y.found.offset-1024&&s(h.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const k=b?e(n,b,y,s):t(n,l,m,null,y,s);n.schema.compat&&Hl(r.indent,b,s),l=k.range[2];const v=new at(h,k);n.options.keepSourceTokens&&(v.srcToken=u),a.items.push(v)}else{p&&s(h.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(h.comment?h.comment+=`
`+y.comment:h.comment=y.comment);const k=new at(h);n.options.keepSourceTokens&&(k.srcToken=u),a.items.push(k)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,c??l],a}function zE({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=i?.nodeClass??Rn,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:u,value:d}of r.items){const f=yr(u,{indicator:"seq-item-ind",next:d,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d?.type==="block-seq"?s(f.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=f.end,f.comment&&(a.comment=f.comment);continue}const m=d?e(n,d,f,s):t(n,f.end,u,null,f,s);n.schema.compat&&Hl(r.indent,d,s),l=m.range[2],a.items.push(m)}return a.range=[r.offset,l,c??l],a}function ds(e,t,n,r){let s="";if(e){let i=!1,o="";for(const a of e){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";s?s+=o+u:s=u,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=l.length}}return{comment:s,offset:t}}const Gl="Block collections are not allowed within flow collections",Wl=e=>e&&(e.type==="block-map"||e.type==="block-seq");function VE({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=i?.nodeClass??(o?kt:Rn),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let p=0;p<r.items.length;++p){const w=r.items[p],{start:h,key:y,sep:k,value:v}=w,x=yr(h,{flow:a,indicator:"explicit-key-ind",next:y??k?.[0],offset:d,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!k&&!v){p===0&&x.comma?s(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):p<r.items.length-1&&s(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),x.comment&&(c.comment?c.comment+=`
`+x.comment:c.comment=x.comment),d=x.end;continue}!o&&n.options.strict&&us(y)&&s(y,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(p===0)x.comma&&s(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(x.comma||s(x.start,"MISSING_CHAR",`Missing , between ${a} items`),x.comment){let S="";e:for(const E of h)switch(E.type){case"comma":case"space":break;case"comment":S=E.source.substring(1);break e;default:break e}if(S){let E=c.items[c.items.length-1];De(E)&&(E=E.value??E.key),E.comment?E.comment+=`
`+S:E.comment=S,x.comment=x.comment.substring(S.length+1)}}if(!o&&!k&&!x.found){const S=v?e(n,v,x,s):t(n,x.end,k,null,x,s);c.items.push(S),d=S.range[2],Wl(v)&&s(S.range,"BLOCK_IN_FLOW",Gl)}else{n.atKey=!0;const S=x.end,E=y?e(n,y,x,s):t(n,S,h,null,x,s);Wl(y)&&s(E.range,"BLOCK_IN_FLOW",Gl),n.atKey=!1;const C=yr(k??[],{flow:a,indicator:"map-value-ind",next:v,offset:E.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(C.found){if(!o&&!x.found&&n.options.strict){if(k)for(const D of k){if(D===C.found)break;if(D.type==="newline"){s(D,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<C.found.offset-1024&&s(C.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else v&&("source"in v&&v.source?.[0]===":"?s(v,"MISSING_CHAR",`Missing space after : in ${a}`):s(C.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const M=v?e(n,v,C,s):C.found?t(n,C.end,k,null,C,s):null;M?Wl(v)&&s(M.range,"BLOCK_IN_FLOW",Gl):C.comment&&(E.comment?E.comment+=`
`+C.comment:E.comment=C.comment);const j=new at(E,M);if(n.options.keepSourceTokens&&(j.srcToken=w),o){const D=c;Cp(n,D.items,E)&&s(S,"DUPLICATE_KEY","Map keys must be unique"),D.items.push(j)}else{const D=new kt(n.schema);D.flow=!0,D.items.push(j);const z=(M??E).range;D.range=[E.range[0],z[1],z[2]],c.items.push(D)}d=M?M.range[2]:C.end}}const f=o?"}":"]",[m,...b]=r.end;let g=d;if(m?.source===f)g=m.offset+m.source.length;else{const p=a[0].toUpperCase()+a.substring(1),w=u?`${p} must end with a ${f}`:`${p} in block collection must be sufficiently indented and end with a ${f}`;s(d,u?"MISSING_CHAR":"BAD_INDENT",w),m&&m.source.length!==1&&b.unshift(m)}if(b.length>0){const p=ds(b,g,n.options.strict,s);p.comment&&(c.comment?c.comment+=`
`+p.comment:c.comment=p.comment),c.range=[r.offset,g,p.offset]}else c.range=[r.offset,g,g];return c}function Jl(e,t,n,r,s,i){const o=n.type==="block-map"?KE(e,t,n,r,i):n.type==="block-seq"?zE(e,t,n,r,i):VE(e,t,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function HE(e,t,n,r,s){const i=r.tag,o=i?t.directives.tagName(i.source,f=>s(i,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:m}=r,b=f&&i?f.offset>i.offset?f:i:f??i;b&&(!m||m.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===kt.tagName&&a==="map"||o===Rn.tagName&&a==="seq")return Jl(e,t,n,s,o);let l=t.schema.tags.find(f=>f.tag===o&&f.collection===a);if(!l){const f=t.schema.knownTags[o];if(f?.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?s(i,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Jl(e,t,n,s,o)}const c=Jl(e,t,n,s,o,l),u=l.resolve?.(c,f=>s(i,"TAG_RESOLVE_FAILED",f),t.options)??c,d=je(u)?u:new de(u);return d.range=c.range,d.tag=o,l?.format&&(d.format=l.format),d}function GE(e,t,n){const r=t.offset,s=WE(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?de.BLOCK_FOLDED:de.BLOCK_LITERAL,o=t.source?JE(t.source):[];let a=o.length;for(let g=o.length-1;g>=0;--g){const p=o[g][1];if(p===""||p==="\r")a=g;else break}if(a===0){const g=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let p=r+s.length;return t.source&&(p+=t.source.length),{value:g,type:i,comment:s.comment,range:[r,p,p]}}let l=t.indent+s.indent,c=t.offset+s.length,u=0;for(let g=0;g<a;++g){const[p,w]=o[g];if(w===""||w==="\r")s.indent===0&&p.length>l&&(l=p.length);else{p.length<l&&n(c+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=p.length),u=g,l===0&&!e.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=p.length+w.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let d="",f="",m=!1;for(let g=0;g<u;++g)d+=o[g][0].slice(l)+`
`;for(let g=u;g<a;++g){let[p,w]=o[g];c+=p.length+w.length+1;const h=w[w.length-1]==="\r";if(h&&(w=w.slice(0,-1)),w&&p.length<l){const y=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(c-w.length-(h?2:1),"BAD_INDENT",y),p=""}i===de.BLOCK_LITERAL?(d+=f+p.slice(l)+w,f=`
`):p.length>l||w[0]==="	"?(f===" "?f=`
`:!m&&f===`
`&&(f=`

`),d+=f+p.slice(l)+w,f=`
`,m=!0):w===""?f===`
`?d+=`
`:f=`
`:(d+=f+w,f=" ",m=!1)}switch(s.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)d+=`
`+o[g][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const b=r+s.length+t.source.length;return{value:d,type:i,comment:s.comment,range:[r,b,b]}}function WE({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,a="",l=-1;for(let f=1;f<s.length;++f){const m=s[f];if(!a&&(m==="-"||m==="+"))a=m;else{const b=Number(m);!o&&b?o=b:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,u="",d=s.length;for(let f=1;f<t.length;++f){const m=t[f];switch(m.type){case"space":c=!0;case"newline":d+=m.source.length;break;case"comment":n&&!c&&r(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=m.source.length,u=m.source.substring(1);break;case"error":r(m,"UNEXPECTED_TOKEN",m.message),d+=m.source.length;break;default:{const b=`Unexpected token in block scalar header: ${m.type}`;r(m,"UNEXPECTED_TOKEN",b);const g=m.source;g&&typeof g=="string"&&(d+=g.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:d}}function JE(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let i=1;i<t.length;i+=2)s.push([t[i],t[i+1]]);return s}function YE(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let a,l;const c=(f,m,b)=>n(r+f,m,b);switch(s){case"scalar":a=de.PLAIN,l=QE(i,c);break;case"single-quoted-scalar":a=de.QUOTE_SINGLE,l=XE(i,c);break;case"double-quoted-scalar":a=de.QUOTE_DOUBLE,l=ZE(i,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const u=r+i.length,d=ds(o,u,t,n);return{value:l,type:a,comment:d.comment,range:[r,u,d.offset]}}function QE(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Op(e)}function XE(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Op(e.slice(1,-1)).replace(/''/g,"'")}function Op(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),s+i+(r?.[1]??"")}function ZE(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=e_(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=t_[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=n_(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function e_(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const t_={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function n_(e,t,n,r){const s=e.substr(t,n),i=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function Ip(e,t,n,r){const{value:s,type:i,comment:o,range:a}=t.type==="block-scalar"?GE(e,t,r):YE(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let c;e.options.stringKeys&&e.atKey?c=e.schema[qt]:l?c=r_(e.schema,s,l,n,r):t.type==="scalar"?c=s_(e,s,t,r):c=e.schema[qt];let u;try{const d=c.resolve(s,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);u=Ae(d)?d:new de(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),u=new de(s)}return u.range=a,u.source=s,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function r_(e,t,n,r,s){if(n==="!")return e[qt];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)i.push(a);else return a;for(const a of i)if(a.test?.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[qt])}function s_({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[qt];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[qt];if(o.tag!==a.tag){const l=t.tagString(o.tag),c=t.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",u,!0)}}return o}function i_(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];s?.type==="space";)e+=s.source.length,s=t[++r];break}}return e}const o_={composeNode:Pp,composeEmptyNode:Yl};function Pp(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,u=!0;switch(t.type){case"alias":c=a_(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Ip(e,t,l,r),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=HE(o_,e,t,n,r),a&&(c.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),c=Yl(e,t.offset,void 0,null,n,r),u=!1}}return a&&c.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!Ae(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function Yl(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:i_(t,n,r),indent:-1,source:""},d=Ip(e,u,a,c);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(d.spaceBefore=!0),i&&(d.comment=i,d.range[2]=l),d}function a_({options:e},{offset:t,source:n,end:r},s){const i=new Cl(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=ds(r,o,e.strict,s);return i.range=[t,o,a.offset],a.comment&&(i.comment=a.comment),i}function l_(e,t,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:t},e),l=new _o(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=yr(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Pp(c,s,u,o):Yl(c,u.end,r,null,u,o);const d=l.contents.range[2],f=ds(i,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function fs(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Lp(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const i=e[s];switch(i[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(i.substring(1)||" "),n=!0,r=!1;break;case"%":e[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class c_{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=fs(n);i?this.warnings.push(new UE(o,r,s)):this.errors.push(new cs(o,r,s))},this.directives=new ot({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Lp(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(Me(i)&&!i.flow&&i.items.length>0){let o=i.items[0];De(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Lp(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=fs(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=l_(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new cs(fs(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new cs(fs(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=ds(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new cs(fs(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new _o(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const Rp="\uFEFF",Dp="",Mp="",Ql="";function u_(e){switch(e){case Rp:return"byte-order-mark";case Dp:return"doc-mode";case Mp:return"flow-error-end";case Ql:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function It(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const jp=new Set("0123456789ABCDEFabcdef"),d_=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),$o=new Set(",[]{}"),f_=new Set(` ,[]{}
\r	`),Xl=e=>!e||f_.has(e);class h_{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&It(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Rp&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield Dp,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&It(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!It(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&It(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Xl),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&It(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Mp,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Xl),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||It(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>It(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)t=i;else break}while(!0);return yield Ql,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(It(i)||t&&$o.has(i))break;n=r}else if(It(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&$o.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&$o.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Ql,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Xl))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(It(n)||t&&$o.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!It(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(d_.has(n))n=this.buffer[++t];else if(n==="%"&&jp.has(this.buffer[t+1])&&jp.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class p_{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function pn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Bp(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Fp(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ao(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function br(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function qp(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!pn(t.start,"explicit-key-ind")&&!pn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Fp(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class m_{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new h_,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=u_(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&t?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&qp(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Bp(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Bp(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ao(this.peek(2)),r=br(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const r=t.items[t.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,s=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let i=[];if(s&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(i.push(this.sourceToken),t.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(i.push(this.sourceToken),t.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(pn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(Fp(n.key)&&!pn(n.sep,"newline")){const o=br(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(pn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=br(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?t.items.push({start:i,key:null,sep:[this.sourceToken]}):pn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);s||n.value?(t.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!pn(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:i});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const r=t.items[t.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||pn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r?.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Ao(r),i=br(s);qp(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ao(t),r=br(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ao(t),r=br(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function g_(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new p_||null,prettyErrors:t}}function y_(e,t={}){const{lineCounter:n,prettyErrors:r}=g_(t),s=new m_(n?.addNewLine),i=new c_(t);let o=null;for(const a of i.compose(s.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new cs(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Tp(e,n)),o.warnings.forEach(Tp(e,n))),o}function Up(e,t,n){let r;const s=y_(e,n);if(!s)return null;if(s.warnings.forEach(i=>sp(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}var b_=L('<div class="flex items-center gap-4 my-6"><div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div><span class="text-sm text-gray-400 dark:text-gray-500"></span><div class="flex-1 h-px bg-gray-200 dark:bg-gray-700">'),v_=L('<div><span class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"></span><label><input type=file accept=.json,.yaml,.yml class=sr-only><div class="flex flex-col items-center gap-4 relative z-10"><div><svg class="w-8 h-8"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><p class="text-base font-medium text-gray-700 dark:text-gray-200"><span class="text-blue-600 dark:text-blue-400 font-bold hover:underline"></span> </p><p class="text-sm text-gray-500 dark:text-gray-400 mt-2"></p></div></div><div class="absolute inset-0 bg-gradient-to-br from-white/40 to-transparent dark:from-white/5 dark:to-transparent pointer-events-none">'),w_=L('<div class="mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200/50 dark:border-red-800/30"><p class="text-sm text-red-600 dark:text-red-400">'),k_=L('<div class="mt-8 pt-6 border-t border-gray-200/50 dark:border-gray-700/50"><p class="text-xs text-gray-400 dark:text-gray-500 mb-3"></p><div class="flex flex-wrap gap-2"><button type=button class="px-3 py-1.5 text-xs rounded-lg glass-button text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">Petstore API</button><button type=button class="px-3 py-1.5 text-xs rounded-lg glass-button text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">APIs.guru'),x_=L('<div class="flex flex-col items-center justify-center min-h-screen p-8"><div class="glass-card rounded-4xl p-10 max-w-lg w-full"><div class="flex flex-col items-center mb-8"><div class="relative inline-flex mb-6"><div class="w-20 h-20 rounded-3xl bg-linear-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center shadow-2xl shadow-indigo-500/25"><svg class="w-10 h-10 text-white"fill=none viewBox="0 0 24 24"stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><div class="absolute -inset-2 rounded-3xl bg-linear-to-br from-blue-500 via-indigo-500 to-purple-600 opacity-15 blur-2xl -z-10"></div></div><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">WTI</h1><p class="text-gray-500 dark:text-gray-400"></p></div><div class="divider-glass my-6"></div><div class=space-y-4><div><label for=spec-url class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"></label><div class="flex gap-2 mb-3"><button type=button></button><button type=button></button></div><div class="flex gap-2">');const S_=e=>{const{t}=Re(),[n,r]=X(""),[s,i]=X("openapi"),[o,a]=X(!1),[l,c]=X(null),[u,d]=X(!1);let f;const m=async()=>{const v=n().trim();if(!v){c(t("specLoader.urlRequired"));return}a(!0),c(null);try{s()==="grpc"?await e.store.actions.loadSpec({type:"grpc",endpoint:v}):await e.store.actions.loadSpec({type:"openapi",url:v})}catch(x){c(x instanceof Error?x.message:t("specLoader.loadFailed"))}finally{a(!1)}},b=async v=>{if(!v)return;const x=["application/json","application/x-yaml","text/yaml","text/plain"],S=[".json",".yaml",".yml"].some(E=>v.name.toLowerCase().endsWith(E));if(!x.includes(v.type)&&!S){c(t("specLoader.invalidFileType"));return}a(!0),c(null);try{const E=await v.text(),C=E.trim();let M;if(C.startsWith("{")||C.startsWith("["))try{M=JSON.parse(E)}catch{M=Up(E)}else M=Up(E);await e.store.actions.loadSpec({type:"openapi",spec:M})}catch(E){c(E instanceof Error?E.message:t("specLoader.loadFailed"))}finally{a(!1)}},g=v=>{const x=v.target;if(!(x instanceof HTMLInputElement))return;const S=x.files?.[0];S&&b(S),x.value=""},p=v=>{v.preventDefault(),v.stopPropagation(),d(!0)},w=v=>{v.preventDefault(),v.stopPropagation(),d(!1)},h=v=>{v.preventDefault(),v.stopPropagation(),d(!1);const x=v.dataTransfer?.files[0];x&&b(x)},y=v=>{v.key==="Enter"&&m()},k=()=>s()==="grpc"?t("specLoader.grpcPlaceholder"):"https://api.example.com/openapi.json";return(()=>{var v=x_(),x=v.firstChild,S=x.firstChild,E=S.firstChild,C=E.nextSibling,M=C.nextSibling,j=S.nextSibling,D=j.nextSibling,z=D.firstChild,H=z.firstChild,W=H.nextSibling,re=W.firstChild,le=re.nextSibling,G=W.nextSibling;return $(M,()=>t("specLoader.subtitle")),$(H,()=>t("specLoader.loadFromUrl")),re.$$click=()=>i("openapi"),$(re,()=>t("specLoader.openapi")),le.$$click=()=>i("grpc"),$(le,()=>t("specLoader.grpc")),$(G,A(Ct,{id:"spec-url",get value(){return n()},onInput:r,onKeyDown:y,get placeholder(){return k()},class:"flex-1"}),null),$(G,A(Tn,{onClick:m,get disabled(){return o()},get children(){return Oe(()=>!!o())()?t("specLoader.loading"):t("specLoader.load")}}),null),$(D,A(K,{get when(){return s()==="openapi"},get children(){return[(()=>{var ne=b_(),q=ne.firstChild,O=q.nextSibling;return $(O,()=>t("specLoader.or")),ne})(),(()=>{var ne=v_(),q=ne.firstChild,O=q.nextSibling,F=O.firstChild,P=F.nextSibling,_=P.firstChild,T=_.nextSibling,B=T.firstChild,V=B.firstChild;V.nextSibling;var Y=B.nextSibling;$(q,()=>t("specLoader.uploadFile")),O.addEventListener("drop",h),O.addEventListener("dragleave",w),O.addEventListener("dragover",p),F.addEventListener("change",g);var ce=f;return typeof ce=="function"?Bn(ce,F):f=F,$(V,()=>t("specLoader.clickToUpload")),$(B,()=>t("specLoader.orDragDrop"),null),$(Y,()=>t("specLoader.supportedFormats")),ee(ie=>{var I=`relative rounded-3xl p-10 text-center transition-all duration-300 cursor-pointer overflow-hidden group border-2 block ${u()?"border-blue-500 bg-blue-500/10 scale-[1.02] shadow-xl shadow-blue-500/20":"border-dashed border-gray-300/50 dark:border-gray-600/50 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50/50 dark:hover:bg-white/5"}`,R=`w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 ${u()?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 scale-110":"bg-gray-100 dark:bg-gray-800 text-gray-400 group-hover:scale-110 group-hover:bg-white dark:group-hover:bg-gray-700 shadow-sm"}`;return I!==ie.e&&se(O,ie.e=I),R!==ie.t&&se(_,ie.t=R),ie},{e:void 0,t:void 0}),ne})()]}}),null),$(x,A(K,{get when(){return l()},get children(){var ne=w_(),q=ne.firstChild;return $(q,l),ne}}),null),$(x,A(K,{get when(){return s()==="openapi"},get children(){var ne=k_(),q=ne.firstChild,O=q.nextSibling,F=O.firstChild,P=F.nextSibling;return $(q,()=>t("specLoader.tryExample")),F.$$click=()=>r("https://petstore3.swagger.io/api/v3/openapi.json"),P.$$click=()=>r("https://api.apis.guru/v2/openapi.yaml"),ne}}),null),ee(ne=>{var q=`flex-1 px-4 py-2 text-sm font-medium rounded-xl transition-all ${s()==="openapi"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"glass-button text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,O=`flex-1 px-4 py-2 text-sm font-medium rounded-xl transition-all ${s()==="grpc"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/25":"glass-button text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`;return q!==ne.e&&se(re,ne.e=q),O!==ne.t&&se(le,ne.t=O),ne},{e:void 0,t:void 0}),v})()};he(["click"]);const E_={spec:null,loading:!1,error:null,selectedOperation:null,selectedServer:null,serverVariables:{},searchQuery:"",expandedTags:new Set};function Kp(e){if(!e?.variables)return{};const t={};for(const[n,r]of Object.entries(e.variables))t[n]=r.default;return t}function __(){const[e,t]=Ts(E_),n=ye(()=>e.spec?jf(e.spec.operations):null),r={setSpec(s){const i=s.servers[0]||null;t({spec:s,loading:!1,error:null,selectedServer:i,serverVariables:Kp(i)}),r.expandAllTags()},setLoading(s){t({loading:s})},setError(s){t({error:s,loading:!1})},clearError(){t({error:null})},selectOperation(s){if(t({selectedOperation:s}),s){const i=e.selectedServer&&e.spec?.servers?e.spec.servers.indexOf(e.selectedServer):0;Uf({operationId:s.id,serverIndex:i})}else Lv()},selectOperationById(s){const i=e.spec?.operations.find(o=>o.id===s);return i?(this.selectOperation(i),!0):!1},selectServer(s){if(t({selectedServer:s,serverVariables:Kp(s)}),e.selectedOperation){const i=e.spec?.servers.indexOf(s)??0;Uf({operationId:e.selectedOperation.id,serverIndex:i})}},setServerVariable(s,i){t("serverVariables",s,i)},selectServerByIndex(s){const i=e.spec?.servers[s];return i?(this.selectServer(i),!0):!1},setSearchQuery(s){t({searchQuery:s})},toggleTag(s){const i=new Set(e.expandedTags);i.has(s)?i.delete(s):i.add(s),t({expandedTags:i})},expandAllTags(){if(e.spec){const s=new Set;for(const i of e.spec.tags)s.add(i.name);for(const i of e.spec.operations)for(const o of i.tags)s.add(o);t({expandedTags:s})}},collapseAllTags(){t({expandedTags:new Set})},async loadSpec(s){t({loading:!0,error:null});try{if(s.type==="openapi"){const i=await m0(s);r.setSpec(i.spec)}else if(s.type==="grpc"){const i=await Q0(s.endpoint);r.setSpec(i)}}catch(i){t({error:i instanceof Error?i.message:"Failed to load spec",loading:!1})}}};return{state:e,actions:r,search:{getFuse:()=>n(),searchOperations:(s,i=50)=>{const o=n();return o?Bf(o,s,i):[]}}}}function $_(e){if(typeof e!="object"||e===null)return!1;const t=e;return typeof t.id=="string"&&typeof t.timestamp=="number"&&typeof t.operationId=="string"&&t.request!==void 0}const Zl=Nb({dbName:"wti-storage",dbVersion:1,stores:{history:{keyPath:"id",indexes:[{name:"by-timestamp",keyPath:"timestamp"}]},auth:{keyPath:"id"}}});function A_(){const e=new gb({storage:Zl,storeName:"history",maxEntries:500,pageSize:20,timestampIndex:"by-timestamp",validateEntry:$_}),[t,n]=Ts({entries:[]}),[r,s]=X(!1),[i,o]=X(!0),[a,l]=X(0),c=e.subscribe(u=>{n("entries",u.entries),s(u.loading),o(u.hasMore),l(u.totalCount)});if(typeof He=="function")try{He(c)}catch{}return{state:t,actions:{init:()=>e.init(),loadMore:()=>e.loadMore(),addEntry:u=>e.add(u),updateEntry:(u,d)=>e.update(u,d),removeEntry:u=>e.remove(u),clearHistory:()=>e.clear(),getEntry:u=>e.get(u),exportHistory:()=>e.exportAll(),importHistory:u=>e.importFromJson(u),isLoading:r,hasMore:i,getTotalCount:a},loading:r,hasMore:i,totalCount:a}}const zp="auth",Vp="state",Hp=60*1e3,T_=30*1e3,C_={configs:{},activeScheme:null};function N_(){const[e,t]=Ts(C_),[n,r]=X(!1),[s,i]=X(!1),[o,a]=X(null),[l,c]=X(null),u=async()=>{const d=Un(e);await Zl.set(zp,Vp,{configs:d.configs,activeScheme:d.activeScheme})};return{state:e,actions:{async init(){if(!s()){r(!0);try{const d=await Zl.get(zp,Vp);d&&t({configs:d.configs||{},activeScheme:d.activeScheme||null})}catch(d){console.warn("Failed to load auth state from storage:",d)}finally{r(!1),i(!0)}}},isLoading(){return n()},isInitialized(){return s()},getError(){return o()},clearError(){a(null)},isRefreshInCooldown(){const d=l();return d?Date.now()-d<T_:!1},async setApiKey(d,f,m="header"){t("configs",d,{type:"apiKey",name:d,in:m,value:f}),t("activeScheme",d),await u()},async setBearerToken(d,f="Bearer"){const m={type:"bearer",token:d,scheme:f},b="bearer";t("configs",b,m),t("activeScheme",b),await u()},async setBasicAuth(d,f){const m={type:"basic",username:d,password:f},b="basic";t("configs",b,m),t("activeScheme",b),await u()},async setOAuth2Token(d,f){const m={type:"oauth2",accessToken:d,refreshToken:f?.refreshToken,expiresAt:f?.expiresAt,tokenType:f?.tokenType||"Bearer",scopes:f?.scopes},b="oauth2";t("configs",b,m),t("activeScheme",b),await u()},async setOpenIdAuth(d,f,m){const b={type:"openid",issuerUrl:d,clientId:f,clientSecret:m?.clientSecret,scopes:m?.scopes,accessToken:m?.accessToken,refreshToken:m?.refreshToken,idToken:m?.idToken,expiresAt:m?.expiresAt,tokenType:m?.tokenType||"Bearer"},g="openid";t("configs",g,b),t("activeScheme",g),await u()},async clearOpenIdAuth(){const d=e.configs.openid;d&&t("configs","openid",{type:"openid",issuerUrl:d.issuerUrl,clientId:d.clientId,clientSecret:d.clientSecret,scopes:d.scopes,accessToken:void 0,refreshToken:void 0,idToken:void 0,expiresAt:void 0,tokenType:void 0}),e.activeScheme==="openid"&&t("activeScheme",null),await u()},async saveOpenIdClientConfig(d,f,m){const b=e.configs.openid,g={type:"openid",issuerUrl:d,clientId:f,clientSecret:m?.clientSecret,scopes:m?.scopes,accessToken:b?.accessToken,refreshToken:b?.refreshToken,idToken:b?.idToken,expiresAt:b?.expiresAt,tokenType:b?.tokenType};t("configs","openid",g),await u()},async clearOpenIdConfigCompletely(){t("configs","openid",void 0),e.activeScheme==="openid"&&t("activeScheme",null),await u()},async clearAuth(d){d?(t("configs",d,void 0),e.activeScheme===d&&t("activeScheme",null)):t({configs:{},activeScheme:null}),await u()},async setActiveScheme(d){t("activeScheme",d),await u()},getActiveAuth(){if(e.activeScheme)return e.configs[e.activeScheme]},isConfigured(d){return Object.values(e.configs).some(f=>f?.type===d)},getAuthByType(d){return Object.values(e.configs).find(f=>f?.type===d)},isOpenIdTokenExpiringSoon(){const d=e.configs.openid;return d?.expiresAt?Date.now()>=d.expiresAt-Hp:!1},async refreshOpenIdAuth(){const d=e.configs.openid;if(!d||d.type!=="openid"||!d.refreshToken)return!1;try{const f=await HS(d);return t("configs","openid",{...d,accessToken:f.accessToken,refreshToken:f.refreshToken,expiresAt:f.expiresAt,idToken:f.idToken||d.idToken}),await u(),c(null),!0}catch(f){return console.error("Failed to refresh OpenID tokens:",f),c(Date.now()),!1}},async getActiveAuthWithAutoRefresh(){if(!e.activeScheme)return;const d=e.configs[e.activeScheme];if(d){if(d.type==="openid"&&d.refreshToken&&d.expiresAt){const f=Date.now(),m=f>=d.expiresAt-Hp,b=f>=d.expiresAt;if(m&&!this.isRefreshInCooldown()){if(await this.refreshOpenIdAuth())return e.configs[e.activeScheme];if(b){console.warn("OpenID token expired and refresh failed. Authentication invalid.");return}console.warn("OpenID token refresh failed but token not yet expired. Using existing token.")}else if(b)return}return d}},async startOpenIdLogin(d,f,m){const b=await oo(d),g=US(),p=await KS(g),w=jh(32),h=m?.redirectUri||window.location.origin+window.location.pathname,y={issuerUrl:d,clientId:f,clientSecret:m?.clientSecret,scopes:m?.scopes||["openid","profile","email"],codeVerifier:g,redirectUri:h,state:w};zS(y);const k=WS({authorizationEndpoint:b.authorizationEndpoint,clientId:f,redirectUri:h,scopes:y.scopes,state:w,codeChallenge:p});window.location.href=k},async handleOpenIdCallback(){const d=new URL(window.location.href),f=d.searchParams.get("code"),m=d.searchParams.get("state"),b=d.searchParams.get("error"),g=d.searchParams.get("error_description");let p;const w=y=>{p&&clearTimeout(p),a(y),p=setTimeout(()=>a(null),5e3)};if(!f&&!b)return!1;if(b)return w(g||b),!1;const h=VS();if(!h)return w("Missing PKCE state - authorization flow may have expired"),!1;if(m!==h.state)return w("Invalid state parameter - possible CSRF attack"),!1;if(!f)return w("Missing authorization code"),!1;try{const y=await GS({issuerUrl:h.issuerUrl,clientId:h.clientId,clientSecret:h.clientSecret,code:f,redirectUri:h.redirectUri,codeVerifier:h.codeVerifier});return await this.setOpenIdAuth(h.issuerUrl,h.clientId,{clientSecret:h.clientSecret,scopes:h.scopes,accessToken:y.accessToken,refreshToken:y.refreshToken,idToken:y.idToken,expiresAt:y.expiresAt,tokenType:y.tokenType}),d.searchParams.delete("code"),d.searchParams.delete("state"),window.history.replaceState({},"",d.toString()),!0}catch(y){return w(y instanceof Error?y.message:"Token exchange failed"),!1}},hasPendingOidcCallback(){const d=new URL(window.location.href);return d.searchParams.has("code")||d.searchParams.has("error")}},loading:n,initialized:s,error:o}}var O_=L('<div><div class="fixed inset-0 bg-mesh -z-10"></div><div class="fixed inset-0 pattern-dots -z-10">');function Gp(e){return A(q1,{get initialTheme(){return e.theme},get children(){return A(Mb,{get locale(){return e.locale??"en"},get children(){return A(nE,{get children(){return A(I_,{get className(){return e.className},get spec(){return e.spec}})}})}})}})}function I_(e){const{theme:t}=Hh(),n=__(),r=N_(),s=A_(),[i,o]=X(!1),[a,l]=X(void 0),c=()=>t()==="dark"?"dark":"";an(async()=>{await Promise.all([r.actions.init(),s.actions.init()]),r.actions.hasPendingOidcCallback()&&await r.actions.handleOpenIdCallback()}),Qe(()=>{e.spec&&n.actions.loadSpec(e.spec)}),Qe(()=>{if(n.state.spec&&!n.state.selectedOperation){const{operationId:d,serverIndex:f}=Pv();d&&(f!==void 0&&n.actions.selectServerByIndex(f),n.actions.selectOperationById(d))}});const u=d=>{const f=n.state.spec?.operations.find(m=>m.id===d.operationId);f&&d.requestValues&&(l(d.requestValues),n.actions.selectOperation(f),o(!1))};return(()=>{var d=O_(),f=d.firstChild;return f.nextSibling,$(d,A(tE,{get message(){return r.error()},title:"OpenID Login Failed"}),null),$(d,A(K,{get when(){return n.state.loading},get children(){return A(X1,{})}}),null),$(d,A(K,{get when(){return n.state.error},get children(){return A(Z1,{get error(){return n.state.error},onRetry:()=>n.actions.clearError()})}}),null),$(d,A(K,{get when(){return n.state.spec},get children(){return A(aE,{store:n,authStore:r,historyStore:s,onOpenHistory:()=>o(!0),get replayValues(){return a()},onReplayValuesConsumed:()=>l(void 0)})}}),null),$(d,A(Ix,{store:s,get open(){return i()},onClose:()=>o(!1),onOpen:()=>o(!0),onReplay:u}),null),$(d,A(Iv,{get operations(){return n.state.spec?.operations??[]},onSelectOperation:m=>n.actions.selectOperation(m),get searchFn(){return n.search.searchOperations}}),null),$(d,A(K,{get when(){return Oe(()=>!n.state.spec&&!n.state.loading)()&&!n.state.error},get children(){return A(S_,{store:n})}}),null),ee(()=>se(d,`${c()} font-sans text-sm text-surface-900 dark:text-surface-50 min-h-screen w-full ${e.className??""}`)),d})()}typeof window<"u"&&console.log("WTI v0.3.0");function P_(e){return Object.keys(e).reduce((n,r)=>{const s=e[r];return n[r]=Object.assign({},s),Yp(s.value)&&!j_(s.value)&&!Array.isArray(s.value)&&(n[r].value=Object.assign({},s.value)),Array.isArray(s.value)&&(n[r].value=s.value.slice(0)),n},{})}function L_(e){return e?Object.keys(e).reduce((n,r)=>{const s=e[r];return n[r]=Yp(s)&&"value"in s?s:{value:s},n[r].attribute||(n[r].attribute=M_(r)),n[r].parse="parse"in n[r]?n[r].parse:typeof n[r].value!="string",n},{}):{}}function R_(e){return Object.keys(e).reduce((n,r)=>(n[r]=e[r].value,n),{})}function D_(e,t){const n=P_(t);return Object.keys(t).forEach(s=>{const i=n[s],o=e.getAttribute(i.attribute),a=e[s];o!=null&&(i.value=i.parse?Wp(o):o),a!=null&&(i.value=Array.isArray(a)?a.slice(0):a),i.reflect&&Jp(e,i.attribute,i.value,!!i.parse),Object.defineProperty(e,s,{get(){return i.value},set(l){const c=i.value;i.value=l,i.reflect&&Jp(this,i.attribute,i.value,!!i.parse);for(let u=0,d=this.__propertyChangedCallbacks.length;u<d;u++)this.__propertyChangedCallbacks[u](s,l,c)},enumerable:!0,configurable:!0})}),n}function Wp(e){if(e)try{return JSON.parse(e)}catch{return e}}function Jp(e,t,n,r){if(n==null||n===!1)return e.removeAttribute(t);let s=r?JSON.stringify(n):n;e.__updating[t]=!0,s==="true"&&(s=""),e.setAttribute(t,s),Promise.resolve().then(()=>delete e.__updating[t])}function M_(e){return e.replace(/\.?([A-Z]+)/g,(t,n)=>"-"+n.toLowerCase()).replace("_","-").replace(/^-/,"")}function Yp(e){return e!=null&&(typeof e=="object"||typeof e=="function")}function j_(e){return Object.prototype.toString.call(e)==="[object Function]"}function B_(e){return typeof e=="function"&&e.toString().indexOf("class")===0}let hs;function F_(){Object.defineProperty(hs,"renderRoot",{value:hs})}function q_(e,t){const n=Object.keys(t);return class extends e{static get observedAttributes(){return n.map(s=>t[s].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={};for(let s of n)this[s]=void 0}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=D_(this,t);const s=R_(this.props),i=this.Component,o=hs;try{hs=this,this.__initialized=!0,B_(i)?new i(s,{element:this}):i(s,{element:this})}finally{hs=o}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let s=null;for(;s=this.__releaseCallbacks.pop();)s(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(s,i,o){if(this.__initialized&&!this.__updating[s]&&(s=this.lookupProp(s),s in t)){if(o==null&&!this[s])return;this[s]=t[s].parse?Wp(o):o}}lookupProp(s){if(t)return n.find(i=>s===i||s===t[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(s){this.__releaseCallbacks.push(s)}addPropertyChangedCallback(s){this.__propertyChangedCallbacks.push(s)}}}function U_(e,t={},n={}){const{BaseElement:r=HTMLElement,extension:s,customElements:i=window.customElements}=n;return o=>{let a=i.get(e);return a?(a.prototype.Component=o,a):(a=q_(r,L_(t)),a.prototype.Component=o,a.prototype.registeredTag=e,i.define(e,a,s),a)}}function K_(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[s,i]=X(e[t[r]]);Object.defineProperty(n,t[r],{get:s,set(o){i(()=>o)}})}return n}function z_(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&!(t.assignedSlot&&t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}function V_(e){return(t,n)=>{const{element:r}=n;return Sr(s=>{const i=K_(t);r.addPropertyChangedCallback((a,l)=>i[a]=l),r.addReleaseCallback(()=>{r.renderRoot.textContent="",s()});const o=e(i,n);return $(r.renderRoot,o)},z_(r))}}function H_(e,t,n){return arguments.length===2&&(n=t,t={}),U_(e,t)(V_(n))}const G_="0.3.0";return H_("wti-element",{"spec-url":"","spec-type":"openapi",theme:"light",locale:"en"},e=>(F_(),Gp({spec:(()=>{if(e["spec-url"])return e["spec-type"]==="grpc"?{type:"grpc",endpoint:e["spec-url"]}:{type:"openapi",url:e["spec-url"]}})(),theme:e.theme,locale:e.locale}))),gs.VERSION=G_,gs.WTI=Gp,Object.defineProperty(gs,Symbol.toStringTag,{value:"Module"}),gs})({});
//# sourceMappingURL=wti-element.iife.js.map
